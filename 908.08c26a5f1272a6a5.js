"use strict";(self.webpackChunkz4d_plugin=self.webpackChunkz4d_plugin||[]).push([[908],{5908:(ke,j,l)=>{l.r(j),l.d(j,{AdminModule:()=>ge});var R=l(93887),b=l(93331),_=l(38117),E=l(28990),e=l(54438),f=l(60177),m=l(45794),p=l(3366),o=l(19664);let I=(()=>{class n{toastr;apiService;translate;permitToJoin;constructor(t,s,i){this.toastr=t,this.apiService=s,this.translate=i}ngOnInit(){this.apiService.getPermitToJoin().subscribe(t=>{this.permitToJoin=t})}updatePermitToJoin(t){this.permitToJoin.PermitToJoin=t,this.apiService.putPermitToJoin(this.permitToJoin).subscribe(()=>{switch(t){case 240:this.toastr.success(this.translate.instant("admin.permittojoin.4min.notify"));break;case 0:this.toastr.success(this.translate.instant("admin.permittojoin.stop.notify"));break;default:this.toastr.success(this.translate.instant("api.global.succes.commandsent.notify"))}})}static \u0275fac=function(s){return new(s||n)(e.rXU(m.tw),e.rXU(p.G),e.rXU(o.c$))};static \u0275cmp=e.VBU({type:n,selectors:[["app-permit-to-join"]],decls:18,vars:4,consts:[[1,"card"],["translate","admin.permittojoin.title",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-footer","d-flex","justify-content-end"],["translate","admin.permittojoin.stop.button",1,"btn","btn-secondary",3,"click","disabled"],["translate","admin.permittojoin.4min.button",1,"ms-2","btn","btn-success",3,"click"]],template:function(s,i){1&s&&(e.j41(0,"div",0),e.EFF(1,"\n  "),e.nrm(2,"div",1),e.EFF(3,"\n  "),e.j41(4,"div",2),e.EFF(5,"\n    "),e.nrm(6,"p",3),e.nI1(7,"translate"),e.EFF(8,"\n  "),e.k0s(),e.EFF(9,"\n  "),e.j41(10,"div",4),e.EFF(11,"\n    "),e.j41(12,"button",5),e.bIt("click",function(){return i.updatePermitToJoin(0)}),e.k0s(),e.EFF(13,"\n    "),e.j41(14,"button",6),e.bIt("click",function(){return i.updatePermitToJoin(240)}),e.k0s(),e.EFF(15,"\n  "),e.k0s(),e.EFF(16,"\n"),e.k0s(),e.EFF(17,"\n")),2&s&&(e.R7$(6),e.Y8G("innerHTML",e.bMT(7,2,"admin.permittojoin.subtitle"),e.npT),e.R7$(6),e.Y8G("disabled",0===(null==i.permitToJoin?null:i.permitToJoin.PermitToJoin)))},dependencies:[o.Mm,o.D9]})}return n})();var a=l(89417),C=l(27468),u=l(97013);function $(n,c){if(1&n&&(e.EFF(0,"\n                "),e.j41(1,"span"),e.EFF(2," "),e.j41(3,"b"),e.EFF(4,"Name"),e.k0s(),e.EFF(5),e.j41(6,"b"),e.EFF(7,"NwkId"),e.k0s(),e.EFF(8),e.k0s(),e.EFF(9,"\n              ")),2&n){const t=c.item;e.R7$(5),e.SpI(" : ",t.ZDeviceName," - "),e.R7$(3),e.SpI(" : ",t._NwkId,"")}}let y=(()=>{class n extends E.U{toastr;formBuilder;apiService;translate;permitToJoin;routers;form;constructor(t,s,i,r){super(),this.toastr=t,this.formBuilder=s,this.apiService=i,this.translate=r}ngOnInit(){this.form=this.formBuilder.group({deviceSelected:[null,a.k0.required]}),this.subs.sink=(0,C.p)([this.apiService.getPermitToJoin(),this.apiService.getZDevices(!0)]).subscribe(([t,s])=>{this.permitToJoin=t,this.routers=s.filter(i=>"Router"===i.LogicalType||"Coordinator"===i.LogicalType)})}updatePermitToJoin(t){this.permitToJoin.PermitToJoin=t,this.permitToJoin.Router=this.form.get("deviceSelected").value._NwkId,this.apiService.putPermitToJoin(this.permitToJoin).subscribe(()=>{switch(t){case 240:this.toastr.success(this.translate.instant("admin.permittojoin.4min.notify"));break;case 0:this.toastr.success(this.translate.instant("admin.permittojoin.stop.notify"));break;default:this.toastr.success(this.translate.instant("api.global.succes.commandsent.notify"))}})}static \u0275fac=function(s){return new(s||n)(e.rXU(m.tw),e.rXU(a.ok),e.rXU(p.G),e.rXU(o.c$))};static \u0275cmp=e.VBU({type:n,selectors:[["app-permit-to-join-router"]],features:[e.Vt3],decls:36,vars:13,consts:[[3,"formGroup"],[1,"card"],["translate","admin.permittojoinrouter.title",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-text"],[1,"row"],[1,"col-sm"],["bindLabel","ZDeviceName","formControlName","deviceSelected",3,"items","multiple","closeOnSelect","searchable","placeholder"],["ng-option-tmp",""],[1,"card-footer","d-flex","justify-content-end"],["translate","admin.permittojoin.4min.button",1,"btn","btn-success",3,"click","disabled"],["translate","admin.permittojoin.stop.button",1,"ms-2","btn","btn-secondary",3,"click","disabled"]],template:function(s,i){1&s&&(e.j41(0,"form",0),e.EFF(1,"\n  "),e.j41(2,"div",1),e.EFF(3,"\n    "),e.nrm(4,"div",2),e.EFF(5,"\n    "),e.j41(6,"div",3),e.EFF(7,"\n      "),e.nrm(8,"p",4),e.nI1(9,"translate"),e.EFF(10,"\n      "),e.j41(11,"div",5),e.EFF(12,"\n        "),e.j41(13,"div",6),e.EFF(14,"\n          "),e.j41(15,"div",7),e.EFF(16,"\n            "),e.j41(17,"ng-select",8),e.nI1(18,"translate"),e.EFF(19,"\n              "),e.DNE(20,$,10,2,"ng-template",9),e.EFF(21,"\n            "),e.k0s(),e.EFF(22,"\n          "),e.k0s(),e.EFF(23,"\n        "),e.k0s(),e.EFF(24,"\n      "),e.k0s(),e.EFF(25,"\n    "),e.k0s(),e.EFF(26,"\n    "),e.j41(27,"div",10),e.EFF(28,"\n      "),e.j41(29,"button",11),e.bIt("click",function(){return i.updatePermitToJoin(240)}),e.k0s(),e.EFF(30,"\n      "),e.j41(31,"button",12),e.bIt("click",function(){return i.updatePermitToJoin(0)}),e.k0s(),e.EFF(32,"\n    "),e.k0s(),e.EFF(33,"\n  "),e.k0s(),e.EFF(34,"\n"),e.k0s(),e.EFF(35,"\n")),2&s&&(e.Y8G("formGroup",i.form),e.R7$(8),e.Y8G("innerHTML",e.bMT(9,9,"admin.permittojoinrouter.subtitle"),e.npT),e.R7$(9),e.FS9("placeholder",e.bMT(18,11,"tools.debugcommand.device")),e.Y8G("items",i.routers)("multiple",!1)("closeOnSelect",!0)("searchable",!0),e.R7$(12),e.Y8G("disabled",!i.form.valid),e.R7$(2),e.Y8G("disabled",0===(null==i.permitToJoin?null:i.permitToJoin.PermitToJoin)))},dependencies:[a.qT,a.BC,a.cb,a.j4,a.JD,u.vr,u.Uq,o.Mm,o.D9]})}return n})(),N=(()=>{class n{toastr;apiService;translate;permitToJoin;constructor(t,s,i){this.toastr=t,this.apiService=s,this.translate=i}swReset(){this.apiService.getSwReset().subscribe(()=>{this.toastr.success(this.translate.instant("admin.coordinator.swreset.notify"))})}static \u0275fac=function(s){return new(s||n)(e.rXU(m.tw),e.rXU(p.G),e.rXU(o.c$))};static \u0275cmp=e.VBU({type:n,selectors:[["app-sw-reset"]],decls:16,vars:3,consts:[[1,"card"],["translate","admin.coordinator.swreset.title",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-footer","d-flex","justify-content-end"],["translate","admin.coordinator.swreset.button",1,"btn","btn-primary",3,"click"]],template:function(s,i){1&s&&(e.j41(0,"div",0),e.EFF(1,"\n  "),e.nrm(2,"div",1),e.EFF(3,"\n  "),e.j41(4,"div",2),e.EFF(5,"\n    "),e.nrm(6,"p",3),e.nI1(7,"translate"),e.EFF(8,"\n  "),e.k0s(),e.EFF(9,"\n  "),e.j41(10,"div",4),e.EFF(11,"\n    "),e.j41(12,"button",5),e.bIt("click",function(){return i.swReset()}),e.k0s(),e.EFF(13,"\n  "),e.k0s(),e.EFF(14,"\n"),e.k0s(),e.EFF(15,"\n")),2&s&&(e.R7$(6),e.Y8G("innerHTML",e.bMT(7,1,"admin.coordinator.swreset.subtitle"),e.npT))},dependencies:[o.Mm,o.D9]})}return n})();var h=l(38852),g=l(88652);function G(n,c){if(1&n){const t=e.RV6();e.EFF(0,"\n  "),e.j41(1,"div",7),e.EFF(2,"\n    "),e.nrm(3,"h4",8),e.EFF(4,"\n    "),e.j41(5,"button",9),e.bIt("click",function(){const i=e.eBV(t).$implicit;return e.Njj(i.dismiss("Cross click"))}),e.k0s(),e.EFF(6,"\n  "),e.k0s(),e.EFF(7,"\n  "),e.nrm(8,"div",10),e.EFF(9,"\n  "),e.j41(10,"div",11),e.EFF(11,"\n    "),e.j41(12,"button",12),e.bIt("click",function(){const i=e.eBV(t).$implicit;return e.Njj(i.close("erase"))}),e.k0s(),e.EFF(13,"\n    "),e.j41(14,"button",13),e.bIt("click",function(){const i=e.eBV(t).$implicit;return e.Njj(i.dismiss("cancel"))}),e.k0s(),e.EFF(15,"\n  "),e.k0s(),e.EFF(16,"\n")}}let M=(()=>{class n{headerService;modalService;toastr;apiService;translate;constructor(t,s,i,r,d){this.headerService=t,this.modalService=s,this.toastr=i,this.apiService=r,this.translate=d}reloadPlugin(){this.apiService.getReloadPlugin().subscribe(()=>{this.toastr.success(this.translate.instant("admin.plugin.reload.notify")),this.headerService.setRestart(!1)})}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(()=>{this.reloadPlugin()})}static \u0275fac=function(s){return new(s||n)(e.rXU(h.d),e.rXU(g.Bq),e.rXU(m.tw),e.rXU(p.G),e.rXU(o.c$))};static \u0275cmp=e.VBU({type:n,selectors:[["app-reload-plugin"]],decls:19,vars:3,consts:[["content",""],[1,"card"],["translate","admin.plugin.reload.title",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-footer","d-flex","justify-content-end"],["translate","admin.plugin.reload.button",1,"btn","btn-primary","mt-3",3,"click"],[1,"modal-header"],["id","modal-basic-title","translate","admin.plugin.reload.alert.title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["translate","admin.plugin.reload.alert.subject",1,"modal-body"],[1,"modal-footer"],["type","button","translate","admin.plugin.reload.alert.erase",1,"btn","btn-primary",3,"click"],["type","button","translate","admin.plugin.reload.alert.cancel",1,"btn","btn-outline-dark",3,"click"]],template:function(s,i){if(1&s){const r=e.RV6();e.j41(0,"div",1),e.EFF(1,"\n  "),e.nrm(2,"div",2),e.EFF(3,"\n  "),e.j41(4,"div",3),e.EFF(5,"\n    "),e.nrm(6,"p",4),e.nI1(7,"translate"),e.EFF(8,"\n  "),e.k0s(),e.EFF(9,"\n  "),e.j41(10,"div",5),e.EFF(11,"\n    "),e.j41(12,"button",6),e.bIt("click",function(){e.eBV(r);const F=e.sdS(17);return e.Njj(i.open(F))}),e.k0s(),e.EFF(13,"\n  "),e.k0s(),e.EFF(14,"\n"),e.k0s(),e.EFF(15,"\n\n"),e.DNE(16,G,17,0,"ng-template",null,0,e.C5r),e.EFF(18,"\n")}2&s&&(e.R7$(6),e.Y8G("innerHTML",e.bMT(7,1,"admin.plugin.reload.subtitle"),e.npT))},dependencies:[o.Mm,o.D9]})}return n})(),D=(()=>{class n{toastr;apiService;translate;headerService;constructor(t,s,i,r){this.toastr=t,this.apiService=s,this.translate=i,this.headerService=r}rescanGroup(){this.apiService.getRescanGroup().subscribe(()=>{this.toastr.success(this.translate.instant("api.global.succes.scanlaunched.notify")),this.apiService.getRestartNeeded().subscribe(t=>{1===t.RestartNeeded&&this.headerService.setRestart(!0)})})}static \u0275fac=function(s){return new(s||n)(e.rXU(m.tw),e.rXU(p.G),e.rXU(o.c$),e.rXU(h.d))};static \u0275cmp=e.VBU({type:n,selectors:[["app-rescan-group"]],decls:16,vars:3,consts:[[1,"card"],["translate","admin.rescan.group.title",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-footer","d-flex","justify-content-end"],["translate","admin.rescan.group.button",1,"btn","btn-primary",3,"click"]],template:function(s,i){1&s&&(e.j41(0,"div",0),e.EFF(1,"\n  "),e.nrm(2,"div",1),e.EFF(3,"\n  "),e.j41(4,"div",2),e.EFF(5,"\n    "),e.nrm(6,"p",3),e.nI1(7,"translate"),e.EFF(8,"\n  "),e.k0s(),e.EFF(9,"\n  "),e.j41(10,"div",4),e.EFF(11,"\n    "),e.j41(12,"button",5),e.bIt("click",function(){return i.rescanGroup()}),e.k0s(),e.EFF(13,"\n  "),e.k0s(),e.EFF(14,"\n"),e.k0s(),e.EFF(15,"\n")),2&s&&(e.R7$(6),e.Y8G("innerHTML",e.bMT(7,1,"admin.rescan.group.subtitle"),e.npT))},dependencies:[o.Mm,o.D9]})}return n})();var U=l(41584),T=l(70274),k=l(96354),v=l(36554);function L(n,c){if(1&n&&(e.j41(0,"span",23),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"\n              "),e.k0s()),2&n){const t=c.$implicit;e.R7$(),e.SpI("\n                - ",e.bMT(2,3,"admin.assistprovisionning.alert.cluster"),"\xa0"),e.R7$(3),e.Lme("",t.ClusterId," (",t.ClusterDesc,")")}}function P(n,c){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"\n              "),e.DNE(6,L,6,5,"span",22),e.EFF(7,"\n            "),e.k0s()),2&n){const t=c.$implicit;e.R7$(),e.SpI("\n              ",e.bMT(2,3,"admin.assistprovisionning.alert.ep"),"\xa0"),e.R7$(3),e.JRh(t.Ep),e.R7$(2),e.Y8G("ngForOf",t.Clusters)}}function B(n,c){if(1&n&&(e.j41(0,"div",17),e.EFF(1,"\n      "),e.j41(2,"fieldset",18),e.EFF(3,"\n        "),e.j41(4,"div",19),e.EFF(5,"\n          "),e.j41(6,"div",20),e.EFF(7),e.nI1(8,"translate"),e.j41(9,"b"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.EFF(12,"\n          "),e.k0s(),e.EFF(13,"\n          "),e.j41(14,"div",20),e.EFF(15),e.nI1(16,"translate"),e.j41(17,"b"),e.EFF(18),e.k0s(),e.EFF(19,"\n          "),e.k0s(),e.EFF(20,"\n          "),e.j41(21,"div",20),e.EFF(22),e.nI1(23,"translate"),e.j41(24,"b"),e.EFF(25),e.k0s(),e.EFF(26,"\n          "),e.k0s(),e.EFF(27,"\n          "),e.j41(28,"div",20),e.EFF(29),e.nI1(30,"translate"),e.j41(31,"b"),e.EFF(32),e.k0s(),e.EFF(33,"\n          "),e.k0s(),e.EFF(34,"\n          "),e.j41(35,"div",20),e.EFF(36),e.nI1(37,"translate"),e.j41(38,"b"),e.EFF(39),e.k0s(),e.EFF(40,"\n          "),e.k0s(),e.EFF(41,"\n          "),e.j41(42,"div",20),e.EFF(43),e.nI1(44,"translate"),e.j41(45,"b"),e.EFF(46),e.k0s(),e.EFF(47,"\n          "),e.k0s(),e.EFF(48,"\n          "),e.j41(49,"div",20),e.EFF(50),e.nI1(51,"translate"),e.j41(52,"b"),e.EFF(53),e.k0s(),e.EFF(54,"\n          "),e.k0s(),e.EFF(55,"\n          "),e.j41(56,"div",20),e.EFF(57,"\n            "),e.DNE(58,P,8,5,"div",21),e.EFF(59,"\n          "),e.k0s(),e.EFF(60,"\n          "),e.j41(61,"div",20),e.EFF(62),e.nI1(63,"translate"),e.j41(64,"b"),e.EFF(65),e.k0s(),e.EFF(66,"\n          "),e.k0s(),e.EFF(67,"\n        "),e.k0s(),e.EFF(68,"\n      "),e.k0s(),e.EFF(69,"\n    "),e.k0s()),2&n){const t=c.$implicit;e.R7$(7),e.SpI("\n            ",e.bMT(8,20,"admin.assistprovisionning.alert.state"),"\xa0"),e.R7$(3),e.Lme("",t.ProvisionStatus," (",e.bMT(11,22,"admin.assistprovisionning.alert."+t.ProvisionStatus),")"),e.R7$(5),e.SpI("\n            ",e.bMT(16,24,"admin.assistprovisionning.alert.nwkid"),"\xa0"),e.R7$(3),e.JRh(t.NwkId),e.R7$(4),e.SpI("\n            ",e.bMT(23,26,"admin.assistprovisionning.alert.ieee"),"\xa0"),e.R7$(3),e.JRh(t.IEEE),e.R7$(4),e.SpI("\n            ",e.bMT(30,28,"admin.assistprovisionning.alert.profile"),"\xa0"),e.R7$(3),e.Lme("",t.ProfileId," (",t.ProfileIdDesc,")"),e.R7$(4),e.SpI("\n            ",e.bMT(37,30,"admin.assistprovisionning.alert.device"),"\xa0"),e.R7$(3),e.Lme("",t.ZDeviceID," (",t.ZDeviceIDDesc,")"),e.R7$(4),e.SpI("\n            ",e.bMT(44,32,"admin.assistprovisionning.alert.model"),"\xa0"),e.R7$(3),e.JRh(t.Model),e.R7$(4),e.SpI("\n            ",e.bMT(51,34,"admin.assistprovisionning.alert.plugincertified"),"\xa0"),e.R7$(3),e.JRh(t.PluginCertified),e.R7$(5),e.Y8G("ngForOf",t.Ep),e.R7$(4),e.SpI("\n            ",e.bMT(63,36,"admin.assistprovisionning.alert.widgets"),"\xa0"),e.R7$(3),e.JRh(null==t||null==t.device?null:t.device.WidgetList)}}function X(n,c){if(1&n){const t=e.RV6();e.EFF(0,"\n  "),e.j41(1,"div",7),e.EFF(2,"\n    "),e.nrm(3,"h4",8),e.EFF(4,"\n    "),e.j41(5,"button",9),e.bIt("click",function(){const i=e.eBV(t).$implicit;return e.Njj(i.close("cancel"))}),e.k0s(),e.EFF(6,"\n  "),e.k0s(),e.EFF(7,"\n\n  "),e.j41(8,"div",10),e.EFF(9,"\n    "),e.nrm(10,"ngx-spinner",11),e.EFF(11,"\n  "),e.k0s(),e.EFF(12,"\n  "),e.j41(13,"div",12),e.EFF(14,"\n    "),e.nrm(15,"span",13),e.EFF(16,"\n    "),e.DNE(17,B,70,38,"div",14),e.EFF(18,"\n  "),e.k0s(),e.EFF(19,"\n  "),e.j41(20,"div",15),e.EFF(21,"\n    "),e.j41(22,"button",16),e.bIt("click",function(){const i=e.eBV(t).$implicit;return e.Njj(i.close("cancel"))}),e.k0s(),e.EFF(23,"\n  "),e.k0s(),e.EFF(24,"\n")}if(2&n){const t=e.XpG();e.R7$(10),e.Y8G("name","assist")("fullScreen",!1),e.R7$(7),e.Y8G("ngForOf",t.devicePaired)}}let Y=(()=>{class n extends E.U{toastr;apiService;modalService;spinner;newDevices;devices;devicePaired;constructor(t,s,i,r){super(),this.toastr=t,this.apiService=s,this.modalService=i,this.spinner=r}ngOnInit(){this.newDevices=null,this.devices=null,this.devicePaired=[]}open(t){this.newDevices=null,this.devices=null,this.devicePaired=[],this.spinner.show("assist"),this.subs.sink=this.apiService.getNewHardware(!0).pipe((0,T.H)(()=>(0,U.O)(0,1e4).pipe((0,T.H)(()=>this.apiService.getReceiveNewHardware())).pipe((0,k.T)(s=>{this.newDevices=s,this.newDevices.NewDevices&&this.newDevices.NewDevices.length>0&&this.createwidgets()})))).subscribe(),this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",size:"lg",backdrop:"static",keyboard:!1}).result.then(()=>{this.spinner.hide("assist"),this.apiService.getNewHardware(!1).subscribe(),this.subs.unsubscribe()})}createwidgets(){this.newDevices.NewDevices.forEach(t=>{t.ProvisionStatus&&this.apiService.getZDeviceName().subscribe(s=>{this.devices=s,t.device=this.devices.find(i=>i._NwkId===t.NwkId),this.devicePaired.push(t)})})}static \u0275fac=function(s){return new(s||n)(e.rXU(m.tw),e.rXU(p.G),e.rXU(g.Bq),e.rXU(v.ex))};static \u0275cmp=e.VBU({type:n,selectors:[["app-assist-provisionning"]],features:[e.Vt3],decls:19,vars:3,consts:[["content",""],[1,"card"],["translate","admin.assistprovisionning.title",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-footer","d-flex","justify-content-end"],["translate","admin.assistprovisionning.go.button",1,"btn","btn-primary",3,"click"],[1,"modal-header"],["id","modal-basic-title","translate","admin.assistprovisionning.alert.title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","mt-3"],["type","line-scale","size","medium","bdColor","white","color","red",3,"name","fullScreen"],[1,"modal-body"],["translate","admin.assistprovisionning.alert.subject",1,"row","ms-2"],["class","mt-1",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","translate","admin.assistprovisionning.alert.cancel",1,"btn","btn-primary",3,"click"],[1,"mt-1"],[1,"border","p-2"],[1,"ms-2"],[1,"row"],[4,"ngFor","ngForOf"],["class","ms-2 row",4,"ngFor","ngForOf"],[1,"ms-2","row"]],template:function(s,i){if(1&s){const r=e.RV6();e.j41(0,"div",1),e.EFF(1,"\n  "),e.nrm(2,"div",2),e.EFF(3,"\n  "),e.j41(4,"div",3),e.EFF(5,"\n    "),e.nrm(6,"p",4),e.nI1(7,"translate"),e.EFF(8,"\n  "),e.k0s(),e.EFF(9,"\n  "),e.j41(10,"div",5),e.EFF(11,"\n    "),e.j41(12,"button",6),e.bIt("click",function(){e.eBV(r);const F=e.sdS(17);return e.Njj(i.open(F))}),e.k0s(),e.EFF(13,"\n  "),e.k0s(),e.EFF(14,"\n"),e.k0s(),e.EFF(15,"\n\n"),e.DNE(16,X,25,3,"ng-template",null,0,e.C5r),e.EFF(18,"\n")}2&s&&(e.R7$(6),e.Y8G("innerHTML",e.bMT(7,1,"admin.assistprovisionning.subtitle"),e.npT))},dependencies:[f.Sq,o.Mm,v.et,o.D9]})}return n})();var J=l(12298);function A(n,c){if(1&n&&(e.EFF(0,"\n            "),e.j41(1,"span"),e.EFF(2,"\n              "),e.j41(3,"b"),e.EFF(4,"Widget"),e.k0s(),e.EFF(5),e.j41(6,"b"),e.EFF(7,"IEEE"),e.k0s(),e.EFF(8),e.j41(9,"b"),e.EFF(10,"Ep"),e.k0s(),e.EFF(11),e.j41(12,"b"),e.EFF(13,"Id"),e.k0s(),e.EFF(14),e.j41(15,"b"),e.EFF(16),e.k0s(),e.EFF(17,"\n            "),e.k0s(),e.EFF(18,"\n          ")),2&n){const t=c.item;e.R7$(5),e.SpI(" : ",t.Name," - "),e.R7$(3),e.SpI(" : ",t.IEEE," - "),e.R7$(3),e.SpI(" : ",t.Ep," - "),e.R7$(3),e.SpI(" :\n              ",t._ID," -\n              "),e.R7$(2),e.JRh(t.ZDeviceName)}}let O=(()=>{class n{toastr;apiService;translate;formBuilder;devices;form;constructor(t,s,i,r){this.toastr=t,this.apiService=s,this.translate=i,this.formBuilder=r}ngOnInit(){this.form=this.formBuilder.group({deviceSelected:[null,a.k0.required]}),this.apiService.getZGroupDevicesAvalaible().subscribe(t=>{const s=[];t&&t.length>0&&(t.forEach(i=>{i.WidgetList.forEach(r=>{if("0000"!==i._NwkId){const d=new J.ij;d.Ep=r.Ep,d.IEEE=r.IEEE,d.Name=r.Name,d.ZDeviceName=r.ZDeviceName,d._ID=r._ID,d._NwkId=i._NwkId,s.push(d)}})}),this.devices=[...s])})}scan(){const t=[];this.form.get("deviceSelected").value.forEach(i=>t.push(i._NwkId)),this.apiService.putScanDeviceForGrp(t).subscribe(()=>{this.toastr.success(this.translate.instant("api.global.succes.scanlaunched.notify"))})}static \u0275fac=function(s){return new(s||n)(e.rXU(m.tw),e.rXU(p.G),e.rXU(o.c$),e.rXU(a.ok))};static \u0275cmp=e.VBU({type:n,selectors:[["app-scan-group-device"]],decls:28,vars:12,consts:[[3,"formGroup"],[1,"card"],["translate","admin.scan.group.device.title",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-text"],["bindLabel","Name","formControlName","deviceSelected",3,"items","multiple","closeOnSelect","searchable","placeholder"],["ng-option-tmp",""],[1,"card-footer","d-flex","justify-content-end"],["translate","admin.scan.group.device.button",1,"btn","btn-primary",3,"click","disabled"]],template:function(s,i){1&s&&(e.j41(0,"form",0),e.EFF(1,"\n  "),e.j41(2,"div",1),e.EFF(3,"\n    "),e.nrm(4,"div",2),e.EFF(5,"\n    "),e.j41(6,"div",3),e.EFF(7,"\n      "),e.nrm(8,"p",4),e.nI1(9,"translate"),e.EFF(10,"\n      "),e.j41(11,"div",5),e.EFF(12,"\n        "),e.j41(13,"ng-select",6),e.nI1(14,"translate"),e.EFF(15,"\n          "),e.DNE(16,A,19,5,"ng-template",7),e.EFF(17,"\n        "),e.k0s(),e.EFF(18,"\n      "),e.k0s(),e.EFF(19,"\n    "),e.k0s(),e.EFF(20,"\n    "),e.j41(21,"div",8),e.EFF(22,"\n      "),e.j41(23,"button",9),e.bIt("click",function(){return i.scan()}),e.k0s(),e.EFF(24,"\n    "),e.k0s(),e.EFF(25,"\n  "),e.k0s(),e.EFF(26,"\n"),e.k0s(),e.EFF(27,"\n")),2&s&&(e.Y8G("formGroup",i.form),e.R7$(8),e.Y8G("innerHTML",e.bMT(9,8,"admin.scan.group.device.subtitle"),e.npT),e.R7$(5),e.FS9("placeholder",e.bMT(14,10,"admin.scan.group.device.placeholder")),e.Y8G("items",i.devices)("multiple",!0)("closeOnSelect",!1)("searchable",!0),e.R7$(10),e.Y8G("disabled",!i.form.valid))},dependencies:[a.qT,a.BC,a.cb,a.j4,a.JD,u.vr,u.Uq,o.Mm,o.D9]})}return n})();function V(n,c){if(1&n){const t=e.RV6();e.j41(0,"div",7),e.EFF(1,"\n      "),e.nrm(2,"label",8),e.EFF(3,"\n      "),e.j41(4,"div",9),e.EFF(5,"\n        "),e.j41(6,"ng-select",10),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.DH7(r.selectedChannel,i)||(r.selectedChannel=i),e.Njj(i)}),e.EFF(7,"\n          >\n        "),e.k0s(),e.EFF(8,"\n      "),e.k0s(),e.EFF(9,"\n    "),e.k0s()}if(2&n){const t=e.XpG();e.R7$(6),e.Y8G("items",t.list)("compareWith",t.compareNumeric)("closeOnSelect",!0),e.R50("ngModel",t.selectedChannel)}}let x=(()=>{class n{toastr;apiService;translate;settings;channel;list=[];selectedChannel;constructor(t,s,i){this.toastr=t,this.apiService=s,this.translate=i}ngOnInit(){this.apiService.getSettings().subscribe(t=>{this.settings=t;const s=this.settings.find(i=>"CoordinatorConfiguration"===i._Theme);this.channel=s.ListOfSettings.find(i=>"channel"===i.Name),this.selectedChannel=this.channel.current_value,this.channel.list.forEach(i=>{const r=Object.keys(i)[0],d=Object.values(i)[0];this.list.push({label:r,value:d})})})}compareNumeric(t,s){return isNaN(t.value)?t.value===s:t.value===Number(s)}switchChannel(){this.apiService.putChangeChannel(this.selectedChannel).subscribe(()=>{this.toastr.success(this.translate.instant("admin.coordinator.switchchannel.notify"))})}static \u0275fac=function(s){return new(s||n)(e.rXU(m.tw),e.rXU(p.G),e.rXU(o.c$))};static \u0275cmp=e.VBU({type:n,selectors:[["app-switch-channel"]],decls:18,vars:5,consts:[[1,"card"],["translate","admin.coordinator.switchchannel.title",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],["class","form-group row mt-2",4,"ngIf"],[1,"card-footer","d-flex","justify-content-end"],["translate","admin.coordinator.switchchannel.button",1,"btn","btn-primary",3,"click","disabled"],[1,"form-group","row","mt-2"],["for","current","translate","admin.coordinator.switchchannel.placeholder",1,"col-sm-6","col-form-label"],[1,"col-sm"],["bindLabel","label","bindValue","value",3,"ngModelChange","items","compareWith","closeOnSelect","ngModel"]],template:function(s,i){1&s&&(e.j41(0,"div",0),e.EFF(1,"\n  "),e.nrm(2,"div",1),e.EFF(3,"\n  "),e.j41(4,"div",2),e.EFF(5,"\n    "),e.nrm(6,"p",3),e.nI1(7,"translate"),e.EFF(8,"\n    "),e.DNE(9,V,10,4,"div",4),e.EFF(10,"\n  "),e.k0s(),e.EFF(11,"\n  "),e.j41(12,"div",5),e.EFF(13,"\n    "),e.j41(14,"button",6),e.bIt("click",function(){return i.switchChannel()}),e.k0s(),e.EFF(15,"\n  "),e.k0s(),e.EFF(16,"\n"),e.k0s(),e.EFF(17,"\n")),2&s&&(e.R7$(6),e.Y8G("innerHTML",e.bMT(7,3,"admin.coordinator.switchchannel.subtitle"),e.npT),e.R7$(3),e.Y8G("ngIf",i.channel),e.R7$(5),e.Y8G("disabled",!i.selectedChannel))},dependencies:[f.bT,a.BC,a.vS,u.vr,o.Mm,o.D9]})}return n})();function H(n,c){if(1&n&&(e.EFF(0,"\n                "),e.j41(1,"span"),e.EFF(2," "),e.j41(3,"b"),e.EFF(4,"Name"),e.k0s(),e.EFF(5),e.j41(6,"b"),e.EFF(7,"NwkId"),e.k0s(),e.EFF(8),e.k0s(),e.EFF(9,"\n              ")),2&n){const t=c.item;e.R7$(5),e.SpI(" : ",t.ZDeviceName," - "),e.R7$(3),e.SpI(" : ",t._NwkId,"")}}let Z=(()=>{class n extends E.U{toastr;formBuilder;apiService;translate;devices$;form;constructor(t,s,i,r){super(),this.toastr=t,this.formBuilder=s,this.apiService=i,this.translate=r}ngOnInit(){this.form=this.formBuilder.group({deviceSelected:[null,a.k0.required]}),this.devices$=this.apiService.getZDeviceName()}fullReset(){this.apiService.putPairingFullReset(this.form.get("deviceSelected").value._NwkId).subscribe(()=>{this.toastr.success(this.translate.instant("admin.fullreset.notify"))})}static \u0275fac=function(s){return new(s||n)(e.rXU(m.tw),e.rXU(a.ok),e.rXU(p.G),e.rXU(o.c$))};static \u0275cmp=e.VBU({type:n,selectors:[["app-pairing-full-reset"]],features:[e.Vt3],decls:35,vars:14,consts:[[3,"formGroup"],[1,"card"],["translate","admin.fullreset.title",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-text"],[1,"row"],[1,"col-sm"],["bindLabel","ZDeviceName","formControlName","deviceSelected",3,"items","multiple","closeOnSelect","searchable","placeholder"],["ng-option-tmp",""],[1,"card-footer","d-flex","justify-content-end"],["translate","admin.fullreset.button",1,"btn","btn-primary",3,"click","disabled"]],template:function(s,i){1&s&&(e.j41(0,"form",0),e.EFF(1,"\n  "),e.j41(2,"div",1),e.EFF(3,"\n    "),e.nrm(4,"div",2),e.EFF(5,"\n    "),e.j41(6,"div",3),e.EFF(7,"\n      "),e.nrm(8,"p",4),e.nI1(9,"translate"),e.EFF(10,"\n      "),e.j41(11,"div",5),e.EFF(12,"\n        "),e.j41(13,"div",6),e.EFF(14,"\n          "),e.j41(15,"div",7),e.EFF(16,"\n            "),e.j41(17,"ng-select",8),e.nI1(18,"translate"),e.nI1(19,"async"),e.EFF(20,"\n              "),e.DNE(21,H,10,2,"ng-template",9),e.EFF(22,"\n            "),e.k0s(),e.EFF(23,"\n          "),e.k0s(),e.EFF(24,"\n        "),e.k0s(),e.EFF(25,"\n      "),e.k0s(),e.EFF(26,"\n    "),e.k0s(),e.EFF(27,"\n    "),e.j41(28,"div",10),e.EFF(29,"\n      "),e.j41(30,"button",11),e.bIt("click",function(){return i.fullReset()}),e.k0s(),e.EFF(31,"\n    "),e.k0s(),e.EFF(32,"\n  "),e.k0s(),e.EFF(33,"\n"),e.k0s(),e.EFF(34,"\n")),2&s&&(e.Y8G("formGroup",i.form),e.R7$(8),e.Y8G("innerHTML",e.bMT(9,8,"admin.fullreset.subtitle"),e.npT),e.R7$(9),e.FS9("placeholder",e.bMT(18,10,"admin.fullreset.device.placeholder")),e.Y8G("items",e.bMT(19,12,i.devices$))("multiple",!1)("closeOnSelect",!0)("searchable",!0),e.R7$(13),e.Y8G("disabled",i.form.invalid))},dependencies:[a.qT,a.BC,a.cb,a.j4,a.JD,u.vr,u.Uq,o.Mm,f.Jj,o.D9]})}return n})();function W(n,c){if(1&n&&(e.EFF(0,"\n                "),e.j41(1,"span"),e.EFF(2," "),e.j41(3,"b"),e.EFF(4,"Name"),e.k0s(),e.EFF(5),e.j41(6,"b"),e.EFF(7,"NwkId"),e.k0s(),e.EFF(8),e.k0s(),e.EFF(9,"\n              ")),2&n){const t=c.item;e.R7$(5),e.SpI(" : ",t.ZDeviceName," - "),e.R7$(3),e.SpI(" : ",t._NwkId,"")}}let z=(()=>{class n extends E.U{toastr;formBuilder;apiService;translate;devices$;form;constructor(t,s,i,r){super(),this.toastr=t,this.formBuilder=s,this.apiService=i,this.translate=r}ngOnInit(){this.form=this.formBuilder.group({deviceSelected:[null,a.k0.required]}),this.devices$=this.apiService.getZDeviceName()}recreate(){this.apiService.putRecreateWidgets(this.form.get("deviceSelected").value._NwkId).subscribe(()=>{this.toastr.success(this.translate.instant("admin.recreate.notify"))})}static \u0275fac=function(s){return new(s||n)(e.rXU(m.tw),e.rXU(a.ok),e.rXU(p.G),e.rXU(o.c$))};static \u0275cmp=e.VBU({type:n,selectors:[["app-recreate-widget"]],features:[e.Vt3],decls:35,vars:14,consts:[[3,"formGroup"],[1,"card"],["translate","admin.recreate.title",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-text"],[1,"row"],[1,"col-sm"],["bindLabel","ZDeviceName","formControlName","deviceSelected",3,"items","multiple","closeOnSelect","searchable","placeholder"],["ng-option-tmp",""],[1,"card-footer","d-flex","justify-content-end"],["translate","admin.recreate.button",1,"btn","btn-primary",3,"click","disabled"]],template:function(s,i){1&s&&(e.j41(0,"form",0),e.EFF(1,"\n  "),e.j41(2,"div",1),e.EFF(3,"\n    "),e.nrm(4,"div",2),e.EFF(5,"\n    "),e.j41(6,"div",3),e.EFF(7,"\n      "),e.nrm(8,"p",4),e.nI1(9,"translate"),e.EFF(10,"\n      "),e.j41(11,"div",5),e.EFF(12,"\n        "),e.j41(13,"div",6),e.EFF(14,"\n          "),e.j41(15,"div",7),e.EFF(16,"\n            "),e.j41(17,"ng-select",8),e.nI1(18,"translate"),e.nI1(19,"async"),e.EFF(20,"\n              "),e.DNE(21,W,10,2,"ng-template",9),e.EFF(22,"\n            "),e.k0s(),e.EFF(23,"\n          "),e.k0s(),e.EFF(24,"\n        "),e.k0s(),e.EFF(25,"\n      "),e.k0s(),e.EFF(26,"\n    "),e.k0s(),e.EFF(27,"\n    "),e.j41(28,"div",10),e.EFF(29,"\n      "),e.j41(30,"button",11),e.bIt("click",function(){return i.recreate()}),e.k0s(),e.EFF(31,"\n    "),e.k0s(),e.EFF(32,"\n  "),e.k0s(),e.EFF(33,"\n"),e.k0s(),e.EFF(34,"\n")),2&s&&(e.Y8G("formGroup",i.form),e.R7$(8),e.Y8G("innerHTML",e.bMT(9,8,"admin.recreate.subtitle"),e.npT),e.R7$(9),e.FS9("placeholder",e.bMT(18,10,"admin.recreate.device.placeholder")),e.Y8G("items",e.bMT(19,12,i.devices$))("multiple",!1)("closeOnSelect",!0)("searchable",!0),e.R7$(13),e.Y8G("disabled",i.form.invalid))},dependencies:[a.qT,a.BC,a.cb,a.j4,a.JD,u.vr,u.Uq,o.Mm,f.Jj,o.D9]})}return n})();var K=l(70980);let Q=(()=>{class n{transform(t){return t?t.replace(/\n/g,"<br/>"):null}static \u0275fac=function(s){return new(s||n)};static \u0275pipe=e.EJ8({name:"nl2br",type:n,pure:!0})}return n})(),q=(()=>{class n{headerService;toastr;apiService;translate;spinner;message;load=!1;constructor(t,s,i,r,d){this.headerService=t,this.toastr=s,this.apiService=i,this.translate=r,this.spinner=d}updatePlugin(){this.load=!0,this.message="",this.spinner.show("update-plugin"),this.apiService.getUpgradePlugin().pipe((0,K.j)(()=>this.spinner.hide("update-plugin"))).subscribe(t=>{this.load=!1,this.message=t.result,0===t.ReturnCode?(this.toastr.success(this.translate.instant("admin.plugin.update.success")),this.headerService.setRestart(!0)):this.toastr.error(this.translate.instant("admin.plugin.update.error"))})}static \u0275fac=function(s){return new(s||n)(e.rXU(h.d),e.rXU(m.tw),e.rXU(p.G),e.rXU(o.c$),e.rXU(v.ex))};static \u0275cmp=e.VBU({type:n,selectors:[["app-update-plugin"]],decls:31,vars:9,consts:[[1,"card"],["translate","admin.plugin.update.title",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-text"],["bdColor","rgba(0, 0, 0, 0.5)","size","small","color","#fff","type","line-spin-clockwise-fade-rotating",3,"fullScreen","name"],[1,"text-white"],[1,"mt-3",3,"innerHTML"],[1,"card-footer","d-flex","justify-content-end"],["translate","admin.plugin.update.button",1,"btn","btn-primary",3,"click","disabled"]],template:function(s,i){1&s&&(e.j41(0,"div",0),e.EFF(1,"\n  "),e.nrm(2,"div",1),e.EFF(3,"\n  "),e.j41(4,"div",2),e.EFF(5,"\n    "),e.nrm(6,"p",3),e.nI1(7,"translate"),e.EFF(8,"\n    "),e.j41(9,"div",4),e.EFF(10,"\n      "),e.j41(11,"ngx-spinner",5),e.EFF(12,"\n        "),e.j41(13,"p"),e.EFF(14,"\xa0"),e.k0s(),e.EFF(15,"\n        "),e.j41(16,"p",6),e.EFF(17,"Loading..."),e.k0s(),e.EFF(18,"\n      "),e.k0s(),e.EFF(19,"\n      "),e.nrm(20,"span",7),e.nI1(21,"nl2br"),e.EFF(22,"\n    "),e.k0s(),e.EFF(23,"\n  "),e.k0s(),e.EFF(24,"\n  "),e.j41(25,"div",8),e.EFF(26,"\n    "),e.j41(27,"button",9),e.bIt("click",function(){return i.updatePlugin()}),e.k0s(),e.EFF(28,"\n  "),e.k0s(),e.EFF(29,"\n"),e.k0s(),e.EFF(30,"\n")),2&s&&(e.R7$(6),e.Y8G("innerHTML",e.bMT(7,5,"admin.plugin.update.subtitle"),e.npT),e.R7$(5),e.Y8G("fullScreen",!1)("name","update-plugin"),e.R7$(9),e.Y8G("innerHTML",e.bMT(21,7,i.message),e.npT),e.R7$(7),e.Y8G("disabled",i.load))},dependencies:[o.Mm,v.et,o.D9,Q]})}return n})();function ee(n,c){1&n&&e.nrm(0,"app-assist-provisionning")}function te(n,c){1&n&&e.nrm(0,"app-permit-to-join")}function ne(n,c){1&n&&e.nrm(0,"app-permit-to-join-router")}function ie(n,c){1&n&&e.nrm(0,"app-pairing-full-reset")}function se(n,c){1&n&&e.nrm(0,"app-recreate-widget")}function re(n,c){1&n&&e.nrm(0,"app-sw-reset")}function ae(n,c){1&n&&e.nrm(0,"app-switch-channel")}function oe(n,c){1&n&&e.nrm(0,"app-rescan-group")}function ce(n,c){1&n&&e.nrm(0,"app-scan-group-device")}function le(n,c){1&n&&(e.j41(0,"div",4),e.EFF(1,"\n    "),e.nrm(2,"app-update-plugin"),e.EFF(3,"\n  "),e.k0s())}function de(n,c){1&n&&(e.j41(0,"div",5),e.nrm(1,"app-reload-plugin"),e.k0s())}let me=(()=>{class n extends E.U{activatedRoute;action;constructor(t){super(),this.activatedRoute=t}ngOnInit(){this.subs.sink=this.activatedRoute.queryParamMap.subscribe(t=>{this.action=t.get("action")})}static \u0275fac=function(s){return new(s||n)(e.rXU(b.nX))};static \u0275cmp=e.VBU({type:n,selectors:[["app-admin"]],features:[e.Vt3],decls:25,vars:11,consts:[[1,"row","row-cols-1","row-cols-xxl-5","row-cols-xl-4","row-cols-lg-3","row-cols-md-2","row-cols-sm-1","g-4"],[4,"ngIf"],["class","col-md-12 col-lg-12 col-xl-12 col-xxl-6",4,"ngIf"],["class","col",4,"ngIf"],[1,"col-md-12","col-lg-12","col-xl-12","col-xxl-6"],[1,"col"]],template:function(s,i){1&s&&(e.j41(0,"div",0),e.EFF(1,"\n  "),e.DNE(2,ee,1,0,"app-assist-provisionning",1),e.EFF(3,"\n  "),e.DNE(4,te,1,0,"app-permit-to-join",1),e.EFF(5,"\n  "),e.DNE(6,ne,1,0,"app-permit-to-join-router",1),e.EFF(7,"\n  "),e.DNE(8,ie,1,0,"app-pairing-full-reset",1),e.EFF(9,"\n  "),e.DNE(10,se,1,0,"app-recreate-widget",1),e.EFF(11,"\n  "),e.DNE(12,re,1,0,"app-sw-reset",1),e.EFF(13,"\n  "),e.DNE(14,ae,1,0,"app-switch-channel",1),e.EFF(15,"\n  "),e.DNE(16,oe,1,0,"app-rescan-group",1),e.EFF(17,"\n  "),e.DNE(18,ce,1,0,"app-scan-group-device",1),e.EFF(19,"\n  "),e.DNE(20,le,4,0,"div",2),e.EFF(21,"\n  "),e.DNE(22,de,2,0,"div",3),e.EFF(23,"\n"),e.k0s(),e.EFF(24,"\n")),2&s&&(e.R7$(2),e.Y8G("ngIf","pairing"===i.action),e.R7$(2),e.Y8G("ngIf","pairing"===i.action),e.R7$(2),e.Y8G("ngIf","pairing"===i.action),e.R7$(2),e.Y8G("ngIf","pairing"===i.action),e.R7$(2),e.Y8G("ngIf","pairing"===i.action),e.R7$(2),e.Y8G("ngIf","coordinator"===i.action),e.R7$(2),e.Y8G("ngIf","coordinator"===i.action),e.R7$(2),e.Y8G("ngIf","group"===i.action),e.R7$(2),e.Y8G("ngIf","group"===i.action),e.R7$(2),e.Y8G("ngIf","plugin"===i.action),e.R7$(2),e.Y8G("ngIf","plugin"===i.action))},dependencies:[f.bT,I,y,N,M,D,Y,O,x,Z,z,q]})}return n})();class pe{NwkId;Ep;Brand;FileName;ForceUpdate}var w=l(70152),S=l(23294);function Fe(n,c){if(1&n&&(e.j41(0,"div"),e.EFF(1,"\n              "),e.j41(2,"ng-select",17),e.nI1(3,"translate"),e.EFF(4,"\n              "),e.k0s(),e.EFF(5,"\n            "),e.k0s()),2&n){const t=e.XpG();e.R7$(2),e.FS9("placeholder",e.bMT(3,4,"admin.firmware.list")),e.Y8G("items",t.firmwares)("multiple",!1)("closeOnSelect",!0)}}function ue(n,c){if(1&n&&(e.j41(0,"div"),e.EFF(1,"\n              "),e.j41(2,"ng-select",18),e.nI1(3,"translate"),e.nI1(4,"async"),e.EFF(5,"\n              "),e.k0s(),e.EFF(6,"\n            "),e.k0s()),2&n){const t=e.XpG();e.R7$(2),e.FS9("placeholder",e.bMT(3,4,"admin.firmware.devices.list")),e.Y8G("items",e.bMT(4,6,t.devicesList$))("multiple",!0)("closeOnSelect",!0)}}function fe(n,c){if(1&n&&(e.j41(0,"div",23),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n){const t=c.$implicit;e.R7$(),e.E5c("\n          ",e.bMT(2,3,"admin.firmware.alert.device")," : ",t.DeviceName," - Nwkid : ",t.Nwkid,"\n        ")}}function Ee(n,c){if(1&n){const t=e.RV6();e.EFF(0,"\n    "),e.j41(1,"div",19),e.EFF(2,"\n      "),e.nrm(3,"h4",20),e.EFF(4,"\n      "),e.j41(5,"button",21),e.bIt("click",function(){const i=e.eBV(t).$implicit;return e.Njj(i.dismiss("Cross click"))}),e.k0s(),e.EFF(6,"\n    "),e.k0s(),e.EFF(7,"\n    "),e.j41(8,"div",22),e.EFF(9),e.nI1(10,"translate"),e.j41(11,"div",23),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.EFF(14,"\n      "),e.j41(15,"div",23),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.EFF(18,"\n      "),e.j41(19,"div",23),e.EFF(20),e.nI1(21,"translate"),e.DNE(22,fe,3,5,"div",24),e.EFF(23,"\n      "),e.k0s(),e.EFF(24,"\n    "),e.k0s(),e.EFF(25,"\n    "),e.j41(26,"div",25),e.EFF(27,"\n      "),e.j41(28,"button",26),e.bIt("click",function(){const i=e.eBV(t).$implicit;return e.Njj(i.close("ok"))}),e.k0s(),e.EFF(29,"\n      "),e.j41(30,"button",27),e.bIt("click",function(){const i=e.eBV(t).$implicit;return e.Njj(i.dismiss("cancel"))}),e.k0s(),e.EFF(31,"\n    "),e.k0s(),e.EFF(32,"\n  ")}if(2&n){const t=e.XpG();e.R7$(9),e.SpI("\n      ",e.bMT(10,7,"admin.firmware.alert.subject"),"\n      "),e.R7$(3),e.Lme("",e.bMT(13,9,"admin.firmware.alert.brand")," ",t.form.get("manufacturer").value,""),e.R7$(4),e.Lme("",e.bMT(17,11,"admin.firmware.alert.filename")," ",t.firmwareModal.FileName,""),e.R7$(4),e.SpI("\n        ",e.bMT(21,13,"admin.firmware.alert.list.devices"),"\n        "),e.R7$(2),e.Y8G("ngForOf",t.devicesModal)}}let ve=(()=>{class n extends E.U{apiService;formBuilder;translate;toastr;modalService;form;manufacturerList$;devicesList$;firmwares;tempFirmwares;devicesModal;firmwareModal;constructor(t,s,i,r,d){super(),this.apiService=t,this.formBuilder=s,this.translate=i,this.toastr=r,this.modalService=d}ngOnInit(){this.form=this.formBuilder.group({manufacturer:[null,a.k0.required],firmware:[null,a.k0.required],device:[null,a.k0.required],force:[!1]}),this.manufacturerList$=this.apiService.getOtaFirmware().pipe((0,k.T)(t=>(this.tempFirmwares=t[0],Object.keys(this.tempFirmwares)))),this.subs.sink=this.form.get("manufacturer").valueChanges.pipe((0,w.B)(300),(0,S.F)()).subscribe(t=>{this.form.get("firmware").reset(),this.form.get("device").reset(),t?(this.firmwares=this.tempFirmwares[t],this.firmwares.forEach(s=>{s.label=this.getLabelFirmware(s)})):this.firmwares=null}),this.subs.sink=this.form.get("firmware").valueChanges.pipe((0,w.B)(300),(0,S.F)()).subscribe(t=>{this.form.get("device").reset(),this.devicesList$=t?this.apiService.getDeviceByOtaFirmware(t.ManufCode).pipe((0,k.T)(s=>(s.forEach(i=>{i.label=this.getLabelDevice(i)}),s))):null})}updateFirmware(){const t=[],s=this.form.get("manufacturer").value,i=this.form.get("firmware").value.FileName;this.form.get("device").value.forEach(d=>{const F=new pe;F.Brand=s,F.Ep=d.Ep,F.FileName=i,F.NwkId=d.Nwkid,F.ForceUpdate=this.form.get("force").value,t.push(F)}),this.apiService.putOtaFirmware(t).subscribe(()=>{this.devicesList$=null,this.firmwares=null,this.toastr.success(this.translate.instant("admin.firmware.notify")),this.form.reset()})}open(t){this.firmwareModal=this.form.get("firmware").value,this.devicesModal=this.form.get("device").value,this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(()=>{this.updateFirmware()})}getLabelFirmware(t){return"FileName : ".concat(t.FileName).concat(" - ImageType : ").concat(t.ImageType).concat(" - ApplicationBuild : ").concat(t.ApplicationBuild).concat(" - ApplicationRelease : ").concat(t.ApplicationRelease).concat(" - StackBuild : ").concat(t.StackBuild).concat(" - StackRelease : ").concat(t.StackRelease)}getLabelDevice(t){return"DeviceName : ".concat(t.DeviceName).concat(" - Ep : ").concat(t.Ep).concat(" - Nwkid : ").concat(t.Nwkid).concat(" - OTALastTime : ").concat(t.OTALastTime).concat(" - OTAType : ").concat(t.OTAType).concat(" - OTAVersion : ").concat(t.OTAVersion).concat(" - SWBUILD_1 : ").concat(t.SWBUILD_1).concat(" - SWBUILD_3 : ").concat(t.SWBUILD_3)}static \u0275fac=function(s){return new(s||n)(e.rXU(p.G),e.rXU(a.ok),e.rXU(o.c$),e.rXU(m.tw),e.rXU(g.Bq))};static \u0275cmp=e.VBU({type:n,selectors:[["app-firmware"]],features:[e.Vt3],decls:59,vars:15,consts:[["content",""],[1,"row","row-cols-1","row-cols-md-3","g-4"],[1,"col"],[1,"card","h-100",3,"formGroup"],["translate","admin.firmware.title",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"row"],[1,"col-sm"],["appendTo","body","formControlName","manufacturer",3,"items","multiple","closeOnSelect","placeholder"],[1,"row","mt-2"],[4,"ngIf"],[1,"col-auto","mt-2"],["formControlName","force","id","force","type","checkbox",1,"form-control-checkbox"],["for","force","translate","admin.firmware.force",1,"col-form-label"],[1,"card-footer","d-flex","justify-content-end"],["translate","admin.firmware.button.update",1,"btn","btn-primary",3,"click","disabled"],["appendTo","body","bindLabel","label","formControlName","firmware",3,"items","multiple","closeOnSelect","placeholder"],["appendTo","body","bindLabel","label","formControlName","device",3,"items","multiple","closeOnSelect","placeholder"],[1,"modal-header"],["id","modal-basic-title","translate","admin.firmware.alert.title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-sm","mt-2"],["class","col-sm mt-2",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","translate","admin.firmware.alert.ok",1,"btn","btn-primary",3,"click"],["type","button","translate","admin.firmware.alert.cancel",1,"btn","btn-outline-dark",3,"click"]],template:function(s,i){if(1&s){const r=e.RV6();e.j41(0,"div",1),e.EFF(1,"\n  "),e.j41(2,"div",2),e.EFF(3,"\n    "),e.j41(4,"div",3),e.EFF(5,"\n      "),e.nrm(6,"div",4),e.EFF(7,"\n      "),e.j41(8,"div",5),e.EFF(9,"\n        "),e.nrm(10,"p",6),e.nI1(11,"translate"),e.EFF(12,"\n        "),e.j41(13,"div",7),e.EFF(14,"\n          "),e.j41(15,"div",8),e.EFF(16,"\n            "),e.j41(17,"ng-select",9),e.nI1(18,"translate"),e.nI1(19,"async"),e.EFF(20,"\n            "),e.k0s(),e.EFF(21,"\n          "),e.k0s(),e.EFF(22,"\n        "),e.k0s(),e.EFF(23,"\n        "),e.j41(24,"div",10),e.EFF(25,"\n          "),e.j41(26,"div",8),e.EFF(27,"\n            "),e.DNE(28,Fe,6,6,"div",11),e.EFF(29,"\n          "),e.k0s(),e.EFF(30,"\n        "),e.k0s(),e.EFF(31,"\n        "),e.j41(32,"div",10),e.EFF(33,"\n          "),e.j41(34,"div",8),e.EFF(35,"\n            "),e.DNE(36,ue,7,8,"div",11),e.EFF(37,"\n          "),e.k0s(),e.EFF(38,"\n        "),e.k0s(),e.EFF(39,"\n        "),e.j41(40,"div",12),e.EFF(41,"\n          "),e.nrm(42,"input",13),e.EFF(43,"\n          "),e.nrm(44,"label",14),e.EFF(45,"\n        "),e.k0s(),e.EFF(46,"\n\n        "),e.j41(47,"div",15),e.EFF(48,"\n          "),e.j41(49,"button",16),e.bIt("click",function(){e.eBV(r);const F=e.sdS(56);return e.Njj(i.open(F))}),e.k0s(),e.EFF(50,"\n        "),e.k0s(),e.EFF(51,"\n      "),e.k0s(),e.EFF(52,"\n    "),e.k0s(),e.EFF(53,"\n  "),e.k0s(),e.EFF(54,"\n\n  "),e.DNE(55,Ee,33,15,"ng-template",null,0,e.C5r),e.EFF(57,"\n"),e.k0s(),e.EFF(58,"\n")}2&s&&(e.R7$(4),e.Y8G("formGroup",i.form),e.R7$(6),e.Y8G("innerHTML",e.bMT(11,9,"admin.firmware.subtitle"),e.npT),e.R7$(7),e.FS9("placeholder",e.bMT(18,11,"admin.firmware.manufacturer.list")),e.Y8G("items",e.bMT(19,13,i.manufacturerList$))("multiple",!1)("closeOnSelect",!0),e.R7$(11),e.Y8G("ngIf",i.firmwares),e.R7$(8),e.Y8G("ngIf",i.devicesList$),e.R7$(13),e.Y8G("disabled",!i.form.valid))},dependencies:[f.Sq,f.bT,a.Zm,a.BC,a.cb,a.j4,a.JD,u.vr,o.Mm,f.Jj,o.D9]})}return n})();const be=[{path:"",component:me,data:{title:(0,_.o6)("admin")}},{path:"firmware",component:ve,data:{title:(0,_.o6)("admin.firmware")}}];let he=(()=>{class n{static \u0275fac=function(s){return new(s||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[b.iI.forChild(be),b.iI]})}return n})(),ge=(()=>{class n{static \u0275fac=function(s){return new(s||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[he,R.G]})}return n})()}}]);