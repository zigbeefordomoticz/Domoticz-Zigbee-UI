(self.webpackChunkz4d_plugin=self.webpackChunkz4d_plugin||[]).push([[228],{1228:(nt,_t,X)=>{"use strict";X.r(_t),X.d(_t,{NetworkModule:()=>vr});var dt=X(93887),et=X(91346),Q=X(12168),k=X(69820),Z=X(38833),T=X(2501),L=X(55782),M=X(10467),t=X(54438),O=X(71985),N=X(43236),j=X(39974),P=X(54360),c=X(58750),m=X(41584);var f=X(88141),F=X(96354),n=X(33726),s=X(25558),d=X(7673),l=X(56977),g=X(84412),b=X(57786),p=X(23294),v=X(983),I=X(70980),r=X(91986);function u(o,C=!1){return(0,j.N)((e,i)=>{let a=0;e.subscribe((0,P._)(i,_=>{const E=o(_,a++);(E||C)&&i.next(_),!E&&i.complete()}))})}var w=X(85412);function x(o,C=1/0,e){return C=(C||0)<1?1/0:C,(0,j.N)((i,a)=>(0,w.h)(i,a,o,C,void 0,!0,e))}var y=X(60177);let Y;try{Y=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Y=!1}let z=(()=>{class o{constructor(e){this._platformId=e,this.isBrowser=this._platformId?(0,y.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Y)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#t=this.\u0275fac=function(i){return new(i||o)(t.KVO(t.Agw))};static#e=this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var U=function(o){return o[o.NORMAL=0]="NORMAL",o[o.NEGATED=1]="NEGATED",o[o.INVERTED=2]="INVERTED",o}(U||{});let G;function tt(){if("object"!=typeof document||!document)return U.NORMAL;if(null==G){const o=document.createElement("div"),C=o.style;o.dir="rtl",C.width="1px",C.overflow="auto",C.visibility="hidden",C.pointerEvents="none",C.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",o.appendChild(e),document.body.appendChild(o),G=U.NORMAL,0===o.scrollLeft&&(o.scrollLeft=1,G=0===o.scrollLeft?U.NEGATED:U.INVERTED),o.remove()}return G}const gt=new t.nKC("cdk-dir-doc",{providedIn:"root",factory:function St(){return(0,t.WQX)(y.qQ)}}),pt=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let mt=(()=>{class o{constructor(e){this.value="ltr",this.change=new t.bkB,e&&(this.value=function ht(o){const C=o?.toLowerCase()||"";return"auto"===C&&typeof navigator<"u"&&navigator?.language?pt.test(navigator.language)?"rtl":"ltr":"rtl"===C?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#t=this.\u0275fac=function(i){return new(i||o)(t.KVO(gt,8))};static#e=this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var kt=X(89079),Gt=X(21413),be=X(96697),ye=X(30536);const Fe="function"==typeof Float32Array;function Vt(o,C){return 1-3*C+3*o}function $t(o,C){return 3*C-6*o}function Ht(o){return 3*o}function Yt(o,C,e){return((Vt(C,e)*o+$t(C,e))*o+Ht(C))*o}function Qt(o,C,e){return 3*Vt(C,e)*o*o+2*$t(C,e)*o+Ht(C)}function Ee(o){return o}function Me(o,C,e,i){if(!(0<=o&&o<=1&&0<=e&&e<=1))throw new Error("bezier x values must be in [0, 1] range");if(o===C&&e===i)return Ee;let a=Fe?new Float32Array(11):new Array(11);for(let E=0;E<11;++E)a[E]=Yt(.1*E,o,e);return function(D){return 0===D?0:1===D?1:Yt(function _(E){let D=0,R=1;for(;10!==R&&a[R]<=E;++R)D+=.1;--R;let lt=D+(E-a[R])/(a[R+1]-a[R])*.1,wt=Qt(lt,o,e);return wt>=.001?function Ce(o,C,e,i){for(let a=0;a<4;++a){let _=Qt(C,e,i);if(0===_)return C;C-=(Yt(C,e,i)-o)/_}return C}(E,lt,o,e):0===wt?lt:function xe(o,C,e,i,a){let _,E,D=0;do{E=C+(e-C)/2,_=Yt(E,i,a)-o,_>0?e=E:C=E}while(Math.abs(_)>1e-7&&++D<10);return E}(E,D,D+.1,o,e)}(D),C,i)}}const Pe=new t.nKC("SMOOTH_SCROLL_OPTIONS");let Ne=(()=>{class o{get _w(){return this._document.defaultView}get _now(){return this._w.performance?.now?.bind(this._w.performance)||Date.now}constructor(e,i,a){this._document=e,this._platform=i,this._onGoingScrolls=new Map,this._defaultOptions={duration:468,easing:{x1:.42,y1:0,x2:.58,y2:1},...a}}_scrollElement(e,i,a){e.scrollLeft=i,e.scrollTop=a}_getElement(e,i){return"string"==typeof e?(i||this._document).querySelector(e):function zt(o){return o instanceof t.aKT?o.nativeElement:o}(e)}_initSmoothScroll(e){return this._onGoingScrolls.has(e)&&this._onGoingScrolls.get(e).next(),this._onGoingScrolls.set(e,new Gt.B).get(e)}_isFinished(e,i,a){return e.currentX!==e.x||e.currentY!==e.y||(i.next(),a(),!1)}_interrupted(e,i){return(0,b.h)((0,n.R)(e,"wheel",{passive:!0,capture:!0}),(0,n.R)(e,"touchmove",{passive:!0,capture:!0}),i).pipe((0,be.s)(1))}_destroy(e,i){i.complete(),this._onGoingScrolls.delete(e)}_step(e){return new O.c(i=>{let a=(this._now()-e.startTime)/e.duration;a=a>1?1:a;const _=e.easing(a);e.currentX=e.startX+(e.x-e.startX)*_,e.currentY=e.startY+(e.y-e.startY)*_,this._scrollElement(e.scrollable,e.currentX,e.currentY),ye.X.schedule(()=>i.next(e))})}_applyScrollToOptions(e,i){if(!i.duration)return this._scrollElement(e,i.left,i.top),Promise.resolve();const a=this._initSmoothScroll(e),_={scrollable:e,startTime:this._now(),startX:e.scrollLeft,startY:e.scrollTop,x:null==i.left?e.scrollLeft:~~i.left,y:null==i.top?e.scrollTop:~~i.top,duration:i.duration,easing:Me(i.easing.x1,i.easing.y1,i.easing.x2,i.easing.y2)};return new Promise(E=>{(0,d.of)(null).pipe(x(()=>this._step(_).pipe(u(D=>this._isFinished(D,a,E)))),(0,l.Q)(this._interrupted(e,a)),(0,I.j)(()=>this._destroy(e,a))).subscribe()})}scrollTo(e,i){if((0,y.UE)(this._platform)){const a=this._getElement(e),_="rtl"===getComputedStyle(a).direction,E=tt(),D={...this._defaultOptions,...i,left:null==i.left?_?i.end:i.start:i.left,right:null==i.right?_?i.start:i.end:i.right};return null!=D.bottom&&(D.top=a.scrollHeight-a.clientHeight-D.bottom),_&&E!==U.NORMAL?(null!=D.left&&(D.right=a.scrollWidth-a.clientWidth-D.left),E===U.INVERTED?D.left=D.right:E===U.NEGATED&&(D.left=D.right?-D.right:D.right)):null!=D.right&&(D.left=a.scrollWidth-a.clientWidth-D.right),this._applyScrollToOptions(a,D)}return Promise.resolve()}scrollToElement(e,i,a={}){const _=this._getElement(e),E=this._getElement(i,_),D={...a,left:E.offsetLeft+(a.left||0),top:E.offsetTop+(a.top||0)};return E?this.scrollTo(_,D):Promise.resolve()}static#t=this.\u0275fac=function(i){return new(i||o)(t.KVO(y.qQ),t.KVO(t.Agw),t.KVO(Pe,8))};static#e=this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const Te=["sticky"];function De(o,C){1&o&&t.nrm(0,"scrollbar-y")}function Ie(o,C){1&o&&t.nrm(0,"scrollbar-x")}const Le=["contentWrapper"],je=["*"];let Re=(()=>{class o{constructor(){this.nativeElement=(0,t.WQX)(t.aKT).nativeElement}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275dir=t.FsC({type:o,selectors:[["","scrollViewport",""]],standalone:!0})}return o})();var It=function(o){return o.AfterInit="AfterInit",o.Resized="ResizeObserver",o}(It||{});const Kt=new t.nKC("NG_SCROLLBAR_OPTIONS"),Zt=new t.nKC("NG_SCROLLBAR_POLYFILL");function qt({element:o,contentWrapper:C,throttleDuration:e}){let a,i=It.AfterInit;const _=new O.c(E=>(a=new ResizeObserver(()=>{E.next(i),i=It.Resized}),a.observe(o),C&&a.observe(C),()=>{a?.disconnect()}));return e?_.pipe(function S(o,C=N.E,e){const i=(0,m.O)(o,C);return function h(o,C){return(0,j.N)((e,i)=>{const{leading:a=!0,trailing:_=!1}=C??{};let E=!1,D=null,R=null,B=!1;const yt=()=>{R?.unsubscribe(),R=null,_&&(ve(),B&&i.complete())},lt=()=>{R=null,B&&i.complete()},wt=Et=>R=(0,c.Tg)(o(Et)).subscribe((0,P._)(i,yt,lt)),ve=()=>{if(E){E=!1;const Et=D;D=null,i.next(Et),!B&&wt(Et)}};e.subscribe((0,P._)(i,Et=>{E=!0,D=Et,(!R||R.closed)&&(a?ve():wt(Et))},()=>{B=!0,(!(_&&E&&R)||R.closed)&&i.complete()}))})}(()=>i,e)}(e,null,{leading:!0,trailing:!0})):_}function Jt(o){return(0,f.M)(()=>o.onselectstart=()=>!1)}function te(o){return(0,f.M)(()=>o.onselectstart=null)}function Lt(){return(0,f.M)(o=>{o.preventDefault(),o.stopPropagation()})}var Wt=function(o){return o.Viewport="ng-scroll-viewport",o.Content="ng-scroll-content",o}(Wt||{});class ze{constructor(){this.initialized=(0,t.vPA)(!1)}get offsetHeight(){return this.nativeElement.offsetHeight}get offsetWidth(){return this.nativeElement.offsetWidth}get scrollTop(){return this.nativeElement.scrollTop}get scrollLeft(){return this.nativeElement.scrollLeft}get contentHeight(){return this.contentWrapperElement?.offsetHeight}get contentWidth(){return this.contentWrapperElement?.offsetWidth}get scrollMaxX(){return this.contentWidth-this.offsetWidth}get scrollMaxY(){return this.contentHeight-this.offsetHeight}init(C,e,i){C.classList.add(Wt.Viewport),this.nativeElement=C,e.classList.add(Wt.Content),i?(i.style.position="relative",this.contentWrapperElement=i):this.contentWrapperElement=e,this.initialized.set(!0)}scrollYTo(C){this.nativeElement.scrollTop=C}scrollXTo(C){this.nativeElement.scrollLeft=C}}const Nt=new t.nKC("_NG_SCROLLBAR"),ee={trackClass:"",thumbClass:"",orientation:"auto",appearance:"native",visibility:"native",position:"native",trackScrollDuration:50,sensorThrottleTime:0,disableSensor:!1,disableInteraction:!1};let Ae=(()=>{class o{constructor(){this.injectedOptions=(0,t.WQX)(Kt,{optional:!0}),this.options=this.injectedOptions?{...ee,...this.injectedOptions}:ee,this.zone=(0,t.WQX)(t.SKi),this.platform=(0,t.WQX)(z),this.injector=(0,t.WQX)(t.zZn),this.isMobile=this.platform.IOS||this.platform.ANDROID,this.dir=(0,t.WQX)(mt),this.smoothScroll=(0,t.WQX)(Ne),this.nativeElement=(0,t.WQX)(t.aKT).nativeElement,this.dragging=(0,t.vPA)("none"),this.orientation=(0,t.hFB)(this.options.orientation),this.visibility=(0,t.hFB)(this.options.visibility),this.disableInteraction=(0,t.hFB)(this.options.disableInteraction,{transform:t.L39}),this.disableSensor=(0,t.hFB)(this.options.disableSensor,{transform:t.L39}),this.sensorThrottleTime=(0,t.hFB)(this.options.sensorThrottleTime,{transform:t.Udg}),this.viewportDimension=(0,t.vPA)({contentHeight:0,contentWidth:0,offsetHeight:0,offsetWidth:0}),this.state=(0,t.EWP)(()=>{let e=!1,i=!1,a=!1,_=!1;const E=this.orientation(),D=this.visibility(),R=this.viewportDimension();return("auto"===E||"vertical"===E)&&(a=R.contentHeight>R.offsetHeight,e="visible"===D||a),("auto"===E||"horizontal"===E)&&(_=R.contentWidth>R.offsetWidth,i="visible"===D||_),{verticalUsed:e,horizontalUsed:i,isVerticallyScrollable:a,isHorizontallyScrollable:_}}),this.isVerticallyScrollable=(0,t.EWP)(()=>this.state().isVerticallyScrollable),this.isHorizontallyScrollable=(0,t.EWP)(()=>this.state().isHorizontallyScrollable),this.verticalUsed=(0,t.EWP)(()=>this.state().verticalUsed),this.horizontalUsed=(0,t.EWP)(()=>this.state().horizontalUsed),this.trackScrollDuration=this.options.trackScrollDuration,this.appearance=this.options.appearance,this.position=this.options.position,this.trackClass=this.options.trackClass,this.thumbClass=this.options.thumbClass,this.afterInit=new t.bkB,this.afterUpdate=new t.bkB,this.viewport=new ze}ngOnInit(){(0,t.N4e)(this.injector,()=>{this.direction=(0,kt.ot)(this.dir.change.pipe((0,F.T)(()=>this.dir.value)),{initialValue:this.dir.value}),(0,t.QZP)(e=>{this.disableSensor()?this.sizeChangeSub?.unsubscribe():this.platform.isBrowser&&this.viewport.initialized()&&(this.sizeChangeSub?.unsubscribe(),this.zone.runOutsideAngular(()=>{this.sizeChangeSub=qt({element:this.viewport.nativeElement,contentWrapper:this.viewport.contentWrapperElement,throttleDuration:this.sensorThrottleTime()}).pipe((0,f.M)(i=>this.update(i))).subscribe()})),e(()=>this.sizeChangeSub?.unsubscribe())})})}ngAfterViewInit(){this.platform.isBrowser&&this.disableSensor()&&requestAnimationFrame(()=>{this.update(It.AfterInit)})}update(e){this.updateCSSVariables(),this.zone.run(()=>{this.viewportDimension.set({contentHeight:this.viewport.contentHeight,contentWidth:this.viewport.contentWidth,offsetHeight:this.viewport.offsetHeight,offsetWidth:this.viewport.offsetWidth}),e===It.AfterInit?this.afterInit.emit():this.afterUpdate.emit()})}scrollTo(e){return this.smoothScroll.scrollTo(this.viewport.nativeElement,{duration:this.trackScrollDuration,...e})}scrollToElement(e,i){return this.smoothScroll.scrollToElement(this.viewport.nativeElement,e,i)}updateCSSVariables(){this.nativeElement.style.setProperty("--content-height",`${this.viewport.contentHeight}`),this.nativeElement.style.setProperty("--content-width",`${this.viewport.contentWidth}`),this.nativeElement.style.setProperty("--viewport-height",`${this.viewport.offsetHeight}`),this.nativeElement.style.setProperty("--viewport-width",`${this.viewport.offsetWidth}`)}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275dir=t.FsC({type:o,hostVars:14,hostBindings:function(i,a){2&i&&(t.BMQ("verticalUsed",a.verticalUsed())("horizontalUsed",a.horizontalUsed())("isVerticallyScrollable",a.isVerticallyScrollable())("isHorizontallyScrollable",a.isHorizontallyScrollable())("mobile",a.isMobile)("dir",a.direction())("position",a.position)("dragging",a.dragging())("appearance",a.appearance)("visibility",a.visibility())("orientation",a.orientation())("disableInteraction",a.disableInteraction()),t.AVh("ng-scrollbar",!0))},inputs:{orientation:[t.Mj6.SignalBased,"orientation"],visibility:[t.Mj6.SignalBased,"visibility"],disableInteraction:[t.Mj6.SignalBased,"disableInteraction"],disableSensor:[t.Mj6.SignalBased,"disableSensor"],sensorThrottleTime:[t.Mj6.SignalBased,"sensorThrottleTime"],trackScrollDuration:[t.Mj6.HasDecoratorInputTransform,"trackScrollDuration","trackScrollDuration",t.Udg],appearance:"appearance",position:"position",trackClass:"trackClass",thumbClass:"thumbClass"},outputs:{afterInit:"afterInit",afterUpdate:"afterUpdate"},features:[t.Jv_([{provide:Nt,useExisting:o}]),t.GFd]})}return o})(),Xe=(()=>{class o{constructor(){this.isBrowser=(0,y.UE)((0,t.WQX)(t.Agw)),this._polyfillUrl=(0,t.WQX)(Zt,{optional:!0})||"https://flackr.github.io/scroll-timeline/dist/scroll-timeline.js",this.document=(0,t.WQX)(y.qQ),this.window=this.document.defaultView,this.rtlScrollAxisType=tt(),this.scrollTimelinePolyfill=(0,t.vPA)(null),this.isBrowser&&(!this.window.ScrollTimeline||!CSS.supports("animation-timeline","scroll()"))&&this.initPolyfill()}initPolyfill(){var e=this;return(0,M.A)(function*(){try{const i=e.document.createElement("script");i.src=e._polyfillUrl,yield new Promise((a,_)=>{i.onload=a,i.onerror=_,e.document.head.appendChild(i)}),e.window.ScrollTimeline?e.scrollTimelinePolyfill.set(e.window.ScrollTimeline):console.error("[NgScrollbar]: ScrollTimeline is not attached to the window object.")}catch(i){console.error("[NgScrollbar]: Error loading ScrollTimeline script:",i)}})()}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),jt=(()=>{class o{get trackMax(){return this.track.size-this.size}get clientRect(){return this.nativeElement.getBoundingClientRect()}get dragged(){return(0,n.R)(this.nativeElement,"pointerdown").pipe(Lt(),Jt(this.document),(0,s.n)(e=>{let i,a;const _=(0,d.of)(e).pipe((0,f.M)(()=>{i=this.trackMax,a=this.viewportScrollMax,this.setDragging(this.axis)})),E=(0,n.R)(this.document,"pointermove").pipe(Lt()),D=(0,n.R)(this.document,"pointerup",{capture:!0}).pipe(Lt(),te(this.document),(0,f.M)(()=>this.setDragging("none")));return _.pipe((0,F.T)(R=>R[this.clientProperty]),(0,F.T)(R=>R-this.dragStartOffset),(0,s.n)(R=>E.pipe((0,F.T)(B=>B[this.clientProperty]),(0,F.T)(B=>B-this.track.offset),(0,F.T)(B=>a*(B-R)/i),(0,F.T)(B=>this.handleDrag(B,a)),(0,f.M)(B=>this.scrollTo(B)),(0,l.Q)(D))))}))}constructor(){this.zone=(0,t.WQX)(t.SKi),this.document=(0,t.WQX)(y.qQ),this.cmp=(0,t.WQX)(Nt),this.manager=(0,t.WQX)(Xe),this.track=(0,t.WQX)(Rt),this.nativeElement=(0,t.WQX)(t.aKT).nativeElement,(0,t.QZP)(()=>{const e=this.manager.scrollTimelinePolyfill();e&&!this.animation&&(this.animation=function We(o,C,e,i){return C.animate({translate:["var(--_scrollbar-thumb-transform-from)","var(--_scrollbar-thumb-transform-to)"]},{fill:"both",easing:"linear",timeline:new o({source:e,axis:i})})}(e,this.nativeElement,this.cmp.viewport.nativeElement,this.axis))})}setDragging(e){this.zone.run(()=>this.cmp.dragging.set(e))}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275dir=t.FsC({type:o})}return o})(),Rt=(()=>{class o{get clientRect(){return this.nativeElement.getBoundingClientRect()}get dragged(){const e=(0,n.R)(this.nativeElement,"pointerdown").pipe(Lt(),Jt(this.document)),i=(0,n.R)(this.document,"pointerup",{passive:!0}).pipe(te(this.document)),a=(0,n.R)(this.nativeElement,"pointermove",{passive:!0}).pipe((0,F.T)(D=>(this.currMousePosition=D[this.clientProperty],!0))),_=(0,n.R)(this.nativeElement,"pointerout",{passive:!0}).pipe((0,F.T)(()=>!1)),E=new g.t(!0);return e.pipe((0,s.n)(D=>((0,b.h)(a,_).pipe((0,p.F)(),(0,f.M)(R=>E.next(R)),(0,l.Q)(i)).subscribe(),(0,n.R)(this.thumb.nativeElement,"pointermove").pipe(Lt(),(0,l.Q)(i)).subscribe(),this.onTrackFirstClick(D).pipe((0,s.n)(R=>R?v.w:E.pipe((0,s.n)(B=>{const yt=this.getScrollDirection(this.currMousePosition);return B&&this.scrollDirection===yt?this.onTrackOngoingMousedown():v.w}),(0,I.j)(()=>{E.next(!0)}))),(0,l.Q)(i)))))}constructor(){this.nativeElement=(0,t.WQX)(t.aKT).nativeElement,this.cmp=(0,t.WQX)(Nt),this.document=(0,t.WQX)(y.qQ),this.zone=(0,t.WQX)(t.SKi),(0,t.QZP)(e=>{this.cmp.disableSensor()?(this.updateCSSVariables(),this.sizeChangeSub?.unsubscribe()):this.zone.runOutsideAngular(()=>{this.sizeChangeSub=qt({element:this.nativeElement,throttleDuration:this.cmp.sensorThrottleTime()}).pipe((0,f.M)(()=>this.updateCSSVariables())).subscribe()}),e(()=>this.sizeChangeSub?.unsubscribe())})}updateCSSVariables(){this.cmp.nativeElement.style.setProperty(this.cssLengthProperty,`${this.size}`)}onTrackFirstClick(e){let i,a;if(this.currMousePosition=e[this.clientProperty],this.scrollDirection=this.getScrollDirection(this.currMousePosition),this.scrollMax=this.viewportScrollSize-this.viewportSize,"forward"===this.scrollDirection){let _;_="rtl"===this.cmp.direction()?this.scrollMax- -(this.viewportScrollOffset-this.viewportSize):this.viewportScrollOffset+this.viewportSize,_>=this.scrollMax?(i=this.scrollMax,a=!0):i=_}else{let _;_="rtl"===this.cmp.direction()?this.viewportScrollSize-this.viewportSize- -(this.viewportScrollOffset+this.viewportSize):this.viewportScrollOffset-this.viewportSize,_<=0?(i=0,a=!0):i=_}return this.scrollTo(i).pipe((0,r.c)(200),(0,F.T)(()=>a))}onTrackOngoingMousedown(){let e,i,a;if("forward"===this.scrollDirection)if("rtl"===this.cmp.direction()){const _=this.viewportScrollOffset-this.viewportSize;e=this.scrollMax+_,i=0,a=this.isFinalStep(_)}else e=this.viewportScrollOffset+this.viewportSize,i=this.scrollMax,a=this.isFinalStep(e);else if("rtl"===this.cmp.direction()){const _=this.viewportScrollOffset+this.viewportSize;e=this.scrollMax+_,i=this.scrollMax,a=this.isFinalStep(_)}else e=this.viewportScrollOffset-this.viewportSize,i=0,a=this.isFinalStep(e);return this.scrollTo(a?i:e).pipe(u(()=>!a),x(()=>this.onTrackOngoingMousedown()))}getCurrPosition(e){return"forward"===this.scrollDirection?Math.abs(e):Math.abs(e+this.thumb.size-this.viewportScrollSize)}isFinalStep(e){let i=this.viewportScrollSize-this.thumb.size-this.getCurrPosition(e);return 0===Math.floor(i/this.viewportSize)}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275dir=t.FsC({type:o,contentQueries:function(i,a,_){if(1&i&&t.wni(_,jt,5),2&i){let E;t.mGM(E=t.lsd())&&(a.thumb=E.first)}}})}return o})(),re=(()=>{class o extends Rt{constructor(){super(...arguments),this.cssLengthProperty="--track-x-length",this.clientProperty="clientX"}get offset(){return this.clientRect.left}get size(){return this.nativeElement.clientWidth}get viewportScrollSize(){return this.cmp.viewport.contentWidth}get viewportSize(){return this.cmp.viewport.offsetWidth}get viewportScrollOffset(){return this.cmp.viewport.scrollLeft}getScrollDirection(e){return"rtl"===this.cmp.direction()?e-this.thumb.offset<0?"forward":"backward":e-this.thumb.offset>0?"forward":"backward"}scrollTo(e){return(0,c.Sx)(this.cmp.scrollTo({left:e}))}static#t=this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(o)))(a||o)}})();static#e=this.\u0275dir=t.FsC({type:o,selectors:[["","scrollbarTrackX",""]],standalone:!0,features:[t.Jv_([{provide:Rt,useExisting:o}]),t.Vt3]})}return o})(),oe=(()=>{class o extends Rt{constructor(){super(...arguments),this.cssLengthProperty="--track-y-length",this.clientProperty="clientY"}get offset(){return this.clientRect.top}get size(){return this.nativeElement.clientHeight}get viewportScrollSize(){return this.cmp.viewport.contentHeight}get viewportSize(){return this.cmp.viewport.offsetHeight}get viewportScrollOffset(){return this.cmp.viewport.scrollTop}getScrollDirection(e){return e-this.thumb.offset>0?"forward":"backward"}scrollTo(e){return(0,c.Sx)(this.cmp.scrollTo({top:e}))}static#t=this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(o)))(a||o)}})();static#e=this.\u0275dir=t.FsC({type:o,selectors:[["","scrollbarTrackY",""]],standalone:!0,features:[t.Jv_([{provide:Rt,useExisting:o}]),t.Vt3]})}return o})(),ie=(()=>{class o extends jt{get viewportScrollMax(){return this.cmp.viewport.scrollMaxX}get offset(){return this.clientRect.left}get size(){return this.nativeElement.clientWidth}get dragStartOffset(){return this.offset+this.document.defaultView.scrollX}constructor(){super(),this.clientProperty="clientX",this.axis="x",(0,t.QZP)(()=>{"rtl"===this.cmp.direction()?(this.manager.rtlScrollAxisType===U.NEGATED&&(this.handleDrag=(e,i)=>-(i-e)),this.manager.rtlScrollAxisType===U.INVERTED&&(this.handleDrag=(e,i)=>e-i)):this.handleDrag=e=>e})}scrollTo(e){this.cmp.viewport.scrollXTo(e)}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275dir=t.FsC({type:o,selectors:[["","scrollbarThumbX",""]],standalone:!0,features:[t.Jv_([{provide:jt,useExisting:o}]),t.Vt3]})}return o})(),se=(()=>{class o extends jt{constructor(){super(...arguments),this.clientProperty="clientY",this.axis="y",this.handleDrag=e=>e}get viewportScrollMax(){return this.cmp.viewport.scrollMaxY}get offset(){return this.clientRect.top}get size(){return this.nativeElement.clientHeight}get dragStartOffset(){return this.offset+this.document.defaultView.scrollY}scrollTo(e){this.cmp.viewport.scrollYTo(e)}static#t=this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(o)))(a||o)}})();static#e=this.\u0275dir=t.FsC({type:o,selectors:[["","scrollbarThumbY",""]],standalone:!0,features:[t.Jv_([{provide:jt,useExisting:o}]),t.Vt3]})}return o})(),ne=(()=>{class o{constructor(){this.zone=(0,t.WQX)(t.SKi),this.cmp=(0,t.WQX)(Nt),(0,t.QZP)(e=>{this.cmp.disableInteraction()?this._pointerEventsSub?.unsubscribe():this.zone.runOutsideAngular(()=>{this._pointerEventsSub=(0,b.h)(this.thumb.dragged,this.track.dragged).subscribe()}),e(()=>this._pointerEventsSub?.unsubscribe())})}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275dir=t.FsC({type:o,viewQuery:function(i,a){if(1&i&&t.GBs(Te,7),2&i){let _;t.mGM(_=t.lsd())&&(a.sticky=_.first)}}})}return o})(),ae=(()=>{class o extends ne{static#t=this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(o)))(a||o)}})();static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["scrollbar-y"]],viewQuery:function(i,a){if(1&i&&(t.GBs(oe,7),t.GBs(se,7)),2&i){let _;t.mGM(_=t.lsd())&&(a.track=_.first),t.mGM(_=t.lsd())&&(a.thumb=_.first)}},standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:6,consts:[["sticky",""],[1,"ng-scrollbar-sticky"],["scrollbarTrackY",""],["scrollbarThumbY",""]],template:function(i,a){1&i&&(t.j41(0,"div",1,0)(2,"div",2),t.nrm(3,"div",3),t.k0s()()),2&i&&(t.R7$(2),t.ZvI("ng-scrollbar-track ",a.cmp.trackClass,""),t.R7$(),t.ZvI("ng-scrollbar-thumb ",a.cmp.thumbClass,""))},dependencies:[oe,se],styles:["[_nghost-%COMP%]{position:absolute;inset:0;pointer-events:none;min-width:calc(var(--viewport-width) * 1px);min-height:calc(var(--viewport-height) * 1px)}.ng-scrollbar-sticky[_ngcontent-%COMP%]{top:calc(var(--_scrollbar-wrapper-top) * 1px);left:calc(var(--_scrollbar-wrapper-left) * 1px);right:calc(var(--_scrollbar-wrapper-right) * 1px);height:calc(var(--_scrollbar-wrapper-height) * 1px);width:calc(var(--_scrollbar-wrapper-width) * 1px);position:sticky;z-index:100;opacity:var(--_scrollbar-hover-opacity);transition:var(--_scrollbar-opacity-transition)}.ng-scrollbar-track[_ngcontent-%COMP%]{touch-action:none;-webkit-user-select:none;user-select:none;top:var(--_scrollbar-track-top);bottom:var(--_scrollbar-track-bottom);right:var(--_scrollbar-track-right);left:var(--_scrollbar-track-left);pointer-events:var(--_scrollbar-pointer-events);background-color:var(--scrollbar-track-color);transition:var(--scrollbar-track-transition);border-radius:var(--scrollbar-border-radius);position:absolute;cursor:default;z-index:1}.ng-scrollbar-thumb[_ngcontent-%COMP%]{box-sizing:border-box;position:absolute;transition:var(--scrollbar-thumb-transition);border-radius:var(--scrollbar-border-radius);height:var(--_thumb-height);width:var(--_thumb-width);animation-name:_ngcontent-%COMP%_scrollbarThumbAnimation;animation-duration:1ms;animation-timing-function:linear}@keyframes _ngcontent-%COMP%_scrollbarThumbAnimation{0%{translate:var(--_scrollbar-thumb-transform-from)}to{translate:var(--_scrollbar-thumb-transform-to)}}","[_nghost-%COMP%]{--_scrollbar-wrapper-top: 0;--_scrollbar-wrapper-left: var(--_scrollbar-wrapper-y-left);--_scrollbar-wrapper-right: var(--_scrollbar-wrapper-y-right);--_scrollbar-wrapper-height: var(--viewport-height);--_scrollbar-wrapper-width: var(--_scrollbar-thickness);--_scrollbar-track-top: var(--_vertical-top);--_scrollbar-track-bottom: var(--_vertical-bottom);--_scrollbar-track-right: var(--_vertical-right);--_scrollbar-track-left: var(--_vertical-left);--_thumb-height: calc(var(--thumb-y-length) * 1px);--_thumb-width: 100%;--_scrollbar-thumb-transform-from: 0 0;--_scrollbar-thumb-transform-to: 0 calc(var(--_scrollbar-y-thumb-transform-to-value) * 1px)}.ng-scrollbar-track[_ngcontent-%COMP%]{width:var(--_track-y-thickness)}.ng-scrollbar-track[_ngcontent-%COMP%]:hover{--_track-y-thickness: var(--_scrollbar-hover-thickness-px);--_thumb-y-color: var(--scrollbar-thumb-hover-color)}.ng-scrollbar-thumb[_ngcontent-%COMP%]{animation-timeline:var(--_animation-timeline-y);min-height:calc(var(--scrollbar-thumb-min-size) * 1px);display:var(--_vertical-thumb-display);background-color:var(--_thumb-y-color)}"],changeDetection:0})}return o})(),le=(()=>{class o extends ne{static#t=this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(o)))(a||o)}})();static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["scrollbar-x"]],viewQuery:function(i,a){if(1&i&&(t.GBs(re,7),t.GBs(ie,7)),2&i){let _;t.mGM(_=t.lsd())&&(a.track=_.first),t.mGM(_=t.lsd())&&(a.thumb=_.first)}},standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:7,consts:[["sticky",""],[1,"ng-scrollbar-sticky"],["scrollbarTrackX",""],["scrollbarThumbX",""]],template:function(i,a){1&i&&(t.j41(0,"div",1,0)(2,"div",2),t.nrm(3,"div",3),t.k0s()()),2&i&&(t.R7$(2),t.ZvI("ng-scrollbar-track ",a.cmp.trackClass,""),t.R7$(),t.ZvI("ng-scrollbar-thumb ",a.cmp.thumbClass,""),t.BMQ("dir",a.cmp.direction()))},dependencies:[re,ie],styles:["[_nghost-%COMP%]{position:absolute;inset:0;pointer-events:none;min-width:calc(var(--viewport-width) * 1px);min-height:calc(var(--viewport-height) * 1px)}.ng-scrollbar-sticky[_ngcontent-%COMP%]{top:calc(var(--_scrollbar-wrapper-top) * 1px);left:calc(var(--_scrollbar-wrapper-left) * 1px);right:calc(var(--_scrollbar-wrapper-right) * 1px);height:calc(var(--_scrollbar-wrapper-height) * 1px);width:calc(var(--_scrollbar-wrapper-width) * 1px);position:sticky;z-index:100;opacity:var(--_scrollbar-hover-opacity);transition:var(--_scrollbar-opacity-transition)}.ng-scrollbar-track[_ngcontent-%COMP%]{touch-action:none;-webkit-user-select:none;user-select:none;top:var(--_scrollbar-track-top);bottom:var(--_scrollbar-track-bottom);right:var(--_scrollbar-track-right);left:var(--_scrollbar-track-left);pointer-events:var(--_scrollbar-pointer-events);background-color:var(--scrollbar-track-color);transition:var(--scrollbar-track-transition);border-radius:var(--scrollbar-border-radius);position:absolute;cursor:default;z-index:1}.ng-scrollbar-thumb[_ngcontent-%COMP%]{box-sizing:border-box;position:absolute;transition:var(--scrollbar-thumb-transition);border-radius:var(--scrollbar-border-radius);height:var(--_thumb-height);width:var(--_thumb-width);animation-name:_ngcontent-%COMP%_scrollbarThumbAnimation;animation-duration:1ms;animation-timing-function:linear}@keyframes _ngcontent-%COMP%_scrollbarThumbAnimation{0%{translate:var(--_scrollbar-thumb-transform-from)}to{translate:var(--_scrollbar-thumb-transform-to)}}","[_nghost-%COMP%]{--_scrollbar-wrapper-top: var(--_scrollbar-wrapper-x-top);--_scrollbar-wrapper-left: 0;--_scrollbar-wrapper-right: 0;--_scrollbar-wrapper-height: var(--_scrollbar-thickness);--_scrollbar-wrapper-width: var(--viewport-width);--_scrollbar-track-top: var(--_horizontal-top);--_scrollbar-track-bottom: var(--_horizontal-bottom);--_scrollbar-track-right: var(--_horizontal-right);--_scrollbar-track-left: var(--_horizontal-left);--_thumb-height: 100%;--_thumb-width: calc(var(--thumb-x-length) * 1px);--_scrollbar-thumb-transform-from: 0;--_scrollbar-thumb-transform-to: calc(var(--_scrollbar-x-thumb-transform-to-value) * 1px)}.ng-scrollbar-track[_ngcontent-%COMP%]{height:var(--_track-x-thickness)}.ng-scrollbar-track[_ngcontent-%COMP%]:hover{--_track-x-thickness: var(--_scrollbar-hover-thickness-px);--_thumb-x-color: var(--scrollbar-thumb-hover-color)}.ng-scrollbar-thumb[_ngcontent-%COMP%]{animation-timeline:var(--_animation-timeline-x);min-width:calc(var(--scrollbar-thumb-min-size) * 1px);display:var(--_horizontal-thumb-display);background-color:var(--_thumb-x-color)}.ng-scrollbar-thumb[dir=rtl][_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_scrollbarThumbRTLAnimation;will-change:right;--_scrollbar-thumb-transform-to: calc(var(--_scrollbar-x-thumb-transform-to-value) * -1px)}@keyframes _ngcontent-%COMP%_scrollbarThumbRTLAnimation{0%{right:var(--_scrollbar-thumb-transform-from)}to{right:calc(var(--_scrollbar-thumb-transform-to) * -1)}}"],changeDetection:0})}return o})(),ce=(()=>{class o{constructor(){this.cmp=(0,t.WQX)(Nt)}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["scrollbars"]],viewQuery:function(i,a){if(1&i&&(t.GBs(ae,5),t.GBs(le,5)),2&i){let _;t.mGM(_=t.lsd())&&(a.y=_.first),t.mGM(_=t.lsd())&&(a.x=_.first)}},standalone:!0,features:[t.aNF],decls:2,vars:2,template:function(i,a){1&i&&t.DNE(0,De,1,0,"scrollbar-y")(1,Ie,1,0,"scrollbar-x"),2&i&&(t.vxM(0,a.cmp.verticalUsed()?0:-1),t.R7$(),t.vxM(1,a.cmp.horizontalUsed()?1:-1))},dependencies:[le,ae],styles:["[_nghost-%COMP%]{display:contents}"],changeDetection:0})}return o})(),he=(()=>{class o extends Ae{ngOnInit(){this.viewport.init(this.nativeElement,this.contentWrapper.nativeElement),super.ngOnInit()}static#t=this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(o)))(a||o)}})();static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["ng-scrollbar",3,"externalViewport",""]],viewQuery:function(i,a){if(1&i&&(t.GBs(Le,7),t.GBs(ce,7)),2&i){let _;t.mGM(_=t.lsd())&&(a.contentWrapper=_.first),t.mGM(_=t.lsd())&&(a._scrollbars=_.first)}},exportAs:["ngScrollbar"],standalone:!0,features:[t.Jv_([{provide:Nt,useExisting:o}]),t.nM4([Re]),t.Vt3,t.aNF],ngContentSelectors:je,decls:4,vars:0,consts:[["contentWrapper",""]],template:function(i,a){1&i&&(t.NAR(),t.j41(0,"div",null,0),t.SdG(2),t.nrm(3,"scrollbars"),t.k0s())},dependencies:[ce],styles:["[_nghost-%COMP%]{display:block;position:relative;max-height:100%;max-width:100%;--scrollbar-border-radius: 7px;--scrollbar-thickness: 5;--scrollbar-offset: 4;--scrollbar-track-color: transparent;--scrollbar-track-transition: none;--scrollbar-thumb-color: rgba(0, 0, 0, .2);--scrollbar-thumb-hover-color: var(--scrollbar-thumb-color);--scrollbar-hover-thickness: var(--scrollbar-thickness);--scrollbar-thumb-transition: none;--scrollbar-thumb-min-size: 20;--scrollbar-hover-opacity-transition-enter-duration: 0;--scrollbar-hover-opacity-transition-leave-duration: .4s;--scrollbar-hover-opacity-transition-leave-delay: 1s;--scrollbar-overscroll-behavior: initial;--scrollbar-mobile-overscroll-behavior: none;--_scrollbar-thickness: calc(var(--scrollbar-thickness) + var(--scrollbar-offset) * 2);--_scrollbar-pointer-events: auto;--_scrollbar-offset-px: calc(var(--scrollbar-offset) * 1px);--_scrollbar-thickness-px: calc(var(--scrollbar-thickness) * 1px);--_scrollbar-hover-thickness-px: calc(var(--scrollbar-hover-thickness) * 1px);--_viewport-padding-top: 0;--_viewport-padding-bottom: 0;--_viewport-padding-left: 0;--_viewport-padding-right: 0;--_horizontal-thumb-display: block;--_vertical-thumb-display: block;--_viewport-overflow: auto;--_thumb-x-color: var(--scrollbar-thumb-color);--_thumb-y-color: var(--scrollbar-thumb-color);--_track-y-thickness: var(--_scrollbar-thickness-px);--_track-x-thickness: var(--_scrollbar-thickness-px);--_viewport-overscroll-behavior: var(--scrollbar-overscroll-behavior);--_scrollbar-content-width: fit-content}[_nghost-%COMP%]{--_vertical-top: var(--_scrollbar-offset-px);--_vertical-bottom: var(--_scrollbar-offset-px);--_horizontal-left: var(--_scrollbar-offset-px);--_horizontal-right: var(--_scrollbar-offset-px);--_horizontal-top: initial;--_horizontal-bottom: var(--_scrollbar-offset-px);--_scrollbar-wrapper-x-top: calc(var(--viewport-height) - var(--_scrollbar-thickness));--reached-offset: 1px;--reached-offset-top: var(--reached-offset);--reached-offset-bottom: var(--reached-offset);--reached-offset-start: var(--reached-offset);--reached-offset-end: var(--reached-offset);--_viewport_scroll-timeline: unset;--_animation-timeline-y: unset;--_scrollbar-y-thumb-transform-to-value: unset;--_scrollbar-x-thumb-transform-to-value: unset;--_scrollbar-thumb-transform-from: unset;--_scrollbar-thumb-transform-to: unset}.ng-scrollbar-external-viewport[_nghost-%COMP%]     .ng-scroll-viewport{min-height:100%;min-width:100%;height:100%;max-height:100%;max-width:100%}.ng-scroll-viewport[_nghost-%COMP%], .ng-scrollbar-external-viewport[_nghost-%COMP%]     .ng-scroll-viewport{position:relative;overflow:var(--_viewport-overflow);scroll-timeline:var(--_viewport_scroll-timeline);box-sizing:border-box!important;-webkit-overflow-scrolling:touch;will-change:scroll-position;-webkit-user-select:var(--_viewport-user-select);user-select:var(--_viewport-user-select);overscroll-behavior:var(--_viewport-overscroll-behavior)}[_nghost-%COMP%]     .ng-scroll-content{width:var(--_scrollbar-content-width);z-index:1;min-width:100%;min-height:100%;contain:content;padding:var(--_viewport-padding-top, 0) var(--_viewport-padding-right, 0) var(--_viewport-padding-bottom, 0) var(--_viewport-padding-left, 0)}.ng-scroll-viewport[_nghost-%COMP%], .ng-scrollbar-external-viewport[_nghost-%COMP%]     .ng-scroll-viewport{scrollbar-width:none!important}.ng-scroll-viewport[_nghost-%COMP%]::-webkit-scrollbar, .ng-scrollbar-external-viewport[_nghost-%COMP%]     .ng-scroll-viewport::-webkit-scrollbar{display:none!important}[position=invertX][_nghost-%COMP%], [position=invertAll][_nghost-%COMP%]{--_horizontal-top: var(--_scrollbar-offset-px);--_horizontal-bottom: initial;--_scrollbar-wrapper-x-top: 0}[dir=ltr][_nghost-%COMP%]{--_scrollbar-wrapper-y-right: initial;--_vertical-right: var(--_scrollbar-offset-px);--_vertical-left: initial;--_scrollbar-wrapper-y-left: calc(var(--viewport-width) - var(--_scrollbar-thickness))}[dir=ltr][position=invertY][_nghost-%COMP%], [dir=ltr][position=invertAll][_nghost-%COMP%]{--_vertical-left: var(--_scrollbar-offset-px);--_vertical-right: initial;--_scrollbar-wrapper-y-left: 0}[dir=rtl][_nghost-%COMP%]{--_scrollbar-wrapper-y-left: initial;--_vertical-left: var(--_scrollbar-offset-px);--_vertical-right: initial;--_scrollbar-wrapper-y-right: calc(var(--viewport-width) - var(--_scrollbar-thickness))}[dir=rtl][position=invertY][_nghost-%COMP%], [dir=rtl][position=invertAll][_nghost-%COMP%]{--_vertical-right: var(--_scrollbar-offset-px);--_vertical-left: initial;--_scrollbar-wrapper-y-right: 0}[verticalUsed=true][horizontalUsed=true][_nghost-%COMP%]{--_scrollbar-thickness-margin: calc(var(--scrollbar-thickness) + var(--scrollbar-offset) * 3);--_scrollbar-thickness-margin-px: calc(var(--_scrollbar-thickness-margin) * 1px)}[horizontalUsed=true][_nghost-%COMP%]{--_vertical-top: var(--_scrollbar-offset-px);--_vertical-bottom: var(--_scrollbar-thickness-margin-px)}[horizontalUsed=true][position=invertX][_nghost-%COMP%], [horizontalUsed=true][position=invertAll][_nghost-%COMP%]{--_vertical-top: var(--_scrollbar-thickness-margin-px);--_vertical-bottom: var(--_scrollbar-offset-px)}[verticalUsed=true][dir=ltr][_nghost-%COMP%]{--_horizontal-left: var(--_scrollbar-offset-px);--_horizontal-right: var(--_scrollbar-thickness-margin-px)}[verticalUsed=true][dir=rtl][_nghost-%COMP%]{--_horizontal-left: var(--_scrollbar-thickness-margin-px);--_horizontal-right: var(--_scrollbar-offset-px)}[verticalUsed=true][position=invertY][dir=ltr][_nghost-%COMP%], [verticalUsed=true][position=invertAll][dir=ltr][_nghost-%COMP%]{--_horizontal-left: var(--_scrollbar-thickness-margin-px);--_horizontal-right: var(--_scrollbar-offset-px)}[verticalUsed=true][position=invertY][dir=rtl][_nghost-%COMP%], [verticalUsed=true][position=invertAll][dir=rtl][_nghost-%COMP%]{--_horizontal-left: var(--_scrollbar-offset-px);--_horizontal-right: var(--_scrollbar-thickness-margin-px)}[appearance=native][verticalUsed=true][dir=ltr][_nghost-%COMP%]{--_viewport-padding-left: 0;--_viewport-padding-right: calc(var(--_scrollbar-thickness) * 1px)}[appearance=native][verticalUsed=true][dir=rtl][_nghost-%COMP%]{--_viewport-padding-left: calc(var(--_scrollbar-thickness) * 1px);--_viewport-padding-right: 0}[appearance=native][verticalUsed=true][position=invertY][dir=ltr][_nghost-%COMP%], [appearance=native][verticalUsed=true][position=invertAll][dir=ltr][_nghost-%COMP%]{--_viewport-padding-left: calc(var(--_scrollbar-thickness) * 1px);--_viewport-padding-right: 0}[appearance=native][verticalUsed=true][position=invertY][dir=rtl][_nghost-%COMP%], [appearance=native][verticalUsed=true][position=invertAll][dir=rtl][_nghost-%COMP%]{--_viewport-padding-left: 0;--_viewport-padding-right: calc(var(--_scrollbar-thickness) * 1px)}[appearance=native][horizontalUsed=true][_nghost-%COMP%]{--_viewport-padding-top: 0;--_viewport-padding-bottom: calc(var(--_scrollbar-thickness) * 1px)}[appearance=native][horizontalUsed=true][position=invertX][_nghost-%COMP%], [appearance=native][horizontalUsed=true][position=invertAll][_nghost-%COMP%]{--_viewport-padding-top: calc(var(--_scrollbar-thickness) * 1px);--_viewport-padding-bottom: 0}[visibility=hover][_nghost-%COMP%]{--_scrollbar-hover-opacity: 0;--_scrollbar-opacity-transition: opacity var(--scrollbar-hover-opacity-transition-leave-duration) var(--scrollbar-hover-opacity-transition-leave-delay)}[visibility=hover][_nghost-%COMP%]:hover, [visibility=hover][_nghost-%COMP%]:active, [visibility=hover][_nghost-%COMP%]:focus{--_scrollbar-hover-opacity: 1;--_scrollbar-opacity-transition: opacity var(--scrollbar-hover-opacity-transition-enter-duration)}[dir=ltr][_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=start]{left:0;right:unset}[dir=ltr][_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=end]{right:0;left:unset}[dir=rtl][_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=start]{right:0;left:unset}[dir=rtl][_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=end]{left:0;right:unset}[_nghost-%COMP%]     .ng-scroll-reached-wrapper, [_nghost-%COMP%]     .scroll-reached-trigger-element{position:absolute;-webkit-user-select:none;user-select:none;pointer-events:none;z-index:-9999}[_nghost-%COMP%]     .ng-scroll-reached-wrapper{visibility:hidden;inset:0;min-width:calc(var(--viewport-width) * 1px);min-height:calc(var(--viewport-height) * 1px)}[_nghost-%COMP%]     [isHorizontallyScrollable=false] .scroll-reached-trigger-element[trigger=end]{display:none}[_nghost-%COMP%]     [isVerticallyScrollable=false] .scroll-reached-trigger-element[trigger=bottom]{display:none}[_nghost-%COMP%]     .scroll-reached-trigger-element{background:red}[_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=top], [_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=bottom]{left:0;right:0}[_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=start], [_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=end]{top:0;bottom:0}[_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=top]{top:0;height:var(--reached-offset-top)}[_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=bottom]{bottom:0;height:var(--reached-offset-bottom)}[_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=start]{width:var(--reached-offset-start)}[_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=end]{width:var(--reached-offset-end)}[verticalUsed=true][_nghost-%COMP%]{--_timeline-scope: --scrollerY;--_animation-timeline-y: --scrollerY;--_viewport_scroll-timeline: --scrollerY y;--_scrollbar-y-thumb-transform-to-value: calc(var(--track-y-length) - var(--thumb-y-length))}[horizontalUsed=true][_nghost-%COMP%]{--_timeline-scope: --scrollerX;--_animation-timeline-x: --scrollerX;--_viewport_scroll-timeline: --scrollerX x;--_scrollbar-x-thumb-transform-to-value: calc(var(--track-x-length) - var(--thumb-x-length))}[verticalUsed=true][horizontalUsed=true][_nghost-%COMP%]{--_timeline-scope: --scrollerX, --scrollerY;--_viewport_scroll-timeline: --scrollerX x, --scrollerY y}[orientation=vertical][_nghost-%COMP%]{--_viewport-overflow: hidden auto;--_scrollbar-content-width: unset}[orientation=horizontal][_nghost-%COMP%]{--_viewport-overflow: auto hidden}[disableInteraction=true][_nghost-%COMP%]{--_scrollbar-pointer-events: none}[isVerticallyScrollable=false][_nghost-%COMP%]{--_vertical-thumb-display: none}[isHorizontallyScrollable=false][_nghost-%COMP%]{--_horizontal-thumb-display: none}[dragging=x][_nghost-%COMP%], [dragging=y][_nghost-%COMP%]{--_viewport-user-select: none}[horizontalUsed=true][_nghost-%COMP%]{--thumb-x-length: max(calc(var(--viewport-width) * var(--track-x-length) / var(--content-width)), var(--scrollbar-thumb-min-size))}[verticalUsed=true][_nghost-%COMP%]{--thumb-y-length: max(calc(var(--viewport-height) * var(--track-y-length) / var(--content-height)), var(--scrollbar-thumb-min-size))}[dragging=x][_nghost-%COMP%]{--_track-x-thickness: calc(var(--scrollbar-hover-thickness) * 1px);--_thumb-x-color: var(--scrollbar-thumb-hover-color)}[dragging=y][_nghost-%COMP%]{--_track-y-thickness: calc(var(--scrollbar-hover-thickness) * 1px);--_thumb-y-color: var(--scrollbar-thumb-hover-color)}[mobile=true][_nghost-%COMP%]{--_viewport-overscroll-behavior: var(--scrollbar-mobile-overscroll-behavior)}"],changeDetection:0})}return o})(),Be=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=t.$C({type:o});static#r=this.\u0275inj=t.G2t({})}return o})();var de=X(93331),pe=X(38117);function ue(o,C){const e=/(\d+)|(\D+)/g,i=/\d+/,_=C.value,E=String(o.value).match(e),D=String(_).match(e);for(;E.length&&D.length;){const R=E.shift(),B=D.shift();if(i.test(R)||i.test(B)){if(!i.test(R))return-1;if(!i.test(B))return 1;if(R!==B)return Number(B)-Number(R)}else if(R!==B)return B.localeCompare(R)}return D.length-E.length}var xt=X(3366),it=X(19664),Bt=X(45794);let Ue=(()=>{class o{apiService;toastr;translate;stats$;constructor(e,i,a){this.apiService=e,this.toastr=i,this.translate=a}reqInter(){this.apiService.getReqInter().subscribe(()=>{this.toastr.success(this.translate.instant("api.global.succes.scanlaunched.notify"))})}static \u0275fac=function(i){return new(i||o)(t.rXU(xt.G),t.rXU(Bt.tw),t.rXU(it.c$))};static \u0275cmp=t.VBU({type:o,selectors:[["app-req-network-inter"]],decls:16,vars:3,consts:[[1,"card"],["translate","network.inter.req.header",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-footer","d-flex","justify-content-end"],["translate","network.inter.req.button",1,"btn","btn-light",3,"click"]],template:function(i,a){1&i&&(t.j41(0,"div",0),t.EFF(1,"\n  "),t.nrm(2,"div",1),t.EFF(3,"\n  "),t.j41(4,"div",2),t.EFF(5,"\n    "),t.nrm(6,"p",3),t.nI1(7,"translate"),t.EFF(8,"\n  "),t.k0s(),t.EFF(9,"\n  "),t.j41(10,"div",4),t.EFF(11,"\n    "),t.j41(12,"button",5),t.bIt("click",function(){return a.reqInter()}),t.k0s(),t.EFF(13,"\n  "),t.k0s(),t.EFF(14,"\n"),t.k0s(),t.EFF(15,"\n")),2&i&&(t.R7$(6),t.Y8G("innerHTML",t.bMT(7,1,"network.inter.req.subtitle"),t.npT))},dependencies:[it.Mm,it.D9]})}return o})();var fe=X(28990),ge=X(21264);function Ge(o,C){if(1&o&&(t.j41(0,"div",4),t.EFF(1,"\n      "),t.nrm(2,"div",5),t.EFF(3,"\n      "),t.j41(4,"div",6),t.EFF(5,"\n        "),t.nrm(6,"p",7),t.nI1(7,"translate"),t.EFF(8,"\n        "),t.j41(9,"div",8),t.EFF(10,"\n          "),t.nrm(11,"div",9),t.EFF(12,"\n        "),t.k0s(),t.EFF(13,"\n      "),t.k0s(),t.EFF(14,"\n    "),t.k0s()),2&o){const e=t.XpG(2);t.R7$(6),t.Y8G("innerHTML",t.bMT(7,2,"network.stats.detail.visu.subtitle"),t.npT),t.R7$(5),t.Y8G("chart",e.chart)}}function Ve(o,C){if(1&o&&(t.j41(0,"div",2),t.EFF(1,"\n    "),t.DNE(2,Ge,15,4,"div",3),t.EFF(3,"\n  "),t.k0s()),2&o){const e=t.XpG();t.R7$(2),t.Y8G("ngIf",e.chart)}}function $e(o,C){if(1&o&&(t.j41(0,"div",4),t.EFF(1,"\n      "),t.nrm(2,"div",5),t.EFF(3,"\n      "),t.j41(4,"div",6),t.EFF(5,"\n        "),t.nrm(6,"p",7),t.nI1(7,"translate"),t.EFF(8,"\n        "),t.j41(9,"div",8),t.EFF(10,"\n          "),t.nrm(11,"div",10),t.EFF(12,"\n        "),t.k0s(),t.EFF(13,"\n      "),t.k0s(),t.EFF(14,"\n    "),t.k0s()),2&o){const e=t.XpG();t.R7$(6),t.Y8G("innerHTML",t.bMT(7,2,"network.stats.detail.visu.subtitle"),t.npT),t.R7$(5),t.Y8G("chart",e.chart2)}}let He=(()=>{class o extends fe.U{apiService;translate;timeStamp;chart;chart2;devices$;totalTx;totalFail;plugin;constructor(e,i){super(),this.apiService=e,this.translate=i}ngOnInit(){this.devices$=this.apiService.getDevices(),setTimeout(()=>{this.plugin=JSON.parse(sessionStorage.getItem("plugin"))},500)}ngOnChanges(e){e.timeStamp.currentValue!==e.timeStamp.previousValue&&this.apiService.getNwkStatsByTimeStamp(this.timeStamp).subscribe(i=>{this.createChart(i),this.createChart2(i)})}createChart(e){const i=[],a=[],_=[],E=[];e.forEach(B=>{const yt=B.Channels;yt.sort((lt,wt)=>Number(lt.Channel)-Number(wt.Channel)),B.Channels=yt}),e[0].Channels.forEach(B=>{a.push(B.Channel)}),e.forEach(B=>{const yt=[];let lt=0;B.Channels.forEach(wt=>{yt.push(wt.Level),E[lt]=E[lt]?Number(E[lt])+Number(wt.Level):Number(wt.Level),lt++}),i.push({name:B.ZDeviceName?B.ZDeviceName:B._NwkId,data:yt})}),E.forEach(B=>{B/=e.length,B=Number(B).toFixed(2),_.push(Number(B))});const D=i;D.push({name:"Average",data:_,type:"spline",marker:{lineWidth:2,lineColor:ge.getOptions().colors[3],fillColor:"white"}});const R=new et.t1({chart:{type:"column",height:"20%"},title:{text:this.translate.instant("network.stats.detail.visu.chart.title")},xAxis:{categories:a},yAxis:{title:{text:this.translate.instant("network.stats.detail.visu.chart.y-axis")}},credits:{enabled:!1},series:D});this.chart=R,this.subs.add(R.ref$.subscribe())}createChart2(e){const i=[],a=[];e.forEach(E=>{const D=E.Channels;D.sort((R,B)=>Number(R.Channel)-Number(B.Channel)),E.Channels=D}),e[0].Channels.forEach(E=>{a.push(E.Channel)}),e.forEach(E=>{const D=[];E.Channels.forEach(R=>{D.push(R.Level)}),i.push({name:E.ZDeviceName?E.ZDeviceName:E._NwkId,data:D,pointPlacement:"on"})});const _=new et.t1({chart:{height:"90%",polar:!0,type:"line"},pane:{},title:{text:this.translate.instant("network.stats.detail.visu.chart.title")},xAxis:{categories:a,tickmarkPlacement:"on",lineWidth:0},yAxis:{gridLineInterpolation:"polygon",lineWidth:0,min:0},tooltip:{shared:!0,pointFormat:'<span style="color:{series.color}">{series.name}: <b>{point.y:,.0f}</b><br/>'},legend:{align:"left",verticalAlign:"bottom"},credits:{enabled:!1},series:i,responsive:{rules:[{condition:{maxWidth:600},chartOptions:{legend:{align:"center",verticalAlign:"bottom"},pane:{size:"80%"}}}]}});this.chart2=_,this.subs.add(_.ref$.subscribe())}static \u0275fac=function(i){return new(i||o)(t.rXU(xt.G),t.rXU(it.c$))};static \u0275cmp=t.VBU({type:o,selectors:[["app-detail-nwk-stat"]],inputs:{timeStamp:"timeStamp"},features:[t.Vt3,t.OA$],decls:10,vars:2,consts:[[1,"row","row-cols-1","row-cols-md-2","g-4","mt-1"],["class","col",4,"ngIf"],[1,"col"],["class","card",4,"ngIf"],[1,"card"],["translate","network.stats.detail.visu.header",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-text"],[1,"text-center",3,"chart"],[3,"chart"]],template:function(i,a){1&i&&(t.j41(0,"div",0),t.EFF(1,"\n  "),t.DNE(2,Ve,4,1,"div",1),t.EFF(3,"\n  "),t.j41(4,"div",2),t.EFF(5,"\n    "),t.DNE(6,$e,15,4,"div",3),t.EFF(7,"\n  "),t.k0s(),t.EFF(8,"\n"),t.k0s(),t.EFF(9,"\n")),2&i&&(t.R7$(2),t.Y8G("ngIf",!(null!=a.plugin&&a.plugin.Zigpy)),t.R7$(4),t.Y8G("ngIf",a.chart2))},dependencies:[y.bT,it.Mm,et.S6,it.D9]})}return o})(),Qe=(()=>{class o{apiService;toastr;translate;stats$;constructor(e,i,a){this.apiService=e,this.toastr=i,this.translate=a}reqFull(){this.apiService.getNwkFull().subscribe(()=>{this.toastr.success(this.translate.instant("api.global.succes.scanlaunched.notify"))})}static \u0275fac=function(i){return new(i||o)(t.rXU(xt.G),t.rXU(Bt.tw),t.rXU(it.c$))};static \u0275cmp=t.VBU({type:o,selectors:[["app-req-network-full"]],decls:16,vars:3,consts:[[1,"card"],["translate","network.full.req.header",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-footer","d-flex","justify-content-end"],["translate","network.full.req.button",1,"btn","btn-light",3,"click"]],template:function(i,a){1&i&&(t.j41(0,"div",0),t.EFF(1,"\n  "),t.nrm(2,"div",1),t.EFF(3,"\n  "),t.j41(4,"div",2),t.EFF(5,"\n    "),t.nrm(6,"p",3),t.nI1(7,"translate"),t.EFF(8,"\n  "),t.k0s(),t.EFF(9,"\n  "),t.j41(10,"div",4),t.EFF(11,"\n    "),t.j41(12,"button",5),t.bIt("click",function(){return a.reqFull()}),t.k0s(),t.EFF(13,"\n  "),t.k0s(),t.EFF(14,"\n"),t.k0s(),t.EFF(15,"\n")),2&i&&(t.R7$(6),t.Y8G("innerHTML",t.bMT(7,1,"network.full.req.subtitle"),t.npT))},dependencies:[it.Mm,it.D9]})}return o})();function Ke(o,C){if(1&o){const e=t.RV6();t.j41(0,"span",14),t.EFF(1,"\n                    "),t.j41(2,"div",15),t.EFF(3,"\n                      "),t.j41(4,"button",16),t.bIt("click",function(){const a=t.eBV(e).$implicit,_=t.XpG(2);return t.Njj(_.nwkStatByDate(a.value))}),t.EFF(5),t.nI1(6,"date"),t.k0s(),t.EFF(7,"\n                    "),t.k0s(),t.EFF(8,"\n                    "),t.j41(9,"div",15),t.EFF(10,"\n                      "),t.j41(11,"button",17),t.nI1(12,"translate"),t.bIt("click",function(){const a=t.eBV(e).$implicit,_=t.XpG(2);return t.Njj(_.deleteNwkStatByDate(a.value))}),t.EFF(13,"\n                        "),t.nrm(14,"i",18),t.EFF(15,"\n                      "),t.k0s(),t.EFF(16,"\n                    "),t.k0s(),t.EFF(17,"\n                  "),t.k0s()}if(2&o){const e=C.$implicit;t.R7$(5),t.SpI("\n                        ",t.i5U(6,2,1e3*e.value,"dd/MM/yyyy HH:mm:ss"),"\n                      "),t.R7$(6),t.FS9("title",t.bMT(12,5,"network.stats.visu.delete.button"))}}function Ze(o,C){if(1&o&&(t.j41(0,"div",4),t.EFF(1,"\n      "),t.nrm(2,"div",5),t.EFF(3,"\n      "),t.j41(4,"div",6),t.EFF(5,"\n        "),t.nrm(6,"p",7),t.nI1(7,"translate"),t.EFF(8,"\n        "),t.j41(9,"div",8),t.EFF(10,"\n          "),t.j41(11,"div",9),t.EFF(12,"\n            "),t.j41(13,"div",10),t.EFF(14,"\n              "),t.j41(15,"ng-scrollbar",11),t.EFF(16,"\n                "),t.j41(17,"div",12),t.EFF(18,"\n                  "),t.DNE(19,Ke,18,7,"span",13),t.nI1(20,"keyvalue"),t.EFF(21,"\n                "),t.k0s(),t.EFF(22,"\n              "),t.k0s(),t.EFF(23,"\n            "),t.k0s(),t.EFF(24,"\n          "),t.k0s(),t.EFF(25,"\n        "),t.k0s(),t.EFF(26,"\n      "),t.k0s(),t.EFF(27,"\n    "),t.k0s()),2&o){const e=C.ngIf,i=t.XpG();t.R7$(6),t.Y8G("innerHTML",t.bMT(7,2,"network.stats.subtitle"),t.npT),t.R7$(13),t.Y8G("ngForOf",t.i5U(20,4,e,i.sortDesc))}}function qe(o,C){1&o&&t.nrm(0,"app-req-network-full")}function Je(o,C){if(1&o&&(t.j41(0,"div"),t.nrm(1,"app-detail-nwk-stat",19),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.Y8G("timeStamp",e.timeStamp)}}let tr=(()=>{class o{apiService;cdr;stats$;listSubject$=new Gt.B;timeStamp;plugin;constructor(e,i){this.apiService=e,this.cdr=i}ngOnInit(){this.stats$=this.apiService.getNwkStats(),setTimeout(()=>{this.plugin=JSON.parse(sessionStorage.getItem("plugin"))},500)}sortDesc(e,i){return ue(e,i)}nwkStatByDate(e){this.timeStamp=e}deleteNwkStatByDate(e){this.apiService.deleteNwkStatsByTimeStamp(e).subscribe(()=>{this.stats$=this.apiService.getNwkStats(),this.cdr.detectChanges()})}static \u0275fac=function(i){return new(i||o)(t.rXU(xt.G),t.rXU(t.gRc))};static \u0275cmp=t.VBU({type:o,selectors:[["app-nwk-stats"]],decls:17,vars:5,consts:[[1,"row","row-cols-1","row-cols-xxl-5","row-cols-xl-4","row-cols-lg-3","row-cols-md-2","row-cols-sm-1","g-4"],[1,"col"],["class","card",4,"ngIf"],[4,"ngIf"],[1,"card"],["translate","network.stats.header",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-text"],[1,"vertical-container"],[1,"content-container"],[1,"scroll-container"],[1,"scrollable-content"],["class","row d-flex align-items-center",4,"ngFor","ngForOf"],[1,"row","d-flex","align-items-center"],[1,"col-sm"],[1,"btn","btn-light",3,"click"],[1,"btn","btn-light",3,"click","title"],[1,"fa","fa-trash"],[3,"timeStamp"]],template:function(i,a){1&i&&(t.j41(0,"div",0),t.EFF(1,"\n  "),t.j41(2,"div",1),t.EFF(3,"\n    "),t.DNE(4,Ze,28,7,"div",2),t.nI1(5,"async"),t.EFF(6,"\n  "),t.k0s(),t.EFF(7,"\n  "),t.j41(8,"div",1),t.nrm(9,"app-req-network-inter"),t.k0s(),t.EFF(10,"\n  "),t.j41(11,"div",1),t.DNE(12,qe,1,0,"app-req-network-full",3),t.k0s(),t.EFF(13,"\n"),t.k0s(),t.EFF(14,"\n"),t.DNE(15,Je,2,1,"div",3),t.EFF(16,"\n")),2&i&&(t.R7$(4),t.Y8G("ngIf",t.bMT(5,3,a.stats$)),t.R7$(8),t.Y8G("ngIf",!(null!=a.plugin&&a.plugin.Zigpy)),t.R7$(3),t.Y8G("ngIf",a.timeStamp))},dependencies:[y.Sq,y.bT,it.Mm,he,Ue,He,Qe,y.Jj,y.vh,y.lG,it.D9],styles:[".content-container[_ngcontent-%COMP%]{position:relative;overflow:auto;height:150px;min-height:0}.vertical-container[_ngcontent-%COMP%], .horizontal-container[_ngcontent-%COMP%]{min-height:0}.scroll-container[_ngcontent-%COMP%]{position:relative}.scrollable-content[_ngcontent-%COMP%]{padding:16px;margin:0}"]})}return o})();var Ct=X(89417),me=X(97013),Ut=X(46247),er=X(5779);const rr=o=>({deviceSelected:o}),or=()=>[10,25,50];function ir(o,C){if(1&o&&(t.j41(0,"div",4),t.EFF(1,"\n      "),t.nrm(2,"div",5),t.EFF(3,"\n      "),t.j41(4,"div",6),t.EFF(5,"\n        "),t.nrm(6,"p",7),t.nI1(7,"translate"),t.EFF(8,"\n        "),t.nrm(9,"div",8),t.EFF(10,"\n      "),t.k0s(),t.EFF(11,"\n    "),t.k0s()),2&o){const e=t.XpG();t.R7$(6),t.Y8G("innerHTML",t.bMT(7,2,"network.topo.visu.subtitle"),t.npT),t.R7$(3),t.Y8G("chart",e.chart1)}}function sr(o,C){if(1&o&&(t.EFF(0,"\n                  "),t.j41(1,"span"),t.EFF(2,"\n                    "),t.j41(3,"b"),t.EFF(4,"Name"),t.k0s(),t.EFF(5),t.j41(6,"b"),t.EFF(7,"IEEE"),t.k0s(),t.EFF(8),t.j41(9,"b"),t.EFF(10,"Model"),t.k0s(),t.EFF(11),t.k0s(),t.EFF(12,"\n                ")),2&o){const e=C.item;t.R7$(5),t.SpI(" : ",e.ZDeviceName," - "),t.R7$(3),t.SpI(" : ",e.IEEE," - "),t.R7$(3),t.SpI(" :\n                    ",e.Model,"\n                  ")}}function nr(o,C){1&o&&(t.EFF(0,"\n                        "),t.j41(1,"tr"),t.EFF(2,"\n                          "),t.j41(3,"th",22),t.EFF(4),t.nI1(5,"translate"),t.nrm(6,"p-sortIcon",23),t.EFF(7,"\n                          "),t.k0s(),t.EFF(8,"\n                          "),t.j41(9,"th",24),t.EFF(10),t.nI1(11,"translate"),t.nrm(12,"p-sortIcon",25),t.EFF(13,"\n                          "),t.k0s(),t.EFF(14,"\n                          "),t.j41(15,"th",26),t.EFF(16),t.nI1(17,"translate"),t.nrm(18,"p-sortIcon",27),t.EFF(19,"\n                          "),t.k0s(),t.EFF(20,"\n                          "),t.j41(21,"th",28),t.EFF(22),t.nI1(23,"translate"),t.nrm(24,"p-sortIcon",29),t.EFF(25,"\n                          "),t.k0s(),t.EFF(26,"\n                          "),t.j41(27,"th",30),t.EFF(28),t.nI1(29,"translate"),t.nrm(30,"p-sortIcon",31),t.EFF(31,"\n                          "),t.k0s(),t.EFF(32,"\n                          "),t.j41(33,"th",32),t.EFF(34),t.nI1(35,"translate"),t.nrm(36,"p-sortIcon",33),t.EFF(37,"\n                          "),t.k0s(),t.EFF(38,"\n                        "),t.k0s(),t.EFF(39,"\n                      ")),2&o&&(t.R7$(4),t.SpI("\n                            ",t.bMT(5,6,"network.topo.visu.network.relation.to"),""),t.R7$(6),t.SpI("\n                            ",t.bMT(11,8,"network.topo.visu.network.relation.weight"),""),t.R7$(6),t.SpI("\n                            ",t.bMT(17,10,"network.topo.visu.network.relation.model"),""),t.R7$(6),t.SpI("\n                            ",t.bMT(23,12,"network.topo.visu.network.relation.status"),""),t.R7$(6),t.SpI("\n                            ",t.bMT(29,14,"network.topo.visu.network.relation.health"),""),t.R7$(6),t.SpI("\n                            ",t.bMT(35,16,"network.topo.visu.network.relation.battery"),""))}function ar(o,C){if(1&o&&(t.EFF(0,"\n                        "),t.j41(1,"tr"),t.EFF(2,"\n                          "),t.j41(3,"td"),t.EFF(4),t.k0s(),t.EFF(5,"\n                          "),t.j41(6,"td"),t.EFF(7),t.k0s(),t.EFF(8,"\n                          "),t.j41(9,"td"),t.EFF(10),t.k0s(),t.EFF(11,"\n                          "),t.j41(12,"td"),t.EFF(13),t.k0s(),t.EFF(14,"\n                          "),t.j41(15,"td"),t.EFF(16),t.k0s(),t.EFF(17,"\n                          "),t.j41(18,"td"),t.EFF(19),t.k0s(),t.EFF(20,"\n                        "),t.k0s()),2&o){const e=C.$implicit;t.R7$(4),t.SpI("\n                            ",e.to,"\n                          "),t.R7$(3),t.SpI("\n                            ",e.weight,"\n                          "),t.R7$(3),t.SpI("\n                            ",e.Model,"\n                          "),t.R7$(3),t.SpI("\n                            ",e.Status,"\n                          "),t.R7$(3),t.SpI("\n                            ",e.Health,"\n                          "),t.R7$(3),t.SpI("\n                            ",e.Battery,"\n                          ")}}function lr(o,C){if(1&o&&(t.j41(0,"div",17),t.EFF(1,"\n            "),t.j41(2,"div",2),t.EFF(3,"\n              "),t.j41(4,"div",4),t.EFF(5,"\n                "),t.nrm(6,"div",18),t.EFF(7,"\n                "),t.j41(8,"div",6),t.EFF(9,"\n                  "),t.nrm(10,"p",7),t.nI1(11,"translate"),t.EFF(12,"\n                  "),t.j41(13,"div",10),t.EFF(14,"\n                    "),t.j41(15,"p-table",19,0),t.nI1(17,"translate"),t.EFF(18,"\n                      "),t.DNE(19,nr,40,18,"ng-template",20),t.EFF(20,"\n                      "),t.DNE(21,ar,21,6,"ng-template",21),t.EFF(22,"\n                    "),t.k0s(),t.EFF(23,"\n                  "),t.k0s(),t.EFF(24,"\n                "),t.k0s(),t.EFF(25,"\n              "),t.k0s(),t.EFF(26,"\n            "),t.k0s(),t.EFF(27,"\n          "),t.k0s()),2&o){const e=t.XpG(2);t.R7$(6),t.Y8G("translateParams",t.eq3(14,rr,e.selectedPoint.name)),t.R7$(4),t.Y8G("innerHTML",t.bMT(11,10,"network.topo.visu.network.relation.subtitle"),t.npT),t.R7$(5),t.FS9("currentPageReportTemplate",t.bMT(17,12,"TOTAL")),t.Y8G("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",t.lJ4(16,or))("value",e.relationsSelected)("rows",10)("paginator",!0)("scrollable",!0)}}function cr(o,C){if(1&o&&(t.j41(0,"div",4),t.EFF(1,"\n      "),t.nrm(2,"div",9),t.EFF(3,"\n      "),t.j41(4,"div",6),t.EFF(5,"\n        "),t.nrm(6,"p",7),t.nI1(7,"translate"),t.EFF(8,"\n        "),t.j41(9,"div",10),t.EFF(10,"\n          "),t.j41(11,"div"),t.EFF(12,"\n            "),t.j41(13,"form",11),t.EFF(14,"\n              "),t.nrm(15,"input",12),t.EFF(16,"\n              "),t.j41(17,"ng-select",13),t.nI1(18,"translate"),t.EFF(19,"\n                "),t.DNE(20,sr,13,3,"ng-template",14),t.EFF(21,"\n              "),t.k0s(),t.EFF(22,"\n            "),t.k0s(),t.EFF(23,"\n          "),t.k0s(),t.EFF(24,"\n          "),t.nrm(25,"div",15),t.EFF(26,"\n          "),t.DNE(27,lr,28,17,"div",16),t.EFF(28,"\n        "),t.k0s(),t.EFF(29,"\n      "),t.k0s(),t.EFF(30,"\n    "),t.k0s()),2&o){const e=t.XpG();t.R7$(6),t.Y8G("innerHTML",t.bMT(7,9,"network.topo.visu.network.subtitle"),t.npT),t.R7$(7),t.Y8G("formGroup",e.form),t.R7$(4),t.FS9("placeholder",t.bMT(18,11,"network.topo.visu.network.filter")),t.Y8G("items",e.devices)("multiple",!1)("closeOnSelect",!0)("searchable",!0),t.R7$(8),t.Y8G("chart",e.chart2),t.R7$(2),t.Y8G("ngIf",e.relationsSelected)}}let hr=(()=>{class o extends fe.U{apiService;translate;formBuilder;timeStamp;chart1;chart2;form;datas;devices;showDetail=!1;device;data;relationsSelected;selectedPoint;constructor(e,i,a){super(),this.apiService=e,this.translate=i,this.formBuilder=a}ngOnInit(){this.form=this.formBuilder.group({nodeToFilter:[null],detail:[null]}),this.apiService.getZDeviceName().subscribe(e=>{this.devices=e,this.devices.unshift({IEEE:"",MacCapa:[""],Model:"",Health:"",Status:"",WidgetList:[""],ZDeviceName:"Zigbee Coordinator",_NwkId:""})}),this.subs.sink=this.form.get("nodeToFilter").valueChanges.subscribe(e=>{this.createChart2(e)}),this.subs.add(this.form.get("detail").valueChanges.subscribe(()=>{const e=[];this.selectedPoint=this.chart2.ref.hoverPoint,this.selectedPoint.linksFrom.map(_=>_.options).map(_=>{const E=this.devices.find(D=>D.ZDeviceName===_.to||D._NwkId===_.to);e.push({to:_.to,from:_.from,weight:_.weight,Model:E.Model,Status:E.Status,Health:E.Health,Battery:E.Battery})}),this.selectedPoint.linksTo.map(_=>_.options).map(_=>{if(!e.some(E=>E.to===_.from)){const E=this.devices.find(D=>D.ZDeviceName===_.from||D._NwkId===_.from);e.push({to:_.from,from:_.from,weight:E.LQI,Model:E.Model,Status:E.Status,Health:E.Health,Battery:E.Battery})}}),this.relationsSelected=e}))}ngOnChanges(e){e.timeStamp.currentValue!==e.timeStamp.previousValue&&this.apiService.getTopologieByTimeStamp(this.timeStamp).subscribe(i=>{this.datas=i,this.createChart1(),this.createChart2()})}createChart1(){const e=this.datas.map(a=>{const _=Object.values(a);return _.splice(1,1),_}),i=new et.t1({chart:{type:"dependencywheel",height:"80%"},title:{text:this.translate.instant("network.topo.device.visu.chart.title")},credits:{enabled:!1},series:[{type:void 0,keys:["to","from","weight"],data:e}]});this.chart1=i}createChart2(e){let i=this.datas.map(E=>{const D=Object.values(E);return D.splice(1,1),D});e&&(i=i.filter(E=>E[0].toLowerCase()===e.toLowerCase()||E[1].toLowerCase()===e.toLowerCase()));const a=[{nodes:void 0,type:void 0,keys:["to","from","weight"],dataLabels:{enabled:!0,linkFormat:""},data:i}];this.test(a);const _=new et.t1({chart:{type:"networkgraph",height:"80%"},title:{text:this.translate.instant("network.topo.device.visu.network.chart.title")},credits:{enabled:!1},plotOptions:{networkgraph:{keys:["to","from","weight"],layoutAlgorithm:{enableSimulation:!0,integration:"verlet"}},series:{point:{events:{click:function(){document.getElementById("detail").dispatchEvent(new Event("input",{bubbles:!0}))}}}}},series:a});this.chart2=_}test(e){const i=ge.getOptions().colors;let a=0;const _={"Zigbee Coordinator":{id:"Zigbee Coordinator",marker:{radius:20}}},E=this.datas.filter(R=>"Zigbee Coordinator"===R.Child),D=[];E.forEach(R=>{_[R.Father]={id:R.Father,marker:{radius:10},color:i[a++]},D.push(R.Father)}),this.colorNode(_,D),e[0].nodes=Object.keys(_).map(function(R){return _[R]})}colorNode(e,i){i.forEach(a=>{const _=[];this.datas.filter(D=>D.Child===a).forEach(D=>{e[D.Father]||(e[D.Father]={id:D.Father,color:e[D.Child].color},_.push(D.Father))}),_.length>0&&this.colorNode(e,_)})}static \u0275fac=function(i){return new(i||o)(t.rXU(xt.G),t.rXU(it.c$),t.rXU(Ct.ok))};static \u0275cmp=t.VBU({type:o,selectors:[["app-detail-topology"]],inputs:{timeStamp:"timeStamp"},features:[t.Vt3,t.OA$],decls:13,vars:2,consts:[["dt1",""],[1,"row","row-cols-1","row-cols-lg-2","g-4","mt-1"],[1,"col"],["class","card",4,"ngIf"],[1,"card"],["translate","network.topo.visu.header",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-text",3,"chart"],["translate","network.topo.visu.network.header",1,"card-header","fw-bold"],[1,"card-text"],[3,"formGroup"],["type","hidden","formControlName","detail","id","detail"],["bindLabel","ZDeviceName","bindValue","ZDeviceName","appendTo","body","formControlName","nodeToFilter",3,"items","multiple","closeOnSelect","searchable","placeholder"],["ng-option-tmp",""],[3,"chart"],["class","row",4,"ngIf"],[1,"row"],["translate","network.topo.visu.network.relation.header",1,"card-header","fw-bold",3,"translateParams"],["styleClass","p-datatable-sm","responsiveLayout","scroll",3,"rowHover","showCurrentPageReport","currentPageReportTemplate","rowsPerPageOptions","value","rows","paginator","scrollable"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","to"],["field","to"],["pSortableColumn","weight"],["field","weight"],["pSortableColumn","Model",2,"width","8rem"],["field","Model"],["pSortableColumn","Status",2,"width","10rem"],["field","Status"],["pSortableColumn","Health"],["field","Health"],["pSortableColumn","Battery"],["field","Battery"]],template:function(i,a){1&i&&(t.j41(0,"div",1),t.EFF(1,"\n  "),t.j41(2,"div",2),t.EFF(3,"\n    "),t.DNE(4,ir,12,4,"div",3),t.EFF(5,"\n  "),t.k0s(),t.EFF(6,"\n  "),t.j41(7,"div",2),t.EFF(8,"\n    "),t.DNE(9,cr,31,13,"div",3),t.EFF(10,"\n  "),t.k0s(),t.EFF(11,"\n"),t.k0s(),t.EFF(12,"\n")),2&i&&(t.R7$(4),t.Y8G("ngIf",a.chart1),t.R7$(5),t.Y8G("ngIf",a.chart2))},dependencies:[y.bT,Ct.qT,Ct.me,Ct.BC,Ct.cb,Ct.j4,Ct.JD,me.vr,me.Uq,it.Mm,Ut.XI,er.Ei,Ut.Tg,Ut.yc,et.S6,it.D9]})}return o})(),dr=(()=>{class o{apiService;toastr;translate;stats$;constructor(e,i,a){this.apiService=e,this.toastr=i,this.translate=a}reqTopology(){this.apiService.getReqTopologie().subscribe(()=>{this.toastr.success(this.translate.instant("api.global.succes.scanlaunched.notify"))})}static \u0275fac=function(i){return new(i||o)(t.rXU(xt.G),t.rXU(Bt.tw),t.rXU(it.c$))};static \u0275cmp=t.VBU({type:o,selectors:[["app-req-topology"]],decls:16,vars:3,consts:[[1,"card"],["translate","network.topology.req.header",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-footer","d-flex","justify-content-end"],["translate","network.topology.req.button",1,"btn","btn-light",3,"click"]],template:function(i,a){1&i&&(t.j41(0,"div",0),t.EFF(1,"\n  "),t.nrm(2,"div",1),t.EFF(3,"\n  "),t.j41(4,"div",2),t.EFF(5,"\n    "),t.nrm(6,"p",3),t.nI1(7,"translate"),t.EFF(8,"\n  "),t.k0s(),t.EFF(9,"\n  "),t.j41(10,"div",4),t.EFF(11,"\n    "),t.j41(12,"button",5),t.bIt("click",function(){return a.reqTopology()}),t.k0s(),t.EFF(13,"\n  "),t.k0s(),t.EFF(14,"\n"),t.k0s(),t.EFF(15,"\n")),2&i&&(t.R7$(6),t.Y8G("innerHTML",t.bMT(7,1,"network.topology.req.subtitle"),t.npT))},dependencies:[it.Mm,it.D9]})}return o})();function pr(o,C){if(1&o){const e=t.RV6();t.j41(0,"span",14),t.EFF(1,"\n                    "),t.j41(2,"button",15),t.bIt("click",function(){const a=t.eBV(e).$implicit,_=t.XpG(2);return t.Njj(_.topologyByDate(a.value))}),t.EFF(3),t.nI1(4,"date"),t.k0s(),t.EFF(5,"\n                    "),t.j41(6,"button",16),t.nI1(7,"translate"),t.bIt("click",function(){const a=t.eBV(e).$implicit,_=t.XpG(2);return t.Njj(_.deleteTopologyByDate(a.value))}),t.EFF(8,"\n                      "),t.nrm(9,"i",17),t.EFF(10,"\n                    "),t.k0s(),t.EFF(11,"\n                  "),t.k0s()}if(2&o){const e=C.$implicit;t.R7$(3),t.SpI("\n                      ",t.i5U(4,2,1e3*e.value,"dd/MM/yyyy HH:mm:ss"),"\n                    "),t.R7$(3),t.FS9("title",t.bMT(7,5,"network.topo.visu.delete.button"))}}function ur(o,C){if(1&o&&(t.j41(0,"div",4),t.EFF(1,"\n      "),t.nrm(2,"div",5),t.EFF(3,"\n      "),t.j41(4,"div",6),t.EFF(5,"\n        "),t.nrm(6,"p",7),t.nI1(7,"translate"),t.EFF(8,"\n        "),t.j41(9,"div",8),t.EFF(10,"\n          "),t.j41(11,"div",9),t.EFF(12,"\n            "),t.j41(13,"div",10),t.EFF(14,"\n              "),t.j41(15,"ng-scrollbar",11),t.EFF(16,"\n                "),t.j41(17,"div",12),t.EFF(18,"\n                  "),t.DNE(19,pr,12,7,"span",13),t.nI1(20,"keyvalue"),t.EFF(21,"\n                "),t.k0s(),t.EFF(22,"\n              "),t.k0s(),t.EFF(23,"\n            "),t.k0s(),t.EFF(24,"\n          "),t.k0s(),t.EFF(25,"\n        "),t.k0s(),t.EFF(26,"\n      "),t.k0s(),t.EFF(27,"\n    "),t.k0s()),2&o){const e=C.ngIf,i=t.XpG();t.R7$(6),t.Y8G("innerHTML",t.bMT(7,2,"network.topo.subtitle"),t.npT),t.R7$(13),t.Y8G("ngForOf",t.i5U(20,4,e,i.sortDesc))}}function fr(o,C){if(1&o&&(t.j41(0,"div"),t.nrm(1,"app-detail-topology",18),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.Y8G("timeStamp",e.timeStamp)}}const gr=[{path:"topology",component:(()=>{class o{apiService;cdr;timeStamp;topologies$;constructor(e,i){this.apiService=e,this.cdr=i}ngOnInit(){this.topologies$=this.apiService.getTopologie()}sortDesc(e,i){return ue(e,i)}topologyByDate(e){this.timeStamp=e}deleteTopologyByDate(e){this.apiService.deleteTopologieByTimeStamp(e).subscribe(()=>{this.topologies$=this.apiService.getTopologie(),this.cdr.detectChanges()})}static \u0275fac=function(i){return new(i||o)(t.rXU(xt.G),t.rXU(t.gRc))};static \u0275cmp=t.VBU({type:o,selectors:[["app-topology"]],decls:14,vars:4,consts:[[1,"row","row-cols-1","row-cols-xxl-5","row-cols-xl-4","row-cols-lg-3","row-cols-md-2","row-cols-sm-1","g-4"],[1,"col"],["class","card",4,"ngIf"],[4,"ngIf"],[1,"card"],["translate","network.topo.header",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-text"],[1,"vertical-container"],[1,"content-container"],[1,"scroll-container"],[1,"scrollable-content"],["class","d-sm-flex gap-2",4,"ngFor","ngForOf"],[1,"d-sm-flex","gap-2"],[1,"btn","btn-light",3,"click"],[1,"btn","btn-light",3,"click","title"],[1,"fa","fa-trash"],[3,"timeStamp"]],template:function(i,a){1&i&&(t.j41(0,"div",0),t.EFF(1,"\n  "),t.j41(2,"div",1),t.EFF(3,"\n    "),t.DNE(4,ur,28,7,"div",2),t.nI1(5,"async"),t.EFF(6,"\n  "),t.k0s(),t.EFF(7,"\n  "),t.j41(8,"div"),t.nrm(9,"app-req-topology"),t.k0s(),t.EFF(10,"\n"),t.k0s(),t.EFF(11,"\n"),t.DNE(12,fr,2,1,"div",3),t.EFF(13,"\n")),2&i&&(t.R7$(4),t.Y8G("ngIf",t.bMT(5,2,a.topologies$)),t.R7$(8),t.Y8G("ngIf",a.timeStamp))},dependencies:[y.Sq,y.bT,it.Mm,he,hr,dr,y.Jj,y.vh,y.lG,it.D9],styles:[".content-container[_ngcontent-%COMP%]{position:relative;overflow:auto;height:150px;min-height:0}.vertical-container[_ngcontent-%COMP%], .horizontal-container[_ngcontent-%COMP%]{min-height:0}.scroll-container[_ngcontent-%COMP%]{position:relative}.scrollable-content[_ngcontent-%COMP%]{padding:16px;margin:0}"]})}return o})(),data:{title:(0,pe.o6)("network.topo")}},{path:"energy-level",component:tr,data:{title:(0,pe.o6)("network.energy")}}];let mr=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=t.$C({type:o});static \u0275inj=t.G2t({imports:[de.iI.forChild(gr),de.iI]})}return o})(),vr=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=t.$C({type:o});static \u0275inj=t.G2t({providers:[{provide:et.SV,useFactory:()=>[Q,Z,L,k,T]}],imports:[mr,dt.G,et.Fr,Be]})}return o})()},69820:(nt,_t,X)=>{var dt,et,Q;Q=function(Q){"use strict";var k=Q?Q._modules:{};function Z(T,L,M,t){T.hasOwnProperty(L)||(T[L]=t.apply(null,M),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:L,module:T[L]}})))}Z(k,"Series/DependencyWheel/DependencyWheelPoint.js",[k["Core/Series/SeriesRegistry.js"],k["Core/Utilities.js"]],function(T,L){const{sankey:{prototype:{pointClass:M}}}=T.seriesTypes,{pInt:t,wrap:O}=L;return class N extends M{getDataLabelPath(P){const c=this,h=c.series.chart.renderer,m=c.shapeArgs,S=c.angle<0||c.angle>Math.PI,f=m.start||0,F=m.end||0;return c.dataLabelPath?(c.dataLabelPath=c.dataLabelPath.destroy(),delete c.dataLabelPath):O(P,"destroy",function(n){return c.dataLabelPath&&(c.dataLabelPath=c.dataLabelPath.destroy()),n.call(this)}),c.dataLabelPath=h.arc({open:!0,longArc:Math.abs(Math.abs(f)-Math.abs(F))<Math.PI?0:1}).attr({x:m.x,y:m.y,r:(m.r||0)+t(P.options?.distance||0),start:S?f:F,end:S?F:f,clockwise:+S}).add(h.defs),c.dataLabelPath}isValid(){return!0}}}),Z(k,"Series/DependencyWheel/DependencyWheelSeriesDefaults.js",[],function(){return{center:[null,null],curveFactor:.6,startAngle:0,dataLabels:{textPath:{enabled:!1,attributes:{dy:5}}}}}),Z(k,"Series/DependencyWheel/DependencyWheelSeries.js",[k["Core/Animation/AnimationUtilities.js"],k["Series/DependencyWheel/DependencyWheelPoint.js"],k["Series/DependencyWheel/DependencyWheelSeriesDefaults.js"],k["Core/Globals.js"],k["Series/Sankey/SankeyColumnComposition.js"],k["Core/Series/SeriesRegistry.js"],k["Core/Utilities.js"]],function(T,L,M,t,O,N,j){const{animObject:P}=T,{deg2rad:c}=t,{pie:h,sankey:m}=N.seriesTypes,{extend:S,merge:f,relativeLength:F}=j;class n extends m{animate(d){const l=this;if(!d){const b=P(l.options.animation).duration/2/l.nodes.length;let p=0;for(const v of l.nodes){const I=v.graphic;I&&(I.attr({opacity:0}),setTimeout(()=>{v.graphic&&v.graphic.animate({opacity:1},{duration:b})},b*p++))}for(const v of l.points){const I=v.graphic;!v.isNode&&I&&I.attr({opacity:0}).animate({opacity:1},l.options.animation)}}}createNode(d){const l=super.createNode(d);return l.getSum=()=>l.linksFrom.concat(l.linksTo).reduce((g,b)=>g+b.weight,0),l.offset=g=>{const b=r=>r.fromNode===l?r.toNode:r.fromNode;let I,p=0,v=l.linksFrom.concat(l.linksTo);v.sort((r,u)=>b(r).index-b(u).index);for(let r=0;r<v.length;r++)if(b(v[r]).index>l.index){v=v.slice(0,r).reverse().concat(v.slice(r).reverse()),I=!0;break}I||v.reverse();for(let r=0;r<v.length;r++){if(v[r]===g)return p;p+=v[r].weight}},l}createNodeColumns(){const d=this,l=[O.compose([],d)];for(const g of d.nodes)g.column=0,l[0].push(g);return l}getNodePadding(){return this.options.nodePadding/Math.PI}translate(){const d=this,l=d.options,g=2*Math.PI/(d.chart.plotHeight+d.getNodePadding()),b=d.getCenter(),p=(l.startAngle-90)*c,v=l.borderRadius,I="object"==typeof v?v.radius:v;super.translate();for(const r of this.nodeColumns[0])if(r.sum){const u=r.shapeArgs,w=b[0],x=b[1],y=b[2]/2,z=y-F(("auto"===l.nodeWidth?20:l.nodeWidth)||0,y),V=p+g*(u.y||0),K=p+g*((u.y||0)+(u.height||0));r.angle=V+(K-V)/2,r.shapeType="arc",r.shapeArgs={x:w,y:x,r:y,innerR:z,start:V,end:K,borderRadius:I},r.dlBox={x:w+Math.cos((V+K)/2)*(y+z)/2,y:x+Math.sin((V+K)/2)*(y+z)/2,width:1,height:1};for(const q of r.linksFrom)if(q.linkBase){let $,W;const J=q.linkBase.map((A,U)=>{const G=g*A,H=Math.cos(p+G)*(z+1),ot=Math.sin(p+G)*(z+1);return $=l.curveFactor||0,W=Math.abs(q.linkBase[3-U]*g-G),W>Math.PI&&(W=2*Math.PI-W),W*=z,W<z&&($*=W/z),{x:w+H,y:x+ot,cpX:w+(1-$)*H,cpY:x+(1-$)*ot}});q.shapeArgs={d:[["M",J[0].x,J[0].y],["A",z,z,0,0,1,J[1].x,J[1].y],["C",J[1].cpX,J[1].cpY,J[2].cpX,J[2].cpY,J[2].x,J[2].y],["A",z,z,0,0,1,J[3].x,J[3].y],["C",J[3].cpX,J[3].cpY,J[0].cpX,J[0].cpY,J[0].x,J[0].y]]}}}}}return n.defaultOptions=f(m.defaultOptions,M),S(n.prototype,{orderNodes:!1,getCenter:h.prototype.getCenter}),n.prototype.pointClass=L,N.registerSeriesType("dependencywheel",n),n}),Z(k,"masters/modules/dependency-wheel.src.js",[k["Core/Globals.js"]],function(T){return T})},nt.exports?(Q.default=Q,nt.exports=Q):(dt=[X(21264),X(95606)],void 0!==(et=function(k){return Q(k),Q.Highcharts=k,Q}.apply(_t,dt))&&(nt.exports=et))},2501:(nt,_t,X)=>{var dt,et,Q;Q=function(Q){"use strict";var k=Q?Q._modules:{};function Z(T,L,M,t){T.hasOwnProperty(L)||(T[L]=t.apply(null,M),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:L,module:T[L]}})))}Z(k,"Series/DragNodesComposition.js",[k["Core/Globals.js"],k["Core/Utilities.js"]],function(T,L){const{composed:M}=T,{addEvent:t,pushUnique:O}=L;function j(){const f=this;let F,n,s;f.container&&(F=t(f.container,"mousedown",d=>{const l=f.hoverPoint;l&&l.series&&l.series.hasDraggableNodes&&l.series.options.draggable&&(l.series.onMouseDown(l,d),n=t(f.container,"mousemove",g=>l&&l.series&&l.series.onMouseMove(l,g)),s=t(f.container.ownerDocument,"mouseup",g=>(n(),s(),l&&l.series&&l.series.onMouseUp(l,g))))})),t(f,"destroy",function(){F()})}return{compose:function N(f){O(M,"DragNodes")&&t(f,"load",j)},onMouseDown:function P(f,F){const n=this.chart.pointer?.normalize(F)||F;f.fixedPosition={chartX:n.chartX,chartY:n.chartY,plotX:f.plotX,plotY:f.plotY},f.inDragMode=!0},onMouseMove:function c(f,F){if(f.fixedPosition&&f.inDragMode){const s=this.chart,d=s.pointer?.normalize(F)||F,l=f.fixedPosition.chartX-d.chartX,g=f.fixedPosition.chartY-d.chartY,b=s.graphLayoutsLookup;let p,v;(Math.abs(l)>5||Math.abs(g)>5)&&(p=f.fixedPosition.plotX-l,v=f.fixedPosition.plotY-g,s.isInsidePlot(p,v)&&(f.plotX=p,f.plotY=v,f.hasDragged=!0,this.redrawHalo(f),b.forEach(I=>{I.restartSimulation()})))}},onMouseUp:function h(f){f.fixedPosition&&(f.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),f.inDragMode=f.hasDragged=!1,this.options.fixedDraggable||delete f.fixedPosition)},redrawHalo:function m(f){f&&this.halo&&this.halo.attr({d:f.haloPath(this.options.states.hover.halo.size)})}}}),Z(k,"Series/GraphLayoutComposition.js",[k["Core/Animation/AnimationUtilities.js"],k["Core/Globals.js"],k["Core/Utilities.js"]],function(T,L,M){const{setAnimation:t}=T,{composed:O}=L,{addEvent:N,pushUnique:j}=M;function m(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(s=>{s.updateSimulation()}),this.redraw())}function S(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(s=>{s.updateSimulation(!1)}),this.redraw())}function f(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(s=>{s.stop()})}function F(){let s,d=!1;const l=g=>{g.maxIterations--&&isFinite(g.temperature)&&!g.isStable()&&!g.enableSimulation&&(g.beforeStep&&g.beforeStep(),g.step(),s=!1,d=!0)};if(this.graphLayoutsLookup){for(t(!1,this),this.graphLayoutsLookup.forEach(g=>g.start());!s;)s=!0,this.graphLayoutsLookup.forEach(l);d&&this.series.forEach(g=>{g&&g.layout&&g.render()})}}return{compose:function h(s){j(O,"GraphLayout")&&(N(s,"afterPrint",m),N(s,"beforePrint",S),N(s,"predraw",f),N(s,"render",F))},integrations:{},layouts:{}}}),Z(k,"Series/NodesComposition.js",[k["Core/Series/SeriesRegistry.js"],k["Core/Utilities.js"]],function(T,L){const{series:{prototype:M,prototype:{pointClass:{prototype:t}}}}=T,{defined:O,extend:N,find:j,merge:P,pick:c}=L;var h;return function(m){function F(){return this.data=[].concat(this.points||[],this.nodes),M.destroy.apply(this,arguments)}function s(){this.nodes&&(this.nodes.forEach(g=>{g.destroy()}),this.nodes.length=0),M.setData.apply(this,arguments)}function d(g){const b=arguments,p=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==g&&p.forEach(v=>{v&&v.series&&(t.setState.apply(v,b),v.isNode||(v.fromNode.graphic&&t.setState.apply(v.fromNode,b),v.toNode&&v.toNode.graphic&&t.setState.apply(v.toNode,b)))}),t.setState.apply(this,b)}function l(g,b,p,v){const I=this.series.options.nodes,r=this.series.options.data,u=r&&r.length||0,w=r&&r[this.index];if(t.update.call(this,g,!this.isNode&&b,p,v),this.isNode){const x=(I||[]).reduce((Y,z,V)=>this.id===z.id?V:Y,-1),y=P(I&&I[x]||{},r&&r[this.index]||{});r&&(w?r[this.index]=w:r.length=u),I?x>=0?I[x]=y:I.push(y):this.series.options.nodes=[y],c(b,!0)&&this.series.chart.redraw(p)}}m.compose=function S(g,b){const p=g.prototype,v=b.prototype;return p.setNodeState=d,p.setState=d,p.update=l,v.destroy=F,v.setData=s,b},m.createNode=function f(g){const b=this.pointClass,p=(r,u)=>j(r,w=>w.id===u);let I,v=p(this.nodes,g);if(!v){I=this.options.nodes&&p(this.options.nodes,g);const r=new b(this,N({className:"highcharts-node",isNode:!0,id:g,y:1},I));r.linksTo=[],r.linksFrom=[],r.getSum=function(){let u=0,w=0;return r.linksTo.forEach(x=>{u+=x.weight||0}),r.linksFrom.forEach(x=>{w+=x.weight||0}),Math.max(u,w)},r.offset=function(u,w){let x=0;for(let y=0;y<r[w].length;y++){if(r[w][y]===u)return x;x+=r[w][y].weight}},r.hasShape=function(){let u=0;return r.linksTo.forEach(w=>{w.outgoing&&u++}),!r.linksTo.length||u!==r.linksTo.length},r.index=this.nodes.push(r)-1,v=r}return v.formatPrefix="node",v.name=v.name||v.options.id||"",v.mass=c(v.options.mass,v.options.marker&&v.options.marker.radius,this.options.marker&&this.options.marker.radius,4),v},m.destroy=F,m.generatePoints=function n(){const g=this.chart,b={};M.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(p=>{p.linksFrom.length=0,p.linksTo.length=0,p.level=p.options.level}),this.points.forEach(p=>{O(p.from)&&(b[p.from]||(b[p.from]=this.createNode(p.from)),b[p.from].linksFrom.push(p),p.fromNode=b[p.from],g.styledMode?p.colorIndex=c(p.options.colorIndex,b[p.from].colorIndex):p.color=p.options.color||b[p.from].color),O(p.to)&&(b[p.to]||(b[p.to]=this.createNode(p.to)),b[p.to].linksTo.push(p),p.toNode=b[p.to]),p.name=p.name||p.id},this),this.nodeLookup=b},m.setNodeState=d,m.updateNode=l}(h||(h={})),h}),Z(k,"Series/Networkgraph/NetworkgraphPoint.js",[k["Series/NodesComposition.js"],k["Core/Series/SeriesRegistry.js"],k["Core/Utilities.js"]],function(T,L,M){const{series:{prototype:t,prototype:{pointClass:O}}}=L,{addEvent:N,css:j,defined:P,extend:c,pick:h}=M;class m extends O{destroy(){return this.isNode&&this.linksFrom.concat(this.linksTo).forEach(function(f){f.destroyElements&&f.destroyElements()}),this.series.layout.removeElementFromCollection(this,this.series.layout[this.isNode?"nodes":"links"]),O.prototype.destroy.apply(this,arguments)}getDegree(){const f=this.isNode?this.linksFrom.length+this.linksTo.length:0;return 0===f?1:f}getLinkAttributes(){const f=this.series.options.link,F=this.options;return{"stroke-width":h(F.width,f.width),stroke:F.color||f.color,dashstyle:F.dashStyle||f.dashStyle,opacity:h(F.opacity,f.opacity,1)}}getLinkPath(){let f=this.fromNode,F=this.toNode;return f.plotX>F.plotX&&(f=this.toNode,F=this.fromNode),[["M",f.plotX||0,f.plotY||0],["L",F.plotX||0,F.plotY||0]]}getMass(){const f=this.fromNode.mass,F=this.toNode.mass,n=f+F;return{fromNode:1-f/n,toNode:1-F/n}}constructor(f,F,n){super(f,F,n),this.series.options.draggable&&!this.series.chart.styledMode&&(N(this,"mouseOver",function(){j(this.series.chart.container,{cursor:"move"})}),N(this,"mouseOut",function(){j(this.series.chart.container,{cursor:"default"})}))}isValid(){return!this.isNode||P(this.id)}redrawLink(){let F,f=this.getLinkPath();if(this.graphic){this.shapeArgs={d:f},this.series.chart.styledMode||(F=this.series.pointAttribs(this),this.graphic.attr(F),(this.dataLabels||[]).forEach(function(d){d&&d.attr({opacity:F.opacity})})),this.graphic.animate(this.shapeArgs);const n=f[0],s=f[1];"M"===n[0]&&"L"===s[0]&&(this.plotX=(n[1]+s[1])/2,this.plotY=(n[2]+s[2])/2)}}remove(f,F){let l,n=this,s=n.series,d=s.options.nodes||[],g=d.length;if(n.isNode){for(s.points=[],[].concat(n.linksFrom).concat(n.linksTo).forEach(function(b){l=b.fromNode.linksFrom.indexOf(b),l>-1&&b.fromNode.linksFrom.splice(l,1),l=b.toNode.linksTo.indexOf(b),l>-1&&b.toNode.linksTo.splice(l,1),t.removePoint.call(s,s.data.indexOf(b),!1,!1)}),s.points=s.data.slice(),s.nodes.splice(s.nodes.indexOf(n),1);g--;)if(d[g].id===n.options.id){s.options.nodes.splice(g,1);break}n&&n.destroy(),s.isDirty=!0,s.isDirtyData=!0,f&&s.chart.redraw(f)}else s.removePoint(s.data.indexOf(n),f,F)}renderLink(){let f;this.graphic||(this.graphic=this.series.chart.renderer.path(this.getLinkPath()).addClass(this.getClassName(),!0).add(this.series.group),this.series.chart.styledMode||(f=this.series.pointAttribs(this),this.graphic.attr(f),(this.dataLabels||[]).forEach(function(F){F&&F.attr({opacity:f.opacity})})))}}return c(m.prototype,{setState:T.setNodeState}),m}),Z(k,"Series/Networkgraph/NetworkgraphSeriesDefaults.js",[],function(){return{stickyTracking:!1,inactiveOtherPoints:!0,marker:{enabled:!0,states:{inactive:{opacity:.3,animation:{duration:50}}}},states:{inactive:{linkOpacity:.3,animation:{duration:50}}},dataLabels:{formatter:function(){return this.key},linkFormatter:function(){return this.point.fromNode.name+"<br>"+this.point.toNode.name},linkTextPath:{enabled:!0},textPath:{enabled:!1},style:{transition:"opacity 2000ms"},defer:!0,animation:{defer:1e3}},link:{color:"rgba(100, 100, 100, 0.5)",width:1},draggable:!0,layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:1,enableSimulation:!1,theta:.5,maxSpeed:10,approximation:"none",type:"reingold-fruchterman",integration:"euler",maxIterations:1e3,gravitationalConstant:.0625,friction:-.981},showInLegend:!1}}),Z(k,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function T(c,h,m,S){const f=c.getMass(),F=m.x/S*h,n=m.y/S*h;c.fromNode.fixedPosition||(c.fromNode.dispX-=F*f.fromNode/c.fromNode.degree,c.fromNode.dispY-=n*f.fromNode/c.fromNode.degree),c.toNode.fixedPosition||(c.toNode.dispX+=F*f.toNode/c.toNode.degree,c.toNode.dispY+=n*f.toNode/c.toNode.degree)},attractiveForceFunction:function L(c,h){return c*c/h},barycenter:function M(){const c=this.options.gravitationalConstant,h=this.barycenter.xFactor,m=this.barycenter.yFactor;this.nodes.forEach(function(S){if(!S.fixedPosition){const f=S.getDegree(),F=f*(1+f/2);S.dispX+=(h-S.plotX)*c*F/S.degree,S.dispY+=(m-S.plotY)*c*F/S.degree}})},getK:function t(c){return Math.pow(c.box.width*c.box.height/c.nodes.length,.3)},integrate:function O(c,h){let m;h.dispX+=h.dispX*c.options.friction,h.dispY+=h.dispY*c.options.friction,m=h.temperature=c.vectorLength({x:h.dispX,y:h.dispY}),0!==m&&(h.plotX+=h.dispX/m*Math.min(Math.abs(h.dispX),c.temperature),h.plotY+=h.dispY/m*Math.min(Math.abs(h.dispY),c.temperature))},repulsive:function N(c,h,m,S){c.dispX+=m.x/S*h/c.degree,c.dispY+=m.y/S*h/c.degree},repulsiveForceFunction:function j(c,h){return h*h/c}}}),Z(k,"Series/Networkgraph/QuadTreeNode.js",[],function(){class T{constructor(M){this.body=!1,this.isEmpty=!1,this.isInternal=!1,this.nodes=[],this.box=M,this.boxSize=Math.min(M.width,M.height)}divideBox(){const M=this.box.width/2,t=this.box.height/2;this.nodes[0]=new T({left:this.box.left,top:this.box.top,width:M,height:t}),this.nodes[1]=new T({left:this.box.left+M,top:this.box.top,width:M,height:t}),this.nodes[2]=new T({left:this.box.left+M,top:this.box.top+t,width:M,height:t}),this.nodes[3]=new T({left:this.box.left,top:this.box.top+t,width:M,height:t})}getBoxPosition(M){const O=M.plotY<this.box.top+this.box.height/2;let N;return N=M.plotX<this.box.left+this.box.width/2?O?0:3:O?1:2,N}insert(M,t){let O;this.isInternal?this.nodes[this.getBoxPosition(M)].insert(M,t-1):(this.isEmpty=!1,this.body?t?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,t-1),this.body=!0),this.nodes[this.getBoxPosition(M)].insert(M,t-1)):(O=new T({top:M.plotX||NaN,left:M.plotY||NaN,width:.1,height:.1}),O.body=M,O.isInternal=!1,this.nodes.push(O)):(this.isInternal=!1,this.body=M))}updateMassAndCenter(){let M=0,t=0,O=0;if(this.isInternal){for(const N of this.nodes)N.isEmpty||(M+=N.mass,t+=N.plotX*N.mass,O+=N.plotY*N.mass);t/=M,O/=M}else this.body&&(M=this.body.mass,t=this.body.plotX,O=this.body.plotY);this.mass=M,this.plotX=t,this.plotY=O}}return T}),Z(k,"Series/Networkgraph/QuadTree.js",[k["Series/Networkgraph/QuadTreeNode.js"]],function(T){return class L{constructor(t,O,N,j){this.box={left:t,top:O,width:N,height:j},this.maxDepth=25,this.root=new T(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(t){t.updateMassAndCenter()})}insertNodes(t){for(const O of t)this.root.insert(O,this.maxDepth)}visitNodeRecursive(t,O,N){let j;if(t||(t=this.root),t===this.root&&O&&(j=O(t)),!1!==j){for(const P of t.nodes){if(P.isInternal){if(O&&(j=O(P)),!1===j)continue;this.visitNodeRecursive(P,O,N)}else P.body&&O&&O(P.body);N&&N(P)}t===this.root&&N&&N(t)}}}}),Z(k,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function T(c,h,m){const S=c.getMass(),f=-m.x*h*this.diffTemperature,F=-m.y*h*this.diffTemperature;c.fromNode.fixedPosition||(c.fromNode.plotX-=f*S.fromNode/c.fromNode.degree,c.fromNode.plotY-=F*S.fromNode/c.fromNode.degree),c.toNode.fixedPosition||(c.toNode.plotX+=f*S.toNode/c.toNode.degree,c.toNode.plotY+=F*S.toNode/c.toNode.degree)},attractiveForceFunction:function L(c,h){return(h-c)/c},barycenter:function M(){let c=this.options.gravitationalConstant,h=this.barycenter.xFactor,m=this.barycenter.yFactor;h=(h-(this.box.left+this.box.width)/2)*c,m=(m-(this.box.top+this.box.height)/2)*c,this.nodes.forEach(function(S){S.fixedPosition||(S.plotX-=h/S.mass/S.degree,S.plotY-=m/S.mass/S.degree)})},getK:function t(c){return Math.pow(c.box.width*c.box.height/c.nodes.length,.5)},integrate:function O(c,h){let m=-c.options.friction,S=c.options.maxSpeed,n=(h.plotX+h.dispX-h.prevX)*m,s=(h.plotY+h.dispY-h.prevY)*m,d=Math.abs,l=d(n)/(n||1),g=d(s)/(s||1);n=l*Math.min(S,Math.abs(n)),s=g*Math.min(S,Math.abs(s)),h.prevX=h.plotX+h.dispX,h.prevY=h.plotY+h.dispY,h.plotX+=n,h.plotY+=s,h.temperature=c.vectorLength({x:n,y:s})},repulsive:function N(c,h,m){const S=h*this.diffTemperature/c.mass/c.degree;c.fixedPosition||(c.plotX+=m.x*S,c.plotY+=m.y*S)},repulsiveForceFunction:function j(c,h){return(h-c)/c*(h>c?1:0)}}}),Z(k,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[k["Series/Networkgraph/EulerIntegration.js"],k["Core/Globals.js"],k["Series/GraphLayoutComposition.js"],k["Series/Networkgraph/QuadTree.js"],k["Core/Utilities.js"],k["Series/Networkgraph/VerletIntegration.js"]],function(T,L,M,t,O,N){const{win:j}=L,{clamp:P,defined:c,isFunction:h,fireEvent:m,pick:S}=O;class f{constructor(){this.box={},this.currentStep=0,this.initialRendering=!0,this.links=[],this.nodes=[],this.series=[],this.simulation=!1}static compose(n){M.compose(n),M.integrations.euler=T,M.integrations.verlet=N,M.layouts["reingold-fruchterman"]=f}init(n){this.options=n,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=M.integrations[n.integration],this.enableSimulation=n.enableSimulation,this.attractiveForce=S(n.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=S(n.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=n.approximation}updateSimulation(n){this.enableSimulation=S(n,this.options.enableSimulation)}start(){const n=this,s=this.series,d=this.options;n.currentStep=0,n.forces=s[0]&&s[0].forces||[],n.chart=s[0]&&s[0].chart,n.initialRendering&&(n.initPositions(),s.forEach(function(l){l.finishedAnimating=!0,l.render()})),n.setK(),n.resetSimulation(d),n.enableSimulation&&n.step()}step(){const n=this,s=this.series;this.currentStep++,"barnes-hut"===this.approximation&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(const d of this.forces||[])n[d+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(const d of s)d.chart&&d.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&j.cancelAnimationFrame(this.simulation),this.simulation=j.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(d=>{m(d,"afterSimulation")}))}}stop(){this.simulation&&j.cancelAnimationFrame(this.simulation)}setArea(n,s,d,l){this.box={left:n,top:s,width:d,height:l}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(n,s){for(const d of n)-1===s.indexOf(d)&&s.push(d)}removeElementFromCollection(n,s){const d=s.indexOf(n);-1!==d&&s.splice(d,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(n){this.maxIterations=S(n,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(n){this.initialRendering=n}createQuadTree(){this.quadTree=new t(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){const n=this.options.initialPositions;if(h(n)){n.call(this);for(const s of this.nodes)c(s.prevX)||(s.prevX=s.plotX),c(s.prevY)||(s.prevY=s.plotY),s.dispX=0,s.dispY=0}else"circle"===n?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){const n=this.box,s=this.nodes,l=2*Math.PI/(s.length+1),g=s.filter(function(u){return 0===u.linksTo.length}),b={},p=this.options.initialPositionRadius,v=u=>{for(const w of u.linksFrom||[])b[w.toNode.id]||(b[w.toNode.id]=!0,I.push(w.toNode),v(w.toNode))};let r,I=[];for(const u of g)I.push(u),v(u);if(I.length)for(const u of s)-1===I.indexOf(u)&&I.push(u);else I=s;for(let u=0,w=I.length;u<w;++u)r=I[u],r.plotX=r.prevX=S(r.plotX,n.width/2+p*Math.cos(u*l)),r.plotY=r.prevY=S(r.plotY,n.height/2+p*Math.sin(u*l)),r.dispX=0,r.dispY=0}setRandomPositions(){const n=this.box,s=this.nodes,d=s.length+1,l=b=>{let p=b*b/Math.PI;return p-=Math.floor(p),p};let g;for(let b=0,p=s.length;b<p;++b)g=s[b],g.plotX=g.prevX=S(g.plotX,n.width*l(b)),g.plotY=g.prevY=S(g.plotY,n.height*l(d+b)),g.dispX=0,g.dispY=0}force(n,...s){this.integration[n].apply(this,s)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let n=0,s=0,d=0;for(const l of this.nodes)s+=l.plotX*l.mass,d+=l.plotY*l.mass,n+=l.mass;return this.barycenter={x:s,y:d,xFactor:s/n,yFactor:d/n},this.barycenter}barnesHutApproximation(n,s){const d=this.getDistXY(n,s),l=this.vectorLength(d);let g,b;return n!==s&&0!==l&&(s.isInternal?s.boxSize/l<this.options.theta&&0!==l?(b=this.repulsiveForce(l,this.k),this.force("repulsive",n,b*s.mass,d,l),g=!1):g=!0:(b=this.repulsiveForce(l,this.k),this.force("repulsive",n,b*s.mass,d,l))),g}repulsiveForces(){if("barnes-hut"===this.approximation)for(const n of this.nodes)this.quadTree.visitNodeRecursive(null,s=>this.barnesHutApproximation(n,s));else{let n,s,d;for(const l of this.nodes)for(const g of this.nodes)l!==g&&!l.fixedPosition&&(d=this.getDistXY(l,g),s=this.vectorLength(d),0!==s&&(n=this.repulsiveForce(s,this.k),this.force("repulsive",l,n*g.mass,d,s)))}}attractiveForces(){let n,s,d;for(const l of this.links)l.fromNode&&l.toNode&&(n=this.getDistXY(l.fromNode,l.toNode),s=this.vectorLength(n),0!==s&&(d=this.attractiveForce(s,this.k),this.force("attractive",l,d,n,s)))}applyLimits(){const n=this.nodes;for(const s of n){if(s.fixedPosition)return;this.integration.integrate(this,s),this.applyLimitBox(s,this.box),s.dispX=0,s.dispY=0}}applyLimitBox(n,s){const d=n.radius;n.plotX=P(n.plotX,s.left+d,s.width-d),n.plotY=P(n.plotY,s.top+d,s.height-d)}coolDown(n,s,d){return n-s*d}isStable(){return Math.abs(this.systemTemperature-this.prevSystemTemperature)<1e-5||this.temperature<=0}getSystemTemperature(){let n=0;for(const s of this.nodes)n+=s.temperature;return n}vectorLength(n){return Math.sqrt(n.x*n.x+n.y*n.y)}getDistR(n,s){const d=this.getDistXY(n,s);return this.vectorLength(d)}getDistXY(n,s){const d=n.plotX-s.plotX,l=n.plotY-s.plotY;return{x:d,y:l,absX:Math.abs(d),absY:Math.abs(l)}}}return f}),Z(k,"Series/SimulationSeriesUtilities.js",[k["Core/Utilities.js"],k["Core/Animation/AnimationUtilities.js"]],function(T,L){const{merge:M,syncTimeout:t}=T,{animObject:O}=L;return{initDataLabels:function j(){const c=this,h=c.options.dataLabels;if(!c.dataLabelsGroup){const m=this.initDataLabelsGroup();return!c.chart.styledMode&&h?.style&&m.css(h.style),m.attr({opacity:0}),c.visible&&m.show(),m}return c.dataLabelsGroup.attr(M({opacity:1},this.getPlotBox("data-labels"))),c.dataLabelsGroup},initDataLabelsDefer:function N(){const c=this.options.dataLabels;c?.defer&&this.options.layoutAlgorithm?.enableSimulation?t(()=>{this.deferDataLabels=!1},c?O(c.animation).defer:0):this.deferDataLabels=!1}}}),Z(k,"Series/Networkgraph/NetworkgraphSeries.js",[k["Series/DragNodesComposition.js"],k["Series/GraphLayoutComposition.js"],k["Core/Globals.js"],k["Series/Networkgraph/NetworkgraphPoint.js"],k["Series/Networkgraph/NetworkgraphSeriesDefaults.js"],k["Series/NodesComposition.js"],k["Series/Networkgraph/ReingoldFruchtermanLayout.js"],k["Core/Series/SeriesRegistry.js"],k["Series/SimulationSeriesUtilities.js"],k["Core/Utilities.js"]],function(T,L,M,t,O,N,j,P,c,h){const{noop:m}=M,{series:S,seriesTypes:{column:{prototype:f},line:{prototype:F}}}=P,{initDataLabels:n,initDataLabelsDefer:s}=c,{addEvent:d,defined:l,extend:g,merge:b,pick:p}=h;class v extends S{constructor(){super(...arguments),this.deferDataLabels=!0}static compose(r){T.compose(r),j.compose(r)}deferLayout(){let y,r=this.options.layoutAlgorithm,u=this.chart.graphLayoutsStorage,w=this.chart.graphLayoutsLookup,x=this.chart.options.chart;this.visible&&(u||(this.chart.graphLayoutsStorage=u={},this.chart.graphLayoutsLookup=w=[]),y=u[r.type],y||(r.enableSimulation=l(x.forExport)?!x.forExport:r.enableSimulation,u[r.type]=y=new L.layouts[r.type],y.init(r),w.splice(y.index,0,y)),this.layout=y,y.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),y.addElementsToCollection([this],y.series),y.addElementsToCollection(this.nodes,y.nodes),y.addElementsToCollection(this.points,y.links))}destroy(){this.layout&&this.layout.removeElementFromCollection(this,this.layout.series),N.destroy.call(this)}drawDataLabels(){if(this.deferDataLabels)return;const r=this.options.dataLabels;let u;r?.textPath&&(u=r.textPath),S.prototype.drawDataLabels.call(this,this.nodes),r?.linkTextPath&&(r.textPath=r.linkTextPath),S.prototype.drawDataLabels.call(this,this.data),r?.textPath&&(r.textPath=u)}generatePoints(){let r,u;for(N.generatePoints.apply(this,arguments),this.options.nodes&&this.options.nodes.forEach(function(w){this.nodeLookup[w.id]||(this.nodeLookup[w.id]=this.createNode(w.id))},this),u=this.nodes.length-1;u>=0;u--)r=this.nodes[u],r.degree=r.getDegree(),r.radius=p(r.marker&&r.marker.radius,this.options.marker&&this.options.marker.radius,0),this.nodeLookup[r.id]||r.remove();this.data.forEach(function(w){w.formatPrefix="link"}),this.indexateNodes()}getPointsCollection(){return this.nodes||[]}indexateNodes(){this.nodes.forEach(function(r,u){r.index=u})}init(r,u){return super.init(r,u),s.call(this),d(this,"updatedData",()=>{this.layout&&this.layout.stop()}),d(this,"afterUpdate",()=>{this.nodes.forEach(w=>{w&&w.series&&w.resolveColor()})}),d(this,"afterSimulation",function(){this.deferDataLabels=!1,this.drawDataLabels()}),this}markerAttribs(r,u){const w=S.prototype.markerAttribs.call(this,r,u);return l(r.plotY)||(w.y=0),w.x=(r.plotX||0)-(w.width||0)/2,w}pointAttribs(r,u){let w=u||r&&r.state||"normal",x=S.prototype.pointAttribs.call(this,r,w),y=this.options.states[w];return r&&!r.isNode&&(x=r.getLinkAttributes(),y&&(x={stroke:y.linkColor||x.stroke,dashstyle:y.linkDashStyle||x.dashstyle,opacity:p(y.linkOpacity,x.opacity),"stroke-width":y.linkColor||x["stroke-width"]})),x}render(){const r=this,u=r.points,w=r.chart.hoverPoint,x=[];r.points=r.nodes,F.render.call(this),r.points=u,u.forEach(function(y){y.fromNode&&y.toNode&&(y.renderLink(),y.redrawLink())}),w&&w.series===r&&r.redrawHalo(w),r.chart.hasRendered&&!r.options.dataLabels.allowOverlap&&(r.nodes.concat(r.points).forEach(function(y){y.dataLabel&&x.push(y.dataLabel)}),r.chart.hideOverlappingLabels(x))}setState(r,u){u?(this.points=this.nodes.concat(this.data),S.prototype.setState.apply(this,arguments),this.points=this.data):S.prototype.setState.apply(this,arguments),!this.layout.simulation&&!r&&this.render()}translate(){this.processedXData||this.processData(),this.generatePoints(),this.deferLayout(),this.nodes.forEach(function(r){r.isInside=!0,r.linksFrom.forEach(function(u){u.shapeType="path",u.y=1})})}}return v.defaultOptions=b(S.defaultOptions,O),g(v.prototype,{pointClass:t,animate:void 0,directTouch:!0,drawGraph:void 0,forces:["barycenter","repulsive","attractive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["from","to"],requireSorting:!1,trackerGroups:["group","markerGroup","dataLabelsGroup"],initDataLabels:n,buildKDTree:m,createNode:N.createNode,drawTracker:f.drawTracker,onMouseDown:T.onMouseDown,onMouseMove:T.onMouseMove,onMouseUp:T.onMouseUp,redrawHalo:T.redrawHalo}),P.registerSeriesType("networkgraph",v),v}),Z(k,"masters/modules/networkgraph.src.js",[k["Core/Globals.js"],k["Series/Networkgraph/NetworkgraphSeries.js"]],function(T,L){return L.compose(T.Chart),T})},nt.exports?(Q.default=Q,nt.exports=Q):(dt=[X(21264)],void 0!==(et=function(k){return Q(k),Q.Highcharts=k,Q}.apply(_t,dt))&&(nt.exports=et))},95606:(nt,_t,X)=>{var dt,et,Q;Q=function(Q){"use strict";var k=Q?Q._modules:{};function Z(T,L,M,t){T.hasOwnProperty(L)||(T[L]=t.apply(null,M),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:L,module:T[L]}})))}Z(k,"Series/NodesComposition.js",[k["Core/Series/SeriesRegistry.js"],k["Core/Utilities.js"]],function(T,L){var M;let{series:{prototype:t,prototype:{pointClass:{prototype:O}}}}=T,{defined:N,extend:j,find:P,merge:c,pick:h}=L;return function(m){function S(){return this.data=[].concat(this.points||[],this.nodes),t.destroy.apply(this,arguments)}function f(){this.nodes&&(this.nodes.forEach(s=>{s.destroy()}),this.nodes.length=0),t.setData.apply(this,arguments)}function F(s){let d=arguments,l=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==s&&l.forEach(g=>{g&&g.series&&(O.setState.apply(g,d),!g.isNode&&(g.fromNode.graphic&&O.setState.apply(g.fromNode,d),g.toNode&&g.toNode.graphic&&O.setState.apply(g.toNode,d)))}),O.setState.apply(this,d)}function n(s,d,l,g){let b=this.series.options.nodes,p=this.series.options.data,v=p&&p.length||0,I=p&&p[this.index];if(O.update.call(this,s,!this.isNode&&d,l,g),this.isNode){let r=(b||[]).reduce((w,x,y)=>this.id===x.id?y:w,-1),u=c(b&&b[r]||{},p&&p[this.index]||{});p&&(I?p[this.index]=I:p.length=v),b?r>=0?b[r]=u:b.push(u):this.series.options.nodes=[u],h(d,!0)&&this.series.chart.redraw(l)}}m.compose=function(s,d){let l=s.prototype,g=d.prototype;return l.setNodeState=F,l.setState=F,l.update=n,g.destroy=S,g.setData=f,d},m.createNode=function(s){let b,d=this.pointClass,l=(p,v)=>P(p,I=>I.id===v),g=l(this.nodes,s);if(!g){b=this.options.nodes&&l(this.options.nodes,s);let p=new d(this,j({className:"highcharts-node",isNode:!0,id:s,y:1},b));p.linksTo=[],p.linksFrom=[],p.getSum=function(){let v=0,I=0;return p.linksTo.forEach(r=>{v+=r.weight||0}),p.linksFrom.forEach(r=>{I+=r.weight||0}),Math.max(v,I)},p.offset=function(v,I){let r=0;for(let u=0;u<p[I].length;u++){if(p[I][u]===v)return r;r+=p[I][u].weight}},p.hasShape=function(){let v=0;return p.linksTo.forEach(I=>{I.outgoing&&v++}),!p.linksTo.length||v!==p.linksTo.length},p.index=this.nodes.push(p)-1,g=p}return g.formatPrefix="node",g.name=g.name||g.options.id||"",g.mass=h(g.options.mass,g.options.marker&&g.options.marker.radius,this.options.marker&&this.options.marker.radius,4),g},m.destroy=S,m.generatePoints=function(){let s=this.chart,d={};t.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(l=>{l.linksFrom.length=0,l.linksTo.length=0,l.level=l.options.level}),this.points.forEach(l=>{N(l.from)&&(d[l.from]||(d[l.from]=this.createNode(l.from)),d[l.from].linksFrom.push(l),l.fromNode=d[l.from],s.styledMode?l.colorIndex=h(l.options.colorIndex,d[l.from].colorIndex):l.color=l.options.color||d[l.from].color),N(l.to)&&(d[l.to]||(d[l.to]=this.createNode(l.to)),d[l.to].linksTo.push(l),l.toNode=d[l.to]),l.name=l.name||l.id},this),this.nodeLookup=d},m.setNodeState=F,m.updateNode=n}(M||(M={})),M}),Z(k,"Series/Sankey/SankeyPoint.js",[k["Core/Series/Point.js"],k["Core/Series/SeriesRegistry.js"],k["Core/Utilities.js"]],function(T,L,M){let{column:t}=L.seriesTypes,{defined:O}=M;return class N extends t.prototype.pointClass{applyOptions(P,c){return T.prototype.applyOptions.call(this,P,c),O(this.options.level)&&(this.options.column=this.column=this.options.level),this}getClassName(){return(this.isNode?"highcharts-node ":"highcharts-link ")+T.prototype.getClassName.call(this)}getFromNode(){let c,P=-1;for(let h=0;h<this.linksTo.length;h++){let m=this.linksTo[h];m.fromNode.column>P&&m.fromNode!==this&&(P=(c=m.fromNode).column)}return{fromNode:c,fromColumn:P}}setNodeColumn(){O(this.options.column)||(this.column=0===this.linksTo.length?0:this.getFromNode().fromColumn+1)}isValid(){return this.isNode||"number"==typeof this.weight}}}),Z(k,"Series/Sankey/SankeySeriesDefaults.js",[],function(){return{borderWidth:0,colorByPoint:!0,curveFactor:.33,dataLabels:{enabled:!0,backgroundColor:"none",crop:!1,nodeFormat:void 0,nodeFormatter:function(){return this.point.name},format:void 0,formatter:function(){},inside:!0},inactiveOtherPoints:!0,linkColorMode:"from",linkOpacity:.5,opacity:1,minLinkWidth:0,nodeAlignment:"center",nodeWidth:20,nodePadding:10,nodeDistance:30,showInLegend:!1,states:{hover:{linkOpacity:1,opacity:1},inactive:{linkOpacity:.1,opacity:.1,animation:{duration:50}}},tooltip:{followPointer:!0,headerFormat:'<span style="font-size: 0.8em">{series.name}</span><br/>',pointFormat:"{point.fromNode.name} \u2192 {point.toNode.name}: <b>{point.weight}</b><br/>",nodeFormat:"{point.name}: <b>{point.sum}</b><br/>"}}}),Z(k,"Series/Sankey/SankeyColumnComposition.js",[k["Core/Utilities.js"]],function(T){var L;let{defined:M,relativeLength:t}=T;return function(O){O.compose=function(j,P){return j.sankeyColumn=new N(j,P),j};class N{constructor(P,c){this.points=P,this.series=c}getTranslationFactor(P){let f,n,c=this.points,h=c.slice(),S=P.options.minLinkWidth||0,F=0,s=(P.chart.plotSizeY||0)-(P.options.borderWidth||0)-(c.length-1)*P.nodePadding;for(;c.length;){for(F=s/c.sankeyColumn.sum(),f=!1,n=c.length;n--;)c[n].getSum()*F<S&&(c.splice(n,1),s=Math.max(0,s-S),f=!0);if(!f)break}for(let d of(c.length=0,h))c.push(d);return F}top(P){let c=this.series,h=c.nodePadding,m=this.points.reduce((S,f)=>(S>0&&(S+=h),S+Math.max(f.getSum()*P,c.options.minLinkWidth||0)),0);return{top:0,center:.5,bottom:1}[c.options.nodeAlignment||"center"]*((c.chart.plotSizeY||0)-m)}left(P){let c=this.series,h=c.chart,m=c.options.equalNodes,S=h.inverted?h.plotHeight:h.plotWidth,f=c.nodePadding,F=this.points.reduce((n,s)=>(n>0&&(n+=f),n+(m?S/s.series.nodes.length-f:Math.max(s.getSum()*P,c.options.minLinkWidth||0))),0);return((h.plotSizeX||0)-Math.round(F))/2}sum(){return this.points.reduce((P,c)=>P+c.getSum(),0)}offset(P,c){let F,h=this.points,m=this.series,S=m.nodePadding,f=0;if(m.is("organization")&&P.hangsFrom)return{absoluteTop:P.hangsFrom.nodeY};for(let n=0;n<h.length;n++){let s=h[n].getSum(),d=Math.max(s*c,m.options.minLinkWidth||0),l=P.options[m.chart.inverted?"offsetHorizontal":"offsetVertical"],g=P.options.offset||0;if(F=s?d+S:0,h[n]===P)return{relativeTop:f+(M(l)?t(l,d):t(g,F))};f+=F}}}O.SankeyColumnAdditions=N}(L||(L={})),L}),Z(k,"Series/TreeUtilities.js",[k["Core/Color/Color.js"],k["Core/Utilities.js"]],function(T,L){let{extend:M,isArray:t,isNumber:O,isObject:N,merge:j,pick:P,relativeLength:c}=L;return{getColor:function(h,m){let S,f,F,n,s,d,l=m.index,b=m.parentColor,p=m.parentColorIndex,v=m.series,I=m.colors,r=m.siblings;return h&&(S=v.points[h.i],f=m.mapOptionsToLevel[h.level]||{},S&&f.colorByPoint&&(n=S.index%(I?I.length:v.chart.options.chart.colorCount),F=I&&I[n]),v.chart.styledMode||(s=P(S&&S.options.color,f&&f.color,F,b&&(x=>{let y=f&&f.colorVariation;return y&&"brightness"===y.key&&l&&r?T.parse(x).brighten(y.to*(l/r)).get():x})(b),v.color)),d=P(S&&S.options.colorIndex,f&&f.colorIndex,n,p,m.colorIndex)),{color:s,colorIndex:d}},getLevelOptions:function(h){let S,f,F,n,s,d,m={};if(N(h))for(n=O(h.from)?h.from:1,d=h.levels,f={},S=N(h.defaults)?h.defaults:{},t(d)&&(f=d.reduce((l,g)=>{let b,p,v;return N(g)&&O(g.level)&&(p=P((v=j({},g)).levelIsConstant,S.levelIsConstant),delete v.levelIsConstant,delete v.level,N(l[b=g.level+(p?0:n-1)])?j(!0,l[b],v):l[b]=v),l},{})),s=O(h.to)?h.to:1,F=0;F<=s;F++)m[F]=j({},S,N(f[F])?f[F]:{});return m},getNodeWidth:function(h,m){let{chart:S,options:f}=h,{nodeDistance:F=0,nodeWidth:n=0}=f,{plotSizeX:s=1}=S;if("auto"===n){if("string"==typeof F&&/%$/.test(F))return s/(m+parseFloat(F)/100*(m-1));let d=Number(F);return(s+d)/(m||1)-d}return c(n,s)},setTreeValues:function h(m,S){let f=S.before,F=S.idRoot,d=S.points[m.i],l=d&&d.options||{},g=[],b=0;m.levelDynamic=m.level-(!1!==S.levelIsConstant?0:S.mapIdToNode[F].level),m.name=P(d&&d.name,""),m.visible=F===m.id||!0===S.visible,"function"==typeof f&&(m=f(m,S)),m.children.forEach((v,I)=>{let r=M({},S);M(r,{index:I,siblings:m.children.length,visible:m.visible}),v=h(v,r),g.push(v),v.visible&&(b+=v.val)});let p=P(l.value,b);return m.visible=p>=0&&(b>0||m.visible),m.children=g,m.childrenTotal=b,m.isLeaf=m.visible&&!b,m.val=p,m},updateRootId:function(h){let m,S;return N(h)&&(S=N(h.options)?h.options:{},m=P(h.rootNode,S.rootId,""),N(h.userOptions)&&(h.userOptions.rootId=m),h.rootNode=m),m}}}),Z(k,"Series/Sankey/SankeySeries.js",[k["Core/Globals.js"],k["Series/NodesComposition.js"],k["Series/Sankey/SankeyPoint.js"],k["Series/Sankey/SankeySeriesDefaults.js"],k["Core/Series/SeriesRegistry.js"],k["Series/Sankey/SankeyColumnComposition.js"],k["Core/Color/Color.js"],k["Series/TreeUtilities.js"],k["Core/Utilities.js"]],function(T,L,M,t,O,N,j,P,c){let{column:h,line:m}=O.seriesTypes,{parse:S}=j,{getLevelOptions:f,getNodeWidth:F}=P,{clamp:n,extend:s,isObject:d,merge:l,pick:g,relativeLength:b,stableSort:p}=c;class v extends h{static getDLOptions(r){let u=d(r.optionsPoint)?r.optionsPoint.dataLabels:{};return l({style:{}},d(r.level)?r.level.dataLabels:{},u)}createNodeColumns(){let r=[];for(let u of this.nodes)u.setNodeColumn(),r[u.column]||(r[u.column]=N.compose([],this)),r[u.column].push(u);for(let u=0;u<r.length;u++)void 0===r[u]&&(r[u]=N.compose([],this));return r}order(r,u){if(void 0===r.level)for(let w of(r.level=u,r.linksFrom))w.toNode&&this.order(w.toNode,u+1)}generatePoints(){if(L.generatePoints.apply(this,arguments),this.orderNodes){for(let r of this.nodes)0===r.linksTo.length&&this.order(r,0);p(this.nodes,(r,u)=>r.level-u.level)}}getNodePadding(){let r=this.options.nodePadding||0;if(this.nodeColumns){let u=this.nodeColumns.reduce((w,x)=>Math.max(w,x.length),0);u*r>this.chart.plotSizeY&&(r=this.chart.plotSizeY/u)}return r}hasData(){return!!this.processedXData.length}pointAttribs(r,u){if(!r)return{};let w=this,y=w.mapOptionsToLevel[(r.isNode?r.level:r.fromNode.level)||0]||{},Y=r.options,z=y.states&&y.states[u||""]||{},V=["colorByPoint","borderColor","borderWidth","linkOpacity","opacity"].reduce((q,$)=>(q[$]=g(z[$],Y[$],y[$],w.options[$]),q),{}),K=g(z.color,Y.color,V.colorByPoint?r.color:y.color);return r.isNode?{fill:K,stroke:V.borderColor,"stroke-width":V.borderWidth,opacity:V.opacity}:{fill:j.parse(K).setOpacity(V.linkOpacity).get()}}drawTracker(){h.prototype.drawTracker.call(this,this.points),h.prototype.drawTracker.call(this,this.nodes)}drawPoints(){h.prototype.drawPoints.call(this,this.points),h.prototype.drawPoints.call(this,this.nodes)}drawDataLabels(){h.prototype.drawDataLabels.call(this,this.points),h.prototype.drawDataLabels.call(this,this.nodes)}translate(){this.processedXData||this.processData(),this.generatePoints(),this.nodeColumns=this.createNodeColumns();let r=this,u=this.chart,w=this.options,x=this.nodeColumns,y=x.length;for(let Y of(this.nodeWidth=F(this,y),this.nodePadding=this.getNodePadding(),this.translationFactor=x.reduce((z,V)=>Math.min(z,V.sankeyColumn.getTranslationFactor(r)),1/0),this.colDistance=(u.plotSizeX-this.nodeWidth-w.borderWidth)/Math.max(1,x.length-1),r.mapOptionsToLevel=f({from:1,levels:w.levels,to:x.length-1,defaults:{borderColor:w.borderColor,borderRadius:w.borderRadius,borderWidth:w.borderWidth,color:r.color,colorByPoint:w.colorByPoint,levelIsConstant:!0,linkColor:w.linkColor,linkLineWidth:w.linkLineWidth,linkOpacity:w.linkOpacity,states:w.states}}),x))for(let z of Y)r.translateNode(z,Y);for(let Y of this.nodes)for(let z of Y.linksFrom)(z.weight||z.isNull)&&z.to&&(r.translateLink(z),z.allowShadow=!1)}translateLink(r){let u=(tt,rt)=>{let st=tt.offset(r,rt)*z;return Math.min(tt.nodeY+st,tt.nodeY+(tt.shapeArgs&&tt.shapeArgs.height||0)-A)},w=r.fromNode,x=r.toNode,y=this.chart,{inverted:Y}=y,z=this.translationFactor,V=this.options,K=g(r.linkColorMode,V.linkColorMode),q=(y.inverted?-this.colDistance:this.colDistance)*V.curveFactor,$=w.nodeX,W=x.nodeX,J=r.outgoing,A=Math.max(r.weight*z,this.options.minLinkWidth),U=u(w,"linksFrom"),G=u(x,"linksTo"),H=this.nodeWidth,ot=W>$+H;if(y.inverted&&(U=y.plotSizeY-U,G=(y.plotSizeY||0)-G,H=-H,A=-A,ot=$>W),r.shapeType="path",r.linkBase=[U,U+A,G,G+A],ot&&"number"==typeof G)r.shapeArgs={d:[["M",$+H,U],["C",$+H+q,U,W-q,G,W,G],["L",W+(J?H:0),G+A/2],["L",W,G+A],["C",W-q,G+A,$+H+q,U+A,$+H,U+A],["Z"]]};else if("number"==typeof G){let rt=W-20-A,st=W-20,at=$+H,ct=at+20,ft=ct+A,gt=U+A,St=gt+20,pt=St+(y.plotHeight-U-A),ht=pt+20,mt=ht+A,bt=G+A,kt=bt+20,Mt=ht+.7*A,Pt=W-.7*A,Ot=at+.7*A;r.shapeArgs={d:[["M",at,U],["C",Ot,U,ft,gt-.7*A,ft,St],["L",ft,pt],["C",ft,Mt,Ot,mt,at,mt],["L",W,mt],["C",Pt,mt,rt,Mt,rt,pt],["L",rt,kt],["C",rt,bt-.7*A,Pt,G,W,G],["L",W,bt],["C",st,bt,st,bt,st,kt],["L",st,pt],["C",st,ht,st,ht,W,ht],["L",at,ht],["C",ct,ht,ct,ht,ct,pt],["L",ct,St],["C",ct,gt,ct,gt,at,gt],["Z"]]}}if(r.dlBox={x:$+(W-$+H)/2,y:U+(G-U)/2,height:A,width:0},r.tooltipPos=y.inverted?[y.plotSizeY-r.dlBox.y-A/2,y.plotSizeX-r.dlBox.x]:[r.dlBox.x,r.dlBox.y+A/2],r.y=r.plotY=1,r.x=r.plotX=1,!r.options.color)if("from"===K)r.color=w.color;else if("to"===K)r.color=x.color;else if("gradient"===K){let tt=S(w.color).get(),rt=S(x.color).get();r.color={linearGradient:{x1:1,x2:0,y1:0,y2:0},stops:[[0,Y?tt:rt],[1,Y?rt:tt]]}}}translateNode(r,u){let w=this.translationFactor,x=this.chart,y=this.options,{borderRadius:Y,borderWidth:z=0}=y,V=r.getSum(),K=Math.max(Math.round(V*w),this.options.minLinkWidth),q=Math.round(this.nodeWidth),$=Math.round(z)%2/2,W=u.sankeyColumn.offset(r,w),J=Math.floor(g(W.absoluteTop,u.sankeyColumn.top(w)+W.relativeTop))+$,A=Math.floor(this.colDistance*r.column+z/2)+b(r.options[x.inverted?"offsetVertical":"offsetHorizontal"]||0,q)+$,U=x.inverted?x.plotSizeX-A:A;if(r.sum=V,V){r.shapeType="roundedRect",r.nodeX=U,r.nodeY=J;let G=U,H=J,ot=r.options.width||y.width||q,tt=r.options.height||y.height||K,rt=n(b("object"==typeof Y?Y.radius:Y||0,ot),0,K/2);x.inverted&&(G=U-q,H=x.plotSizeY-J-K,ot=r.options.height||y.height||q,tt=r.options.width||y.width||K),r.dlOptions=v.getDLOptions({level:this.mapOptionsToLevel[r.level],optionsPoint:r.options}),r.plotX=1,r.plotY=1,r.tooltipPos=x.inverted?[x.plotSizeY-H-tt/2,x.plotSizeX-G-ot/2]:[G+ot/2,H+tt/2],r.shapeArgs={x:G,y:H,width:ot,height:tt,r:rt,display:r.hasShape()?"":"none"}}else r.dlOptions={enabled:!1}}}return v.defaultOptions=l(h.defaultOptions,t),L.compose(M,v),s(v.prototype,{animate:m.prototype.animate,createNode:L.createNode,forceDL:!0,invertible:!0,isCartesian:!1,orderNodes:!0,noSharedTooltip:!0,pointArrayMap:["from","to","weight"],pointClass:M,searchPoint:T.noop}),O.registerSeriesType("sankey",v),v}),Z(k,"masters/modules/sankey.src.js",[k["Core/Globals.js"]],function(T){return T})},nt.exports?(Q.default=Q,nt.exports=Q):(dt=[X(21264)],void 0!==(et=function(k){return Q(k),Q.Highcharts=k,Q}.apply(_t,dt))&&(nt.exports=et))},55782:(nt,_t,X)=>{var dt,et,Q;Q=function(Q){"use strict";var k=Q?Q._modules:{};function Z(T,L,M,t){T.hasOwnProperty(L)||(T[L]=t.apply(null,M),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:L,module:T[L]}})))}Z(k,"Series/NodesComposition.js",[k["Core/Series/SeriesRegistry.js"],k["Core/Utilities.js"]],function(T,L){const{series:{prototype:M,prototype:{pointClass:{prototype:t}}}}=T,{defined:O,extend:N,find:j,merge:P,pick:c}=L;var h;return function(m){function F(){return this.data=[].concat(this.points||[],this.nodes),M.destroy.apply(this,arguments)}function s(){this.nodes&&(this.nodes.forEach(g=>{g.destroy()}),this.nodes.length=0),M.setData.apply(this,arguments)}function d(g){const b=arguments,p=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==g&&p.forEach(v=>{v&&v.series&&(t.setState.apply(v,b),v.isNode||(v.fromNode.graphic&&t.setState.apply(v.fromNode,b),v.toNode&&v.toNode.graphic&&t.setState.apply(v.toNode,b)))}),t.setState.apply(this,b)}function l(g,b,p,v){const I=this.series.options.nodes,r=this.series.options.data,u=r&&r.length||0,w=r&&r[this.index];if(t.update.call(this,g,!this.isNode&&b,p,v),this.isNode){const x=(I||[]).reduce((Y,z,V)=>this.id===z.id?V:Y,-1),y=P(I&&I[x]||{},r&&r[this.index]||{});r&&(w?r[this.index]=w:r.length=u),I?x>=0?I[x]=y:I.push(y):this.series.options.nodes=[y],c(b,!0)&&this.series.chart.redraw(p)}}m.compose=function S(g,b){const p=g.prototype,v=b.prototype;return p.setNodeState=d,p.setState=d,p.update=l,v.destroy=F,v.setData=s,b},m.createNode=function f(g){const b=this.pointClass,p=(r,u)=>j(r,w=>w.id===u);let I,v=p(this.nodes,g);if(!v){I=this.options.nodes&&p(this.options.nodes,g);const r=new b(this,N({className:"highcharts-node",isNode:!0,id:g,y:1},I));r.linksTo=[],r.linksFrom=[],r.getSum=function(){let u=0,w=0;return r.linksTo.forEach(x=>{u+=x.weight||0}),r.linksFrom.forEach(x=>{w+=x.weight||0}),Math.max(u,w)},r.offset=function(u,w){let x=0;for(let y=0;y<r[w].length;y++){if(r[w][y]===u)return x;x+=r[w][y].weight}},r.hasShape=function(){let u=0;return r.linksTo.forEach(w=>{w.outgoing&&u++}),!r.linksTo.length||u!==r.linksTo.length},r.index=this.nodes.push(r)-1,v=r}return v.formatPrefix="node",v.name=v.name||v.options.id||"",v.mass=c(v.options.mass,v.options.marker&&v.options.marker.radius,this.options.marker&&this.options.marker.radius,4),v},m.destroy=F,m.generatePoints=function n(){const g=this.chart,b={};M.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(p=>{p.linksFrom.length=0,p.linksTo.length=0,p.level=p.options.level}),this.points.forEach(p=>{O(p.from)&&(b[p.from]||(b[p.from]=this.createNode(p.from)),b[p.from].linksFrom.push(p),p.fromNode=b[p.from],g.styledMode?p.colorIndex=c(p.options.colorIndex,b[p.from].colorIndex):p.color=p.options.color||b[p.from].color),O(p.to)&&(b[p.to]||(b[p.to]=this.createNode(p.to)),b[p.to].linksTo.push(p),p.toNode=b[p.to]),p.name=p.name||p.id},this),this.nodeLookup=b},m.setNodeState=d,m.updateNode=l}(h||(h={})),h}),Z(k,"Series/Sankey/SankeyPoint.js",[k["Core/Series/Point.js"],k["Core/Series/SeriesRegistry.js"],k["Core/Utilities.js"]],function(T,L,M){const{column:t}=L.seriesTypes,{defined:O}=M;return class N extends t.prototype.pointClass{applyOptions(P,c){return T.prototype.applyOptions.call(this,P,c),O(this.options.level)&&(this.options.column=this.column=this.options.level),this}getClassName(){return(this.isNode?"highcharts-node ":"highcharts-link ")+T.prototype.getClassName.call(this)}getFromNode(){const P=this;let h,c=-1;for(let m=0;m<P.linksTo.length;m++){const S=P.linksTo[m];S.fromNode.column>c&&S.fromNode!==P&&(h=S.fromNode,c=h.column)}return{fromNode:h,fromColumn:c}}setNodeColumn(){const P=this;O(P.options.column)||(P.column=0===P.linksTo.length?0:P.getFromNode().fromColumn+1)}isValid(){return this.isNode||"number"==typeof this.weight}}}),Z(k,"Series/Sankey/SankeySeriesDefaults.js",[],function(){return{borderWidth:0,colorByPoint:!0,curveFactor:.33,dataLabels:{enabled:!0,backgroundColor:"none",crop:!1,nodeFormat:void 0,nodeFormatter:function(){return this.point.name},format:void 0,formatter:function(){},inside:!0},inactiveOtherPoints:!0,linkColorMode:"from",linkOpacity:.5,opacity:1,minLinkWidth:0,nodeAlignment:"center",nodeWidth:20,nodePadding:10,nodeDistance:30,showInLegend:!1,states:{hover:{linkOpacity:1,opacity:1},inactive:{linkOpacity:.1,opacity:.1,animation:{duration:50}}},tooltip:{followPointer:!0,headerFormat:'<span style="font-size: 0.8em">{series.name}</span><br/>',pointFormat:"{point.fromNode.name} \u2192 {point.toNode.name}: <b>{point.weight}</b><br/>",nodeFormat:"{point.name}: <b>{point.sum}</b><br/>"}}}),Z(k,"Series/Sankey/SankeyColumnComposition.js",[k["Core/Utilities.js"]],function(T){const{defined:L,relativeLength:M}=T;var t;return function(O){O.compose=function N(P,c){const h=P;return h.sankeyColumn=new j(h,c),h};class j{constructor(c,h){this.points=c,this.series=h}getTranslationFactor(c){const h=this.points,m=h.slice(),f=c.options.minLinkWidth||0;let F,s,n=0,d=(c.chart.plotSizeY||0)-(c.options.borderWidth||0)-(h.length-1)*c.nodePadding;for(;h.length;){for(n=d/h.sankeyColumn.sum(),F=!1,s=h.length;s--;)h[s].getSum()*n<f&&(h.splice(s,1),d=Math.max(0,d-f),F=!0);if(!F)break}h.length=0;for(const l of m)h.push(l);return n}top(c){const h=this.series,m=h.nodePadding,S=this.points.reduce((f,F)=>(f>0&&(f+=m),f+Math.max(F.getSum()*c,h.options.minLinkWidth||0)),0);return{top:0,center:.5,bottom:1}[h.options.nodeAlignment||"center"]*((h.chart.plotSizeY||0)-S)}left(c){const h=this.series,m=h.chart,S=h.options.equalNodes,f=m.inverted?m.plotHeight:m.plotWidth,F=h.nodePadding,n=this.points.reduce((s,d)=>(s>0&&(s+=F),s+(S?f/d.series.nodes.length-F:Math.max(d.getSum()*c,h.options.minLinkWidth||0))),0);return((m.plotSizeX||0)-Math.round(n))/2}sum(){return this.points.reduce((c,h)=>c+h.getSum(),0)}offset(c,h){const m=this.points,S=this.series,f=S.nodePadding;let n,F=0;if(S.is("organization")&&c.hangsFrom)return{absoluteTop:c.hangsFrom.nodeY};for(let s=0;s<m.length;s++){const d=m[s].getSum(),l=Math.max(d*h,S.options.minLinkWidth||0),g=c.options[S.chart.inverted?"offsetHorizontal":"offsetVertical"],b=c.options.offset||0;if(n=d?l+f:0,m[s]===c)return{relativeTop:F+(L(g)?M(g,l):M(b,n))};F+=n}}}O.SankeyColumnAdditions=j}(t||(t={})),t}),Z(k,"Series/TreeUtilities.js",[k["Core/Color/Color.js"],k["Core/Utilities.js"]],function(T,L){const{extend:M,isArray:t,isNumber:O,isObject:N,merge:j,pick:P,relativeLength:c}=L;return{getColor:function h(s,d){const l=d.index,b=d.parentColor,p=d.parentColorIndex,v=d.series,I=d.colors,r=d.siblings;let x,y,Y,z,V,K,q;return s&&(y=v.points[s.i],Y=d.mapOptionsToLevel[s.level]||{},x=y&&Y.colorByPoint,x&&(V=y.index%(I?I.length:v.chart.options.chart.colorCount),z=I&&I[V]),v.chart.styledMode||(K=P(y&&y.options.color,Y&&Y.color,z,b&&(W=>{const J=Y&&Y.colorVariation;return J&&"brightness"===J.key&&l&&r?T.parse(W).brighten(J.to*(l/r)).get():W})(b),v.color)),q=P(y&&y.options.colorIndex,Y&&Y.colorIndex,V,p,d.colorIndex)),{color:K,colorIndex:q}},getLevelOptions:function m(s){let l,g,b,p,v,I,d={};if(N(s))for(p=O(s.from)?s.from:1,I=s.levels,g={},l=N(s.defaults)?s.defaults:{},t(I)&&(g=I.reduce((r,u)=>{let w,x,y;return N(u)&&O(u.level)&&(y=j({},u),x=P(y.levelIsConstant,l.levelIsConstant),delete y.levelIsConstant,delete y.level,w=u.level+(x?0:p-1),N(r[w])?j(!0,r[w],y):r[w]=y),r},{})),v=O(s.to)?s.to:1,b=0;b<=v;b++)d[b]=j({},l,N(g[b])?g[b]:{});return d},getNodeWidth:function F(s,d){const{chart:l,options:g}=s,{nodeDistance:b=0,nodeWidth:p=0}=g,{plotSizeX:v=1}=l;if("auto"===p){if("string"==typeof b&&/%$/.test(b))return v/(d+parseFloat(b)/100*(d-1));const I=Number(b);return(v+I)/(d||1)-I}return c(p,v)},setTreeValues:function S(s,d){const l=d.before,g=d.idRoot,r=d.points[s.i],u=r&&r.options||{},w=[];let x=0;s.levelDynamic=s.level-(!1!==d.levelIsConstant?0:d.mapIdToNode[g].level),s.name=P(r&&r.name,""),s.visible=g===s.id||!0===d.visible,"function"==typeof l&&(s=l(s,d)),s.children.forEach((Y,z)=>{const V=M({},d);M(V,{index:z,siblings:s.children.length,visible:s.visible}),Y=S(Y,V),w.push(Y),Y.visible&&(x+=Y.val)});const y=P(u.value,x);return s.visible=y>=0&&(x>0||s.visible),s.children=w,s.childrenTotal=x,s.isLeaf=s.visible&&!x,s.val=y,s},updateRootId:function f(s){let d,l;return N(s)&&(l=N(s.options)?s.options:{},d=P(s.rootNode,l.rootId,""),N(s.userOptions)&&(s.userOptions.rootId=d),s.rootNode=d),d}}}),Z(k,"Series/Sankey/SankeySeries.js",[k["Core/Globals.js"],k["Series/NodesComposition.js"],k["Series/Sankey/SankeyPoint.js"],k["Series/Sankey/SankeySeriesDefaults.js"],k["Core/Series/SeriesRegistry.js"],k["Series/Sankey/SankeyColumnComposition.js"],k["Core/Color/Color.js"],k["Series/TreeUtilities.js"],k["Core/Utilities.js"]],function(T,L,M,t,O,N,j,P,c){const{column:h,line:m}=O.seriesTypes,{parse:S}=j,{getLevelOptions:f,getNodeWidth:F}=P,{clamp:n,extend:s,isObject:d,merge:l,pick:g,relativeLength:b,stableSort:p}=c;class v extends h{static getDLOptions(r){const u=d(r.optionsPoint)?r.optionsPoint.dataLabels:{},w=d(r.level)?r.level.dataLabels:{};return l({style:{}},w,u)}createNodeColumns(){const r=[];for(const u of this.nodes)u.setNodeColumn(),r[u.column]||(r[u.column]=N.compose([],this)),r[u.column].push(u);for(let u=0;u<r.length;u++)typeof r[u]>"u"&&(r[u]=N.compose([],this));return r}order(r,u){const w=this;if(typeof r.level>"u"){r.level=u;for(const x of r.linksFrom)x.toNode&&w.order(x.toNode,u+1)}}generatePoints(){if(L.generatePoints.apply(this,arguments),this.orderNodes){for(const r of this.nodes)0===r.linksTo.length&&this.order(r,0);p(this.nodes,(r,u)=>r.level-u.level)}}getNodePadding(){let r=this.options.nodePadding||0;if(this.nodeColumns){const u=this.nodeColumns.reduce((w,x)=>Math.max(w,x.length),0);u*r>this.chart.plotSizeY&&(r=this.chart.plotSizeY/u)}return r}hasData(){return!!this.processedXData.length}pointAttribs(r,u){if(!r)return{};const w=this,y=w.mapOptionsToLevel[(r.isNode?r.level:r.fromNode.level)||0]||{},Y=r.options,z=y.states&&y.states[u||""]||{},V=["colorByPoint","borderColor","borderWidth","linkOpacity","opacity"].reduce((q,$)=>(q[$]=g(z[$],Y[$],y[$],w.options[$]),q),{}),K=g(z.color,Y.color,V.colorByPoint?r.color:y.color);return r.isNode?{fill:K,stroke:V.borderColor,"stroke-width":V.borderWidth,opacity:V.opacity}:{fill:j.parse(K).setOpacity(V.linkOpacity).get()}}drawTracker(){h.prototype.drawTracker.call(this,this.points),h.prototype.drawTracker.call(this,this.nodes)}drawPoints(){h.prototype.drawPoints.call(this,this.points),h.prototype.drawPoints.call(this,this.nodes)}drawDataLabels(){h.prototype.drawDataLabels.call(this,this.points),h.prototype.drawDataLabels.call(this,this.nodes)}translate(){this.processedXData||this.processData(),this.generatePoints(),this.nodeColumns=this.createNodeColumns();const r=this,u=this.chart,w=this.options,x=this.nodeColumns;this.nodeWidth=F(this,x.length),this.nodePadding=this.getNodePadding(),this.translationFactor=x.reduce((Y,z)=>Math.min(Y,z.sankeyColumn.getTranslationFactor(r)),1/0),this.colDistance=(u.plotSizeX-this.nodeWidth-w.borderWidth)/Math.max(1,x.length-1),r.mapOptionsToLevel=f({from:1,levels:w.levels,to:x.length-1,defaults:{borderColor:w.borderColor,borderRadius:w.borderRadius,borderWidth:w.borderWidth,color:r.color,colorByPoint:w.colorByPoint,levelIsConstant:!0,linkColor:w.linkColor,linkLineWidth:w.linkLineWidth,linkOpacity:w.linkOpacity,states:w.states}});for(const Y of x)for(const z of Y)r.translateNode(z,Y);for(const Y of this.nodes)for(const z of Y.linksFrom)(z.weight||z.isNull)&&z.to&&(r.translateLink(z),z.allowShadow=!1)}translateLink(r){const u=(tt,rt)=>{const st=tt.offset(r,rt)*z;return Math.min(tt.nodeY+st,tt.nodeY+(tt.shapeArgs&&tt.shapeArgs.height||0)-A)},w=r.fromNode,x=r.toNode,y=this.chart,{inverted:Y}=y,z=this.translationFactor,V=this.options,K=g(r.linkColorMode,V.linkColorMode),q=(y.inverted?-this.colDistance:this.colDistance)*V.curveFactor,$=w.nodeX,W=x.nodeX,J=r.outgoing;let A=Math.max(r.weight*z,this.options.minLinkWidth),U=u(w,"linksFrom"),G=u(x,"linksTo"),H=this.nodeWidth,ot=W>$+H;if(y.inverted&&(U=y.plotSizeY-U,G=(y.plotSizeY||0)-G,H=-H,A=-A,ot=$>W),r.shapeType="path",r.linkBase=[U,U+A,G,G+A],ot&&"number"==typeof G)r.shapeArgs={d:[["M",$+H,U],["C",$+H+q,U,W-q,G,W,G],["L",W+(J?H:0),G+A/2],["L",W,G+A],["C",W-q,G+A,$+H+q,U+A,$+H,U+A],["Z"]]};else if("number"==typeof G){const st=W-20-A,at=W-20,ft=$+H,vt=ft+20,gt=vt+A,pt=U+A,ht=pt+20,mt=ht+(y.plotHeight-U-A),ut=mt+20,bt=ut+A,Ft=G+A,Mt=Ft+20,Pt=ut+.7*A,zt=W-.7*A,Xt=ft+.7*A;r.shapeArgs={d:[["M",ft,U],["C",Xt,U,gt,pt-.7*A,gt,ht],["L",gt,mt],["C",gt,Pt,Xt,bt,ft,bt],["L",W,bt],["C",zt,bt,st,Pt,st,mt],["L",st,Mt],["C",st,Ft-.7*A,zt,G,W,G],["L",W,Ft],["C",at,Ft,at,Ft,at,Mt],["L",at,mt],["C",at,ut,at,ut,W,ut],["L",ft,ut],["C",vt,ut,vt,ut,vt,mt],["L",vt,ht],["C",vt,pt,vt,pt,ft,pt],["Z"]]}}if(r.dlBox={x:$+(W-$+H)/2,y:U+(G-U)/2,height:A,width:0},r.tooltipPos=y.inverted?[y.plotSizeY-r.dlBox.y-A/2,y.plotSizeX-r.dlBox.x]:[r.dlBox.x,r.dlBox.y+A/2],r.y=r.plotY=1,r.x=r.plotX=1,!r.options.color)if("from"===K)r.color=w.color;else if("to"===K)r.color=x.color;else if("gradient"===K){const tt=S(w.color).get(),rt=S(x.color).get();r.color={linearGradient:{x1:1,x2:0,y1:0,y2:0},stops:[[0,Y?tt:rt],[1,Y?rt:tt]]}}}translateNode(r,u){const w=this.translationFactor,x=this.chart,y=this.options,{borderRadius:Y,borderWidth:z=0}=y,V=r.getSum(),K=Math.max(Math.round(V*w),this.options.minLinkWidth),q=Math.round(this.nodeWidth),$=Math.round(z)%2/2,W=u.sankeyColumn.offset(r,w),J=Math.floor(g(W.absoluteTop,u.sankeyColumn.top(w)+W.relativeTop))+$,A=Math.floor(this.colDistance*r.column+z/2)+b(r.options[x.inverted?"offsetVertical":"offsetHorizontal"]||0,q)+$,U=x.inverted?x.plotSizeX-A:A;if(r.sum=V,V){r.shapeType="roundedRect",r.nodeX=U,r.nodeY=J;let G=U,H=J,ot=r.options.width||y.width||q,tt=r.options.height||y.height||K;const rt=n(b("object"==typeof Y?Y.radius:Y||0,ot),0,K/2);x.inverted&&(G=U-q,H=x.plotSizeY-J-K,ot=r.options.height||y.height||q,tt=r.options.width||y.width||K),r.dlOptions=v.getDLOptions({level:this.mapOptionsToLevel[r.level],optionsPoint:r.options}),r.plotX=1,r.plotY=1,r.tooltipPos=x.inverted?[x.plotSizeY-H-tt/2,x.plotSizeX-G-ot/2]:[G+ot/2,H+tt/2],r.shapeArgs={x:G,y:H,width:ot,height:tt,r:rt,display:r.hasShape()?"":"none"}}else r.dlOptions={enabled:!1}}}return v.defaultOptions=l(h.defaultOptions,t),L.compose(M,v),s(v.prototype,{animate:m.prototype.animate,createNode:L.createNode,forceDL:!0,invertible:!0,isCartesian:!1,orderNodes:!0,noSharedTooltip:!0,pointArrayMap:["from","to","weight"],pointClass:M,searchPoint:T.noop}),O.registerSeriesType("sankey",v),v}),Z(k,"masters/modules/sankey.src.js",[k["Core/Globals.js"]],function(T){return T})},nt.exports?(Q.default=Q,nt.exports=Q):(dt=[X(21264)],void 0!==(et=function(k){return Q(k),Q.Highcharts=k,Q}.apply(_t,dt))&&(nt.exports=et))}}]);