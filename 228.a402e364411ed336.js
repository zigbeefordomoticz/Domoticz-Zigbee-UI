(self.webpackChunkz4d_plugin=self.webpackChunkz4d_plugin||[]).push([[228],{1228:(nt,_t,X)=>{"use strict";X.r(_t),X.d(_t,{NetworkModule:()=>mo});var dt=X(93887),et=X(91346),Q=X(12168),k=X(69820),Z=X(38833),O=X(2501),L=X(55782),M=X(10467),t=X(54438),D=X(71985),T=X(43236),R=X(39974),P=X(54360),c=X(58750),m=X(41584);var f=X(96354),S=X(88141),n=X(33726),s=X(25558),d=X(7673),a=X(56977),g=X(84412),b=X(57786),p=X(23294),v=X(983),I=X(70980),e=X(91986);function u(r,x=!1){return(0,R.N)((o,i)=>{let l=0;o.subscribe((0,P._)(i,F=>{const E=r(F,l++);(E||x)&&i.next(F),!E&&i.complete()}))})}var w=X(85412);function C(r,x=1/0,o){return x=(x||0)<1?1/0:x,(0,R.N)((i,l)=>(0,w.h)(i,l,r,x,void 0,!0,o))}var y=X(60177);let Y;try{Y=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Y=!1}let A=(()=>{class r{constructor(o){this._platformId=o,this.isBrowser=this._platformId?(0,y.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Y)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#t=this.\u0275fac=function(i){return new(i||r)(t.KVO(t.Agw))};static#e=this.\u0275prov=t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var U=function(r){return r[r.NORMAL=0]="NORMAL",r[r.NEGATED=1]="NEGATED",r[r.INVERTED=2]="INVERTED",r}(U||{});let V;function tt(){if("object"!=typeof document||!document)return U.NORMAL;if(null==V){const r=document.createElement("div"),x=r.style;r.dir="rtl",x.width="1px",x.overflow="auto",x.visibility="hidden",x.pointerEvents="none",x.position="absolute";const o=document.createElement("div"),i=o.style;i.width="2px",i.height="1px",r.appendChild(o),document.body.appendChild(r),V=U.NORMAL,0===r.scrollLeft&&(r.scrollLeft=1,V=0===r.scrollLeft?U.NEGATED:U.INVERTED),r.remove()}return V}const gt=new t.nKC("cdk-dir-doc",{providedIn:"root",factory:function St(){return(0,t.WQX)(y.qQ)}}),pt=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let mt=(()=>{class r{constructor(o){this.value="ltr",this.change=new t.bkB,o&&(this.value=function ht(r){const x=r?.toLowerCase()||"";return"auto"===x&&typeof navigator<"u"&&navigator?.language?pt.test(navigator.language)?"rtl":"ltr":"rtl"===x?"rtl":"ltr"}((o.body?o.body.dir:null)||(o.documentElement?o.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#t=this.\u0275fac=function(i){return new(i||r)(t.KVO(gt,8))};static#e=this.\u0275prov=t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Ft=X(89079),Gt=X(21413),be=X(96697),ye=X(30536);const Fe="function"==typeof Float32Array;function $t(r,x){return 1-3*x+3*r}function Ht(r,x){return 3*x-6*r}function Qt(r){return 3*r}function Xt(r,x,o){return(($t(x,o)*r+Ht(x,o))*r+Qt(x))*r}function Kt(r,x,o){return 3*$t(x,o)*r*r+2*Ht(x,o)*r+Qt(x)}function Ee(r){return r}function Me(r,x,o,i){if(!(0<=r&&r<=1&&0<=o&&o<=1))throw new Error("bezier x values must be in [0, 1] range");if(r===x&&o===i)return Ee;let l=Fe?new Float32Array(11):new Array(11);for(let E=0;E<11;++E)l[E]=Xt(.1*E,r,o);return function(N){return 0===N?0:1===N?1:Xt(function F(E){let N=0,j=1;for(;10!==j&&l[j]<=E;++j)N+=.1;--j;let lt=N+(E-l[j])/(l[j+1]-l[j])*.1,wt=Kt(lt,r,o);return wt>=.001?function xe(r,x,o,i){for(let l=0;l<4;++l){let F=Kt(x,o,i);if(0===F)return x;x-=(Xt(x,o,i)-r)/F}return x}(E,lt,r,o):0===wt?lt:function Ce(r,x,o,i,l){let F,E,N=0;do{E=x+(o-x)/2,F=Xt(E,i,l)-r,F>0?o=E:x=E}while(Math.abs(F)>1e-7&&++N<10);return E}(E,N,N+.1,r,o)}(N),x,i)}}const Pe=new t.nKC("SMOOTH_SCROLL_OPTIONS");let Ne=(()=>{class r{get _w(){return this._document.defaultView}get _now(){return this._w.performance?.now?.bind(this._w.performance)||Date.now}constructor(o,i,l){this._document=o,this._platform=i,this._onGoingScrolls=new Map,this._defaultOptions={duration:468,easing:{x1:.42,y1:0,x2:.58,y2:1},...l}}_scrollElement(o,i,l){o.scrollLeft=i,o.scrollTop=l}_getElement(o,i){return"string"==typeof o?(i||this._document).querySelector(o):function zt(r){return r instanceof t.aKT?r.nativeElement:r}(o)}_initSmoothScroll(o){return this._onGoingScrolls.has(o)&&this._onGoingScrolls.get(o).next(),this._onGoingScrolls.set(o,new Gt.B).get(o)}_isFinished(o,i,l){return o.currentX!==o.x||o.currentY!==o.y||(i.next(),l(),!1)}_interrupted(o,i){return(0,b.h)((0,n.R)(o,"wheel",{passive:!0,capture:!0}),(0,n.R)(o,"touchmove",{passive:!0,capture:!0}),i).pipe((0,be.s)(1))}_destroy(o,i){i.complete(),this._onGoingScrolls.delete(o)}_step(o){return new D.c(i=>{let l=(this._now()-o.startTime)/o.duration;l=l>1?1:l;const F=o.easing(l);o.currentX=o.startX+(o.x-o.startX)*F,o.currentY=o.startY+(o.y-o.startY)*F,this._scrollElement(o.scrollable,o.currentX,o.currentY),ye.X.schedule(()=>i.next(o))})}_applyScrollToOptions(o,i){if(!i.duration)return this._scrollElement(o,i.left,i.top),Promise.resolve();const l=this._initSmoothScroll(o),F={scrollable:o,startTime:this._now(),startX:o.scrollLeft,startY:o.scrollTop,x:null==i.left?o.scrollLeft:~~i.left,y:null==i.top?o.scrollTop:~~i.top,duration:i.duration,easing:Me(i.easing.x1,i.easing.y1,i.easing.x2,i.easing.y2)};return new Promise(E=>{(0,d.of)(null).pipe(C(()=>this._step(F).pipe(u(N=>this._isFinished(N,l,E)))),(0,a.Q)(this._interrupted(o,l)),(0,I.j)(()=>this._destroy(o,l))).subscribe()})}scrollTo(o,i){if((0,y.UE)(this._platform)){const l=this._getElement(o),F="rtl"===getComputedStyle(l).direction,E=tt(),N={...this._defaultOptions,...i,left:null==i.left?F?i.end:i.start:i.left,right:null==i.right?F?i.start:i.end:i.right};return null!=N.bottom&&(N.top=l.scrollHeight-l.clientHeight-N.bottom),F&&E!==U.NORMAL?(null!=N.left&&(N.right=l.scrollWidth-l.clientWidth-N.left),E===U.INVERTED?N.left=N.right:E===U.NEGATED&&(N.left=N.right?-N.right:N.right)):null!=N.right&&(N.left=l.scrollWidth-l.clientWidth-N.right),this._applyScrollToOptions(l,N)}return Promise.resolve()}scrollToElement(o,i,l={}){const F=this._getElement(o),E=this._getElement(i,F),N={...l,left:E.offsetLeft+(l.left||0),top:E.offsetTop+(l.top||0)};return E?this.scrollTo(F,N):Promise.resolve()}static#t=this.\u0275fac=function(i){return new(i||r)(t.KVO(y.qQ),t.KVO(t.Agw),t.KVO(Pe,8))};static#e=this.\u0275prov=t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const Te=["sticky"];function De(r,x){1&r&&t.nrm(0,"scrollbar-y")}function Ie(r,x){1&r&&t.nrm(0,"scrollbar-x")}const Le=["contentWrapper"],je=["*"];var Lt=function(r){return r.AfterInit="AfterInit",r.Resized="ResizeObserver",r}(Lt||{});const Re=new t.nKC("NG_SCROLLBAR_OPTIONS");var Wt=function(r){return r.Viewport="ng-scroll-viewport",r.Content="ng-scroll-content",r}(Wt||{});class Zt{get offsetHeight(){return this.nativeElement.offsetHeight}get offsetWidth(){return this.nativeElement.offsetWidth}get scrollTop(){return this.nativeElement.scrollTop}get scrollLeft(){return this.nativeElement.scrollLeft}get contentHeight(){return this.contentWrapperElement?.offsetHeight}get contentWidth(){return this.contentWrapperElement?.offsetWidth}get scrollMaxX(){return this.contentWidth-this.offsetWidth}get scrollMaxY(){return this.contentHeight-this.offsetHeight}constructor(x){this.nativeElement=x,x.classList.add(Wt.Viewport)}init(x,o){o&&(o.style.position="relative",this.contentWrapperElement=o);let i=x??this.nativeElement?.firstElementChild;i?.classList.add(Wt.Content),!this.contentWrapperElement&&i&&(this.contentWrapperElement=i)}scrollYTo(x){this.nativeElement.scrollTop=x}scrollXTo(x){this.nativeElement.scrollLeft=x}}let Ae=(()=>{class r{constructor(){this.viewport=new Zt((0,t.WQX)(t.aKT).nativeElement)}static#t=this.\u0275fac=function(i){return new(i||r)};static#e=this.\u0275dir=t.FsC({type:r,selectors:[["","scrollViewport",""]],standalone:!0})}return r})();function qt(r,x,o){let l,i=Lt.AfterInit;const F=new D.c(E=>(l=new ResizeObserver(()=>{E.next(i),i=Lt.Resized}),l.observe(r),!o&&r.firstElementChild&&l.observe(r.firstElementChild),()=>{l?.disconnect()}));return x?F.pipe(function _(r,x=T.E,o){const i=(0,m.O)(r,x);return function h(r,x){return(0,R.N)((o,i)=>{const{leading:l=!0,trailing:F=!1}=x??{};let E=!1,N=null,j=null,W=!1;const yt=()=>{j?.unsubscribe(),j=null,F&&(ve(),W&&i.complete())},lt=()=>{j=null,W&&i.complete()},wt=Mt=>j=(0,c.Tg)(r(Mt)).subscribe((0,P._)(i,yt,lt)),ve=()=>{if(E){E=!1;const Mt=N;N=null,i.next(Mt),!W&&wt(Mt)}};o.subscribe((0,P._)(i,Mt=>{E=!0,N=Mt,(!j||j.closed)&&(l?ve():wt(Mt))},()=>{W=!0,(!(F&&E&&j)||j.closed)&&i.complete()}))})}(()=>i,o)}(x,null,{leading:!0,trailing:!0})):F}const Tt=new t.nKC("_NG_SCROLLBAR"),Jt={scrollTimelinePolyfill:"https://flackr.github.io/scroll-timeline/dist/scroll-timeline.js",trackClass:"",thumbClass:"",orientation:"auto",appearance:"standard",visibility:"native",position:"native",clickScrollDuration:50,sensorThrottleTime:0,disableSensor:!1,disableInteraction:!1};let te=(()=>{class r{constructor(o){this.isBrowser=(0,y.UE)((0,t.WQX)(t.Agw)),this.document=(0,t.WQX)(y.qQ),this.window=this.document.defaultView,this.globalOptions={},this.rtlScrollAxisType=tt(),this.scrollTimelinePolyfill=(0,t.vPA)(null),this.globalOptions=o?{...Jt,...o}:Jt,this.isBrowser&&!this.window.ScrollTimeline&&!CSS.supports("animation-timeline","scroll()")&&this.initPolyfill()}initPolyfill(){var o=this;return(0,M.A)(function*(){try{const i=o.document.createElement("script");i.src=o.globalOptions.scrollTimelinePolyfill,yield new Promise((l,F)=>{i.onload=l,i.onerror=F,o.document.head.appendChild(i)}),o.window.ScrollTimeline?o.scrollTimelinePolyfill.set(window.ScrollTimeline):console.error("ScrollTimeline is not attached to the window object.")}catch(i){console.error("Error loading ScrollTimeline script:",i)}})()}static#t=this.\u0275fac=function(i){return new(i||r)(t.KVO(Re,8))};static#e=this.\u0275prov=t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),ze=(()=>{class r{constructor(){this.platform=(0,t.WQX)(A),this.zone=(0,t.WQX)(t.SKi),this.injector=(0,t.WQX)(t.zZn),this.isMobile=this.platform.SAFARI||this.platform.ANDROID,this.dir=(0,t.WQX)(mt),this.manager=(0,t.WQX)(te),this.smoothScroll=(0,t.WQX)(Ne),this.nativeElement=(0,t.WQX)(t.aKT).nativeElement,this.rtlScrollAxisType=this.manager.rtlScrollAxisType,this.dragging=(0,t.vPA)("none"),this.orientation=(0,t.hFB)(this.manager.globalOptions.orientation),this.visibility=(0,t.hFB)(this.manager.globalOptions.visibility),this.disableInteraction=(0,t.hFB)(this.manager.globalOptions.disableInteraction,{transform:t.L39}),this.interactionDisabled=(0,t.EWP)(()=>this.isMobile||this.disableInteraction()),this.disableSensor=(0,t.hFB)(this.manager.globalOptions.disableSensor,{transform:t.L39}),this.sensorThrottleTime=(0,t.hFB)(this.manager.globalOptions.sensorThrottleTime,{transform:t.Udg}),this.viewportDimension=(0,t.vPA)({contentHeight:0,contentWidth:0,offsetHeight:0,offsetWidth:0}),this.state=(0,t.EWP)(()=>{let o=!1,i=!1,l=!1,F=!1;const E=this.orientation(),N=this.visibility(),j=this.viewportDimension();return("auto"===E||"vertical"===E)&&(l=j.contentHeight>j.offsetHeight,o="always"===N||l),("auto"===E||"horizontal"===E)&&(F=j.contentWidth>j.offsetWidth,i="always"===N||F),{verticalUsed:o,horizontalUsed:i,isVerticallyScrollable:l,isHorizontallyScrollable:F}}),this.isVerticallyScrollable=(0,t.EWP)(()=>this.state().isVerticallyScrollable),this.isHorizontallyScrollable=(0,t.EWP)(()=>this.state().isHorizontallyScrollable),this.verticalUsed=(0,t.EWP)(()=>this.state().verticalUsed),this.horizontalUsed=(0,t.EWP)(()=>this.state().horizontalUsed),this.trackClickDuration=this.manager.globalOptions.clickScrollDuration,this.appearance=this.manager.globalOptions.appearance,this.position=this.manager.globalOptions.position,this.trackClass=this.manager.globalOptions.trackClass,this.thumbClass=this.manager.globalOptions.thumbClass,this.afterInit=new t.bkB,this.afterUpdate=new t.bkB}ngOnInit(){(0,t.N4e)(this.injector,()=>{this.direction=(0,Ft.ot)(this.dir.change.pipe((0,f.T)(()=>this.dir.value)),{initialValue:this.dir.value}),(0,t.QZP)(o=>{this.disableSensor()?this.sizeChangeSub?.unsubscribe():this.platform.isBrowser&&(this.sizeChangeSub?.unsubscribe(),this.sizeChangeSub=qt(this.viewport.nativeElement,this.sensorThrottleTime()).pipe((0,S.M)(i=>this.update(i))).subscribe()),o(()=>this.sizeChangeSub?.unsubscribe())})})}ngAfterViewInit(){this.platform.isBrowser&&this.disableSensor()&&requestAnimationFrame(()=>{this.update(Lt.AfterInit)})}update(o){this.updateCSSVariables(),this.zone.run(()=>{this.viewportDimension.set({contentHeight:this.viewport.contentHeight,contentWidth:this.viewport.contentWidth,offsetHeight:this.viewport.offsetHeight,offsetWidth:this.viewport.offsetWidth}),o===Lt.AfterInit?this.afterInit.emit():this.afterUpdate.emit()})}scrollTo(o){return this.smoothScroll.scrollTo(this.viewport.nativeElement,{duration:this.trackClickDuration,...o})}scrollToElement(o,i){return this.smoothScroll.scrollToElement(this.viewport.nativeElement,o,i)}updateCSSVariables(){this.nativeElement.style.setProperty("--content-height",`${this.viewport.contentHeight}`),this.nativeElement.style.setProperty("--content-width",`${this.viewport.contentWidth}`),this.nativeElement.style.setProperty("--viewport-height",`${this.viewport.offsetHeight}`),this.nativeElement.style.setProperty("--viewport-width",`${this.viewport.offsetWidth}`)}static#t=this.\u0275fac=function(i){return new(i||r)};static#e=this.\u0275dir=t.FsC({type:r,hostVars:14,hostBindings:function(i,l){2&i&&(t.BMQ("verticalUsed",l.verticalUsed())("horizontalUsed",l.horizontalUsed())("isVerticallyScrollable",l.isVerticallyScrollable())("isHorizontallyScrollable",l.isHorizontallyScrollable())("mobile",l.isMobile)("dir",l.direction())("position",l.position)("dragging",l.dragging())("appearance",l.appearance)("visibility",l.visibility())("orientation",l.orientation())("disableInteraction",l.interactionDisabled()),t.AVh("ng-scrollbar",!0))},inputs:{orientation:[t.Mj6.SignalBased,"orientation"],visibility:[t.Mj6.SignalBased,"visibility"],disableInteraction:[t.Mj6.SignalBased,"disableInteraction"],disableSensor:[t.Mj6.SignalBased,"disableSensor"],sensorThrottleTime:[t.Mj6.SignalBased,"sensorThrottleTime"],trackClickDuration:[t.Mj6.HasDecoratorInputTransform,"clickScrollDuration","trackClickDuration",t.Udg],appearance:"appearance",position:"position",trackClass:"trackClass",thumbClass:"thumbClass"},outputs:{afterInit:"afterInit",afterUpdate:"afterUpdate"},features:[t.Jv_([{provide:Tt,useExisting:r}]),t.GFd]})}return r})();function ee(r){return(0,S.M)(()=>r.onselectstart=()=>!1)}function oe(r){return(0,S.M)(()=>r.onselectstart=null)}function jt(){return(0,S.M)(r=>{r.preventDefault(),r.stopPropagation()})}let Rt=(()=>{class r{get trackMax(){return this.track.size-this.size}get clientRect(){return this.nativeElement.getBoundingClientRect()}get dragged(){return(0,n.R)(this.nativeElement,"pointerdown").pipe(jt(),(0,s.n)(o=>{let i,l;const F=(0,d.of)(o).pipe(ee(this.document),(0,S.M)(()=>{i=this.trackMax,l=this.viewportScrollMax,this.setDragging(this.axis)})),E=(0,n.R)(this.document,"pointermove").pipe(jt()),N=(0,n.R)(this.document,"pointerup",{capture:!0}).pipe(jt(),oe(this.document),(0,S.M)(()=>this.setDragging("none")));return F.pipe((0,f.T)(j=>j[this.pageProperty]),(0,f.T)(j=>j-this.dragStartOffset),(0,s.n)(j=>E.pipe((0,f.T)(W=>W[this.clientProperty]),(0,f.T)(W=>W-this.track.offset),(0,f.T)(W=>l*(W-j)/i),(0,f.T)(W=>this.handleDrag(W,l)),(0,S.M)(W=>this.scrollTo(W)),(0,a.Q)(N))))}))}constructor(){this.zone=(0,t.WQX)(t.SKi),this.document=(0,t.WQX)(y.qQ),this.cmp=(0,t.WQX)(Tt),this.manager=(0,t.WQX)(te),this.track=(0,t.WQX)(At),this.nativeElement=(0,t.WQX)(t.aKT).nativeElement,(0,t.QZP)(()=>{const o=this.manager.scrollTimelinePolyfill();o&&!this.animation&&(this.animation=function Ye(r,x,o,i){return x.animate({translate:["var(--_scrollbar-thumb-transform-from)","var(--_scrollbar-thumb-transform-to)"]},{fill:"both",easing:"linear",timeline:new r({source:o,axis:i})})}(o,this.nativeElement,this.cmp.viewport.nativeElement,this.axis))})}setDragging(o){this.zone.run(()=>this.cmp.dragging.set(o))}static#t=this.\u0275fac=function(i){return new(i||r)};static#e=this.\u0275dir=t.FsC({type:r})}return r})(),At=(()=>{class r{get dragged(){const o=(0,n.R)(this.nativeElement,"pointerdown").pipe(jt(),ee(this.document)),i=(0,n.R)(this.document,"pointerup",{passive:!0}).pipe(oe(this.document)),l=(0,n.R)(this.nativeElement,"pointermove",{passive:!0}).pipe((0,f.T)(N=>(this.currMousePosition=N[this.clientProperty],!0))),F=(0,n.R)(this.nativeElement,"pointerout",{passive:!0}).pipe((0,f.T)(()=>!1)),E=new g.t(!0);return o.pipe((0,s.n)(N=>((0,b.h)(l,F).pipe((0,p.F)(),(0,S.M)(j=>E.next(j)),(0,a.Q)(i)).subscribe(),(0,n.R)(this.thumb.nativeElement,"pointermove").pipe(jt(),(0,a.Q)(i)).subscribe(),this.onTrackFirstClick(N).pipe((0,s.n)(j=>j?v.w:E.pipe((0,s.n)(W=>{const yt=this.getScrollDirection();return W&&this.scrollDirection===yt?this.onTrackOngoingMousedown():v.w}),(0,I.j)(()=>{E.next(!0)}))),(0,a.Q)(i)))))}get clientRect(){return this.nativeElement.getBoundingClientRect()}getScrollDirection(){return this.currMousePosition-this.thumb.offset>0?"forward":"backward"}constructor(){this.nativeElement=(0,t.WQX)(t.aKT).nativeElement,this.cmp=(0,t.WQX)(Tt),this.document=(0,t.WQX)(y.qQ),(0,t.QZP)(o=>{this.cmp.disableSensor()?(this.updateCSSVariables(),this.sizeChangeSub?.unsubscribe()):this.sizeChangeSub=qt(this.nativeElement,this.cmp.sensorThrottleTime(),!0).pipe((0,S.M)(()=>this.updateCSSVariables())).subscribe(),o(()=>this.sizeChangeSub?.unsubscribe())})}updateCSSVariables(){this.cmp.nativeElement.style.setProperty(this.cssLengthProperty,`${this.size}`)}onTrackFirstClick(o){let i,l;if(this.currMousePosition=o[this.clientProperty],this.scrollDirection=this.getScrollDirection(),"forward"===this.scrollDirection){const F=this.viewportScrollOffset+this.viewportViewportSize,E=this.viewportScrollSize-this.viewportViewportSize;F>=E?(i=E,l=!0):i=F}else{const F=this.viewportScrollOffset-this.viewportViewportSize;F<=0?(i=0,l=!0):i=F}return this.scrollTo(i).pipe((0,e.c)(200),(0,f.T)(()=>l))}onTrackOngoingMousedown(){const o=this.getRelativePosition();let i,l;if("forward"===this.scrollDirection){const F=this.viewportScrollOffset+this.viewportViewportSize;F>=o?(i=o,l=!0):i=F}else{const F=this.viewportScrollOffset-this.viewportViewportSize;F<=o?(i=o,l=!0):i=F}return this.scrollTo(i).pipe(u(()=>!l),C(()=>this.onTrackOngoingMousedown()))}getRelativePosition(){return(this.currMousePosition-this.offset)/this.size*(this.viewportScrollSize-this.viewportViewportSize)}static#t=this.\u0275fac=function(i){return new(i||r)};static#e=this.\u0275dir=t.FsC({type:r,contentQueries:function(i,l,F){if(1&i&&t.wni(F,Rt,5),2&i){let E;t.mGM(E=t.lsd())&&(l.thumb=E.first)}}})}return r})(),re=(()=>{class r extends At{constructor(){super(...arguments),this.cssLengthProperty="--track-x-length",this.clientProperty="clientX"}get offset(){return this.clientRect.left}get size(){return this.nativeElement.clientWidth}get viewportScrollSize(){return this.cmp.viewport.contentWidth}get viewportViewportSize(){return this.cmp.viewport.offsetWidth}get viewportScrollOffset(){return this.cmp.viewport.scrollLeft}scrollTo(o){return(0,c.Sx)(this.cmp.scrollTo({left:o}))}static#t=this.\u0275fac=(()=>{let o;return function(l){return(o||(o=t.xGo(r)))(l||r)}})();static#e=this.\u0275dir=t.FsC({type:r,selectors:[["","scrollbarTrackX",""]],standalone:!0,features:[t.Jv_([{provide:At,useExisting:r}]),t.Vt3]})}return r})(),ie=(()=>{class r extends At{constructor(){super(...arguments),this.cssLengthProperty="--track-y-length",this.clientProperty="clientY"}get offset(){return this.clientRect.top}get size(){return this.nativeElement.clientHeight}get viewportScrollSize(){return this.cmp.viewport.contentHeight}get viewportViewportSize(){return this.cmp.viewport.offsetHeight}get viewportScrollOffset(){return this.cmp.viewport.scrollTop}scrollTo(o){return(0,c.Sx)(this.cmp.scrollTo({top:o}))}static#t=this.\u0275fac=(()=>{let o;return function(l){return(o||(o=t.xGo(r)))(l||r)}})();static#e=this.\u0275dir=t.FsC({type:r,selectors:[["","scrollbarTrackY",""]],standalone:!0,features:[t.Jv_([{provide:At,useExisting:r}]),t.Vt3]})}return r})(),se=(()=>{class r extends Rt{get clientProperty(){return"clientX"}get pageProperty(){return"pageX"}get viewportScrollMax(){return this.cmp.viewport.scrollMaxX}get dragStartOffset(){return this.clientRect.left+this.document.defaultView.pageXOffset}get offset(){return this.clientRect.left}get size(){return this.nativeElement.clientWidth}constructor(){super(),this.axis="x",(0,t.QZP)(()=>{"rtl"===this.cmp.direction()?(this.cmp.rtlScrollAxisType===U.NEGATED&&(this.handleDrag=(o,i)=>-(i-o)),this.cmp.rtlScrollAxisType===U.INVERTED&&(this.handleDrag=(o,i)=>o-i)):this.handleDrag=o=>o})}scrollTo(o){this.cmp.viewport.scrollXTo(o)}static#t=this.\u0275fac=function(i){return new(i||r)};static#e=this.\u0275dir=t.FsC({type:r,selectors:[["","scrollbarThumbX",""]],standalone:!0,features:[t.Jv_([{provide:Rt,useExisting:r}]),t.Vt3]})}return r})(),ne=(()=>{class r extends Rt{constructor(){super(...arguments),this.axis="y",this.handleDrag=o=>o}get pageProperty(){return"pageY"}get viewportScrollMax(){return this.cmp.viewport.scrollMaxY}get clientProperty(){return"clientY"}get dragStartOffset(){return this.clientRect.top+this.document.defaultView.pageYOffset}get offset(){return this.clientRect.top}get size(){return this.nativeElement.clientHeight}scrollTo(o){this.cmp.viewport.scrollYTo(o)}static#t=this.\u0275fac=(()=>{let o;return function(l){return(o||(o=t.xGo(r)))(l||r)}})();static#e=this.\u0275dir=t.FsC({type:r,selectors:[["","scrollbarThumbY",""]],standalone:!0,features:[t.Jv_([{provide:Rt,useExisting:r}]),t.Vt3]})}return r})(),ae=(()=>{class r{constructor(){this.zone=(0,t.WQX)(t.SKi),this.cmp=(0,t.WQX)(Tt),(0,t.QZP)(o=>{this.cmp.interactionDisabled()?this.pointerEventsSub?.unsubscribe():this.zone.runOutsideAngular(()=>{this.pointerEventsSub=(0,b.h)(this.thumb.dragged,this.track.dragged).subscribe()}),o(()=>this.pointerEventsSub?.unsubscribe())})}static#t=this.\u0275fac=function(i){return new(i||r)};static#e=this.\u0275dir=t.FsC({type:r,viewQuery:function(i,l){if(1&i&&t.GBs(Te,7),2&i){let F;t.mGM(F=t.lsd())&&(l.sticky=F.first)}}})}return r})(),le=(()=>{class r extends ae{static#t=this.\u0275fac=(()=>{let o;return function(l){return(o||(o=t.xGo(r)))(l||r)}})();static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["scrollbar-y"]],viewQuery:function(i,l){if(1&i&&(t.GBs(ie,7),t.GBs(ne,7)),2&i){let F;t.mGM(F=t.lsd())&&(l.track=F.first),t.mGM(F=t.lsd())&&(l.thumb=F.first)}},standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:6,consts:[["sticky",""],[1,"ng-scrollbar-sticky"],["scrollbarTrackY",""],["scrollbarThumbY",""]],template:function(i,l){1&i&&(t.j41(0,"div",1,0)(2,"div",2),t.nrm(3,"div",3),t.k0s()()),2&i&&(t.R7$(2),t.ZvI("ng-scrollbar-track ",l.cmp.trackClass,""),t.R7$(),t.ZvI("ng-scrollbar-thumb ",l.cmp.thumbClass,""))},dependencies:[ie,ne],styles:["[_nghost-%COMP%]{position:absolute;inset:0;pointer-events:none;min-width:calc(var(--viewport-width) * 1px);min-height:calc(var(--viewport-height) * 1px)}.ng-scrollbar-sticky[_ngcontent-%COMP%]{top:calc(var(--_scrollbar-wrapper-top) * 1px);left:calc(var(--_scrollbar-wrapper-left) * 1px);right:calc(var(--_scrollbar-wrapper-right) * 1px);height:calc(var(--_scrollbar-wrapper-height) * 1px);width:calc(var(--_scrollbar-wrapper-width) * 1px);position:sticky;z-index:1}.ng-scrollbar-track[_ngcontent-%COMP%]{top:var(--_scrollbar-track-top);bottom:var(--_scrollbar-track-bottom);right:var(--_scrollbar-track-right);left:var(--_scrollbar-track-left);pointer-events:var(--_scrollbar-pointer-events);opacity:var(--_scrollbar-opacity);background-color:var(--scrollbar-track-color);transition:var(--_scrollbar-transition);border-radius:var(--scrollbar-border-radius);position:absolute;cursor:default;z-index:1}.ng-scrollbar-thumb[_ngcontent-%COMP%]{box-sizing:border-box;position:absolute;transition:var(--scrollbar-thumb-transition);border-radius:var(--scrollbar-border-radius);height:var(--_thumb-height);width:var(--_thumb-width);animation-name:_ngcontent-%COMP%_scrollbarThumbAnimation;animation-duration:1ms;animation-timing-function:linear}@keyframes _ngcontent-%COMP%_scrollbarThumbAnimation{0%{translate:var(--_scrollbar-thumb-transform-from)}to{translate:var(--_scrollbar-thumb-transform-to)}}","[_nghost-%COMP%]{--_scrollbar-wrapper-top: 0;--_scrollbar-wrapper-left: var(--_scrollbar-wrapper-y-left);--_scrollbar-wrapper-right: var(--_scrollbar-wrapper-y-right);--_scrollbar-wrapper-height: var(--viewport-height);--_scrollbar-wrapper-width: var(--_scrollbar-thickness);--_scrollbar-track-top: var(--_vertical-top);--_scrollbar-track-bottom: var(--_vertical-bottom);--_scrollbar-track-right: var(--_vertical-right);--_scrollbar-track-left: var(--_vertical-left);--_thumb-height: calc(var(--thumb-y-length) * 1px);--_thumb-width: 100%;--_scrollbar-thumb-transform-from: 0 0;--_scrollbar-thumb-transform-to: 0 calc(var(--_scrollbar-y-thumb-transform-to-value) * 1px)}.ng-scrollbar-track[_ngcontent-%COMP%]{width:var(--_track-y-thickness)}.ng-scrollbar-track[_ngcontent-%COMP%]:hover{--_track-y-thickness: var(--_scrollbar-hover-thickness-px);--_thumb-y-color: var(--scrollbar-thumb-hover-color)}.ng-scrollbar-thumb[_ngcontent-%COMP%]{animation-timeline:var(--_animation-timeline-y);min-height:calc(var(--scrollbar-thumb-min-size) * 1px);display:var(--_vertical-thumb-display);background-color:var(--_thumb-y-color)}"],changeDetection:0})}return r})(),ce=(()=>{class r extends ae{static#t=this.\u0275fac=(()=>{let o;return function(l){return(o||(o=t.xGo(r)))(l||r)}})();static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["scrollbar-x"]],viewQuery:function(i,l){if(1&i&&(t.GBs(re,7),t.GBs(se,7)),2&i){let F;t.mGM(F=t.lsd())&&(l.track=F.first),t.mGM(F=t.lsd())&&(l.thumb=F.first)}},standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:7,consts:[["sticky",""],[1,"ng-scrollbar-sticky"],["scrollbarTrackX",""],["scrollbarThumbX",""]],template:function(i,l){1&i&&(t.j41(0,"div",1,0)(2,"div",2),t.nrm(3,"div",3),t.k0s()()),2&i&&(t.R7$(2),t.ZvI("ng-scrollbar-track ",l.cmp.trackClass,""),t.R7$(),t.ZvI("ng-scrollbar-thumb ",l.cmp.thumbClass,""),t.BMQ("dir",l.cmp.direction()))},dependencies:[re,se],styles:["[_nghost-%COMP%]{position:absolute;inset:0;pointer-events:none;min-width:calc(var(--viewport-width) * 1px);min-height:calc(var(--viewport-height) * 1px)}.ng-scrollbar-sticky[_ngcontent-%COMP%]{top:calc(var(--_scrollbar-wrapper-top) * 1px);left:calc(var(--_scrollbar-wrapper-left) * 1px);right:calc(var(--_scrollbar-wrapper-right) * 1px);height:calc(var(--_scrollbar-wrapper-height) * 1px);width:calc(var(--_scrollbar-wrapper-width) * 1px);position:sticky;z-index:1}.ng-scrollbar-track[_ngcontent-%COMP%]{top:var(--_scrollbar-track-top);bottom:var(--_scrollbar-track-bottom);right:var(--_scrollbar-track-right);left:var(--_scrollbar-track-left);pointer-events:var(--_scrollbar-pointer-events);opacity:var(--_scrollbar-opacity);background-color:var(--scrollbar-track-color);transition:var(--_scrollbar-transition);border-radius:var(--scrollbar-border-radius);position:absolute;cursor:default;z-index:1}.ng-scrollbar-thumb[_ngcontent-%COMP%]{box-sizing:border-box;position:absolute;transition:var(--scrollbar-thumb-transition);border-radius:var(--scrollbar-border-radius);height:var(--_thumb-height);width:var(--_thumb-width);animation-name:_ngcontent-%COMP%_scrollbarThumbAnimation;animation-duration:1ms;animation-timing-function:linear}@keyframes _ngcontent-%COMP%_scrollbarThumbAnimation{0%{translate:var(--_scrollbar-thumb-transform-from)}to{translate:var(--_scrollbar-thumb-transform-to)}}","[_nghost-%COMP%]{--_scrollbar-wrapper-top: var(--_scrollbar-wrapper-x-top);--_scrollbar-wrapper-left: 0;--_scrollbar-wrapper-right: 0;--_scrollbar-wrapper-height: var(--_scrollbar-thickness);--_scrollbar-wrapper-width: var(--viewport-width);--_scrollbar-track-top: var(--_horizontal-top);--_scrollbar-track-bottom: var(--_horizontal-bottom);--_scrollbar-track-right: var(--_horizontal-right);--_scrollbar-track-left: var(--_horizontal-left);--_thumb-height: 100%;--_thumb-width: calc(var(--thumb-x-length) * 1px);--_scrollbar-thumb-transform-from: 0;--_scrollbar-thumb-transform-to: calc(var(--_scrollbar-x-thumb-transform-to-value) * 1px)}.ng-scrollbar-track[_ngcontent-%COMP%]{height:var(--_track-x-thickness)}.ng-scrollbar-track[_ngcontent-%COMP%]:hover{--_track-x-thickness: var(--_scrollbar-hover-thickness-px);--_thumb-x-color: var(--scrollbar-thumb-hover-color)}.ng-scrollbar-thumb[_ngcontent-%COMP%]{animation-timeline:var(--_animation-timeline-x);min-width:calc(var(--scrollbar-thumb-min-size) * 1px);display:var(--_horizontal-thumb-display);background-color:var(--_thumb-x-color)}.ng-scrollbar-thumb[dir=rtl][_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_scrollbarThumbRTLAnimation;will-change:right;--_scrollbar-thumb-transform-to: calc(var(--_scrollbar-x-thumb-transform-to-value) * -1px)}@keyframes _ngcontent-%COMP%_scrollbarThumbRTLAnimation{0%{right:var(--_scrollbar-thumb-transform-from)}to{right:calc(var(--_scrollbar-thumb-transform-to) * -1)}}"],changeDetection:0})}return r})(),he=(()=>{class r{constructor(){this.cmp=(0,t.WQX)(Tt)}static#t=this.\u0275fac=function(i){return new(i||r)};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["scrollbars"]],viewQuery:function(i,l){if(1&i&&(t.GBs(le,5),t.GBs(ce,5)),2&i){let F;t.mGM(F=t.lsd())&&(l.y=F.first),t.mGM(F=t.lsd())&&(l.x=F.first)}},standalone:!0,features:[t.aNF],decls:2,vars:2,template:function(i,l){1&i&&t.DNE(0,De,1,0,"scrollbar-y")(1,Ie,1,0,"scrollbar-x"),2&i&&(t.vxM(0,l.cmp.verticalUsed()?0:-1),t.R7$(),t.vxM(1,l.cmp.horizontalUsed()?1:-1))},dependencies:[ce,le],styles:["[_nghost-%COMP%]{display:contents}"],changeDetection:0})}return r})(),de=(()=>{class r extends ze{constructor(){super(...arguments),this.viewport=new Zt(this.nativeElement)}ngOnInit(){this.viewport.init(this.contentWrapper.nativeElement),super.ngOnInit()}static#t=this.\u0275fac=(()=>{let o;return function(l){return(o||(o=t.xGo(r)))(l||r)}})();static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["ng-scrollbar",3,"externalViewport",""]],viewQuery:function(i,l){if(1&i&&(t.GBs(Le,7),t.GBs(he,7)),2&i){let F;t.mGM(F=t.lsd())&&(l.contentWrapper=F.first),t.mGM(F=t.lsd())&&(l.scrollbars=F.first)}},exportAs:["ngScrollbar"],standalone:!0,features:[t.Jv_([{provide:Tt,useExisting:r}]),t.nM4([Ae]),t.Vt3,t.aNF],ngContentSelectors:je,decls:4,vars:0,consts:[["contentWrapper",""]],template:function(i,l){1&i&&(t.NAR(),t.j41(0,"div",null,0),t.SdG(2),t.nrm(3,"scrollbars"),t.k0s())},dependencies:[he],styles:["[_nghost-%COMP%]{display:block;position:relative;overflow:hidden;max-height:100%;max-width:100%;--scrollbar-border-radius: 7px;--scrollbar-thickness: 5;--scrollbar-offset: 4;--scrollbar-track-color: transparent;--scrollbar-track-transition: height ease-out .15s, width ease-out .15s;--scrollbar-thumb-color: rgba(0, 0, 0, .2);--scrollbar-thumb-hover-color: var(--scrollbar-thumb-color);--scrollbar-hover-thickness: var(--scrollbar-thickness);--scrollbar-thumb-transition: none;--scrollbar-thumb-min-size: 20;--scrollbar-hover-transition-duration: .4s;--scrollbar-hover-transition-delay: .8s;--scrollbar-overscroll-behavior: initial;--scrollbar-mobile-overscroll-behavior: none;--_scrollbar-transition: var(--scrollbar-track-transition);--_scrollbar-opacity: initial;--_scrollbar-thickness: calc(var(--scrollbar-thickness) + var(--scrollbar-offset) * 2);--_scrollbar-pointer-events: auto;--_scrollbar-offset-px: calc(var(--scrollbar-offset) * 1px);--_scrollbar-thickness-px: calc(var(--scrollbar-thickness) * 1px);--_scrollbar-hover-thickness-px: calc(var(--scrollbar-hover-thickness) * 1px);--_viewport-padding-top: 0;--_viewport-padding-bottom: 0;--_viewport-padding-left: 0;--_viewport-padding-right: 0;--_horizontal-thumb-display: block;--_vertical-thumb-display: block;--_viewport-overflow: auto;--_thumb-x-color: var(--scrollbar-thumb-color);--_thumb-y-color: var(--scrollbar-thumb-color);--_track-y-thickness: var(--_scrollbar-thickness-px);--_track-x-thickness: var(--_scrollbar-thickness-px);--_viewport-overscroll-behavior: var(--scrollbar-overscroll-behavior);--_scrollbar-content-width: fit-content}[_nghost-%COMP%]{--_vertical-top: var(--_scrollbar-offset-px);--_vertical-bottom: var(--_scrollbar-offset-px);--_horizontal-left: var(--_scrollbar-offset-px);--_horizontal-right: var(--_scrollbar-offset-px);--_horizontal-top: initial;--_horizontal-bottom: var(--_scrollbar-offset-px);--_scrollbar-wrapper-x-top: calc(var(--viewport-height) - var(--_scrollbar-thickness));--reached-offset: 1px;--reached-offset-top: var(--reached-offset);--reached-offset-bottom: var(--reached-offset);--reached-offset-start: var(--reached-offset);--reached-offset-end: var(--reached-offset);--_viewport_scroll-timeline: unset;--_animation-timeline-y: unset;--_scrollbar-y-thumb-transform-to-value: unset;--_scrollbar-x-thumb-transform-to-value: unset;--_scrollbar-thumb-transform-from: unset;--_scrollbar-thumb-transform-to: unset}.ng-scrollbar-external-viewport[_nghost-%COMP%]     .ng-scroll-viewport{min-height:100%;min-width:100%;height:100%;max-height:100%;max-width:100%}.ng-scroll-viewport[_nghost-%COMP%], .ng-scrollbar-external-viewport[_nghost-%COMP%]     .ng-scroll-viewport{position:relative;overflow:var(--_viewport-overflow);scroll-timeline:var(--_viewport_scroll-timeline);box-sizing:border-box!important;-webkit-overflow-scrolling:touch;will-change:scroll-position;-webkit-user-select:var(--_viewport-user-select);user-select:var(--_viewport-user-select);overscroll-behavior:var(--_viewport-overscroll-behavior)}[_nghost-%COMP%]     .ng-scroll-content{width:var(--_scrollbar-content-width);z-index:1;min-width:100%;min-height:100%;contain:content;padding:var(--_viewport-padding-top, 0) var(--_viewport-padding-right, 0) var(--_viewport-padding-bottom, 0) var(--_viewport-padding-left, 0)}.ng-scroll-viewport[_nghost-%COMP%], .ng-scrollbar-external-viewport[_nghost-%COMP%]     .ng-scroll-viewport{scrollbar-width:none}.ng-scroll-viewport[_nghost-%COMP%]::-webkit-scrollbar, .ng-scrollbar-external-viewport[_nghost-%COMP%]     .ng-scroll-viewport::-webkit-scrollbar{display:none}[position=invertX][_nghost-%COMP%], [position=invertAll][_nghost-%COMP%]{--_horizontal-top: var(--_scrollbar-offset-px);--_horizontal-bottom: initial;--_scrollbar-wrapper-x-top: 0}[dir=ltr][_nghost-%COMP%]{--_scrollbar-wrapper-y-right: initial;--_vertical-right: var(--_scrollbar-offset-px);--_vertical-left: initial;--_scrollbar-wrapper-y-left: calc(var(--viewport-width) - var(--_scrollbar-thickness))}[dir=ltr][position=invertY][_nghost-%COMP%], [dir=ltr][position=invertAll][_nghost-%COMP%]{--_vertical-left: var(--_scrollbar-offset-px);--_vertical-right: initial;--_scrollbar-wrapper-y-left: 0}[dir=rtl][_nghost-%COMP%]{--_scrollbar-wrapper-y-left: initial;--_vertical-left: var(--_scrollbar-offset-px);--_vertical-right: initial;--_scrollbar-wrapper-y-right: calc(var(--viewport-width) - var(--_scrollbar-thickness))}[dir=rtl][position=invertY][_nghost-%COMP%], [dir=rtl][position=invertAll][_nghost-%COMP%]{--_vertical-right: var(--_scrollbar-offset-px);--_vertical-left: initial;--_scrollbar-wrapper-y-right: 0}[verticalUsed=true][horizontalUsed=true][_nghost-%COMP%]{--_scrollbar-thickness-margin: calc(var(--scrollbar-thickness) + var(--scrollbar-offset) * 3);--_scrollbar-thickness-margin-px: calc(var(--_scrollbar-thickness-margin) * 1px)}[horizontalUsed=true][_nghost-%COMP%]{--_vertical-top: var(--_scrollbar-offset-px);--_vertical-bottom: var(--_scrollbar-thickness-margin-px)}[horizontalUsed=true][position=invertX][_nghost-%COMP%], [horizontalUsed=true][position=invertAll][_nghost-%COMP%]{--_vertical-top: var(--_scrollbar-thickness-margin-px);--_vertical-bottom: var(--_scrollbar-offset-px)}[verticalUsed=true][dir=ltr][_nghost-%COMP%]{--_horizontal-left: var(--_scrollbar-offset-px);--_horizontal-right: var(--_scrollbar-thickness-margin-px)}[verticalUsed=true][dir=rtl][_nghost-%COMP%]{--_horizontal-left: var(--_scrollbar-thickness-margin-px);--_horizontal-right: var(--_scrollbar-offset-px)}[verticalUsed=true][position=invertY][dir=ltr][_nghost-%COMP%], [verticalUsed=true][position=invertAll][dir=ltr][_nghost-%COMP%]{--_horizontal-left: var(--_scrollbar-thickness-margin-px);--_horizontal-right: var(--_scrollbar-offset-px)}[verticalUsed=true][position=invertY][dir=rtl][_nghost-%COMP%], [verticalUsed=true][position=invertAll][dir=rtl][_nghost-%COMP%]{--_horizontal-left: var(--_scrollbar-offset-px);--_horizontal-right: var(--_scrollbar-thickness-margin-px)}[appearance=standard][verticalUsed=true][dir=ltr][_nghost-%COMP%]{--_viewport-padding-left: 0;--_viewport-padding-right: calc(var(--_scrollbar-thickness) * 1px)}[appearance=standard][verticalUsed=true][dir=rtl][_nghost-%COMP%]{--_viewport-padding-left: calc(var(--_scrollbar-thickness) * 1px);--_viewport-padding-right: 0}[appearance=standard][verticalUsed=true][position=invertY][dir=ltr][_nghost-%COMP%], [appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][_nghost-%COMP%]{--_viewport-padding-left: calc(var(--_scrollbar-thickness) * 1px);--_viewport-padding-right: 0}[appearance=standard][verticalUsed=true][position=invertY][dir=rtl][_nghost-%COMP%], [appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][_nghost-%COMP%]{--_viewport-padding-left: 0;--_viewport-padding-right: calc(var(--_scrollbar-thickness) * 1px)}[appearance=standard][horizontalUsed=true][_nghost-%COMP%]{--_viewport-padding-top: 0;--_viewport-padding-bottom: calc(var(--_scrollbar-thickness) * 1px)}[appearance=standard][horizontalUsed=true][position=invertX][_nghost-%COMP%], [appearance=standard][horizontalUsed=true][position=invertAll][_nghost-%COMP%]{--_viewport-padding-top: calc(var(--_scrollbar-thickness) * 1px);--_viewport-padding-bottom: 0}[visibility=hover][_nghost-%COMP%]{--_scrollbar-opacity: 0;--_scrollbar-transition: var(--scrollbar-track-transition), opacity var(--scrollbar-hover-transition-duration) var(--scrollbar-hover-transition-delay)}[visibility=hover][_nghost-%COMP%]:hover, [visibility=hover][_nghost-%COMP%]:active, [visibility=hover][_nghost-%COMP%]:focus{--_scrollbar-opacity: 1;--_scrollbar-transition: var(--scrollbar-track-transition), opacity var(--scrollbar-hover-transition-duration)}[dir=ltr][_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=start]{left:0;right:unset}[dir=ltr][_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=end]{right:0;left:unset}[dir=rtl][_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=start]{right:0;left:unset}[dir=rtl][_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=end]{left:0;right:unset}[_nghost-%COMP%]     .ng-scroll-reached-wrapper, [_nghost-%COMP%]     .scroll-reached-trigger-element{position:absolute;-webkit-user-select:none;user-select:none;pointer-events:none;z-index:-9999}[_nghost-%COMP%]     .ng-scroll-reached-wrapper{visibility:hidden;inset:0;min-width:calc(var(--viewport-width) * 1px);min-height:calc(var(--viewport-height) * 1px)}[_nghost-%COMP%]     [isHorizontallyScrollable=false] .scroll-reached-trigger-element[trigger=end]{display:none}[_nghost-%COMP%]     [isVerticallyScrollable=false] .scroll-reached-trigger-element[trigger=bottom]{display:none}[_nghost-%COMP%]     .scroll-reached-trigger-element{background:red}[_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=top], [_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=bottom]{left:0;right:0}[_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=start], [_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=end]{top:0;bottom:0}[_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=top]{top:0;height:var(--reached-offset-top)}[_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=bottom]{bottom:0;height:var(--reached-offset-bottom)}[_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=start]{width:var(--reached-offset-start)}[_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=end]{width:var(--reached-offset-end)}[verticalUsed=true][_nghost-%COMP%]{--_timeline-scope: --scrollerY;--_animation-timeline-y: --scrollerY;--_viewport_scroll-timeline: --scrollerY y;--_scrollbar-y-thumb-transform-to-value: calc(var(--track-y-length) - var(--thumb-y-length))}[horizontalUsed=true][_nghost-%COMP%]{--_timeline-scope: --scrollerX;--_animation-timeline-x: --scrollerX;--_viewport_scroll-timeline: --scrollerX x;--_scrollbar-x-thumb-transform-to-value: calc(var(--track-x-length) - var(--thumb-x-length))}[verticalUsed=true][horizontalUsed=true][_nghost-%COMP%]{--_timeline-scope: --scrollerX, --scrollerY;--_viewport_scroll-timeline: --scrollerX x, --scrollerY y}[orientation=vertical][_nghost-%COMP%]{--_viewport-overflow: hidden auto;--_scrollbar-content-width: unset}[orientation=horizontal][_nghost-%COMP%]{--_viewport-overflow: auto hidden}[disableInteraction=true][_nghost-%COMP%]{--_scrollbar-pointer-events: none}[isVerticallyScrollable=false][_nghost-%COMP%]{--_vertical-thumb-display: none}[isHorizontallyScrollable=false][_nghost-%COMP%]{--_horizontal-thumb-display: none}[dragging=x][_nghost-%COMP%], [dragging=y][_nghost-%COMP%]{--_viewport-user-select: none}[horizontalUsed=true][_nghost-%COMP%]{--thumb-x-length: max(calc(var(--viewport-width) * var(--track-x-length) / var(--content-width)), var(--scrollbar-thumb-min-size))}[verticalUsed=true][_nghost-%COMP%]{--thumb-y-length: max(calc(var(--viewport-height) * var(--track-y-length) / var(--content-height)), var(--scrollbar-thumb-min-size))}[dragging=x][_nghost-%COMP%]{--_track-x-thickness: calc(var(--scrollbar-hover-thickness) * 1px);--_thumb-x-color: var(--scrollbar-thumb-hover-color)}[dragging=y][_nghost-%COMP%]{--_track-y-thickness: calc(var(--scrollbar-hover-thickness) * 1px);--_thumb-y-color: var(--scrollbar-thumb-hover-color)}[mobile=true][_nghost-%COMP%]{--_viewport-overscroll-behavior: var(--scrollbar-mobile-overscroll-behavior)}"],changeDetection:0})}return r})(),Xe=(()=>{class r{static#t=this.\u0275fac=function(i){return new(i||r)};static#e=this.\u0275mod=t.$C({type:r});static#o=this.\u0275inj=t.G2t({})}return r})();var pe=X(93331),kt=X(38117);function ue(r,x){const o=/(\d+)|(\D+)/g,i=/\d+/,F=x.value,E=String(r.value).match(o),N=String(F).match(o);for(;E.length&&N.length;){const j=E.shift(),W=N.shift();if(i.test(j)||i.test(W)){if(!i.test(j))return-1;if(!i.test(W))return 1;if(j!==W)return Number(W)-Number(j)}else if(j!==W)return W.localeCompare(j)}return N.length-E.length}var xt=X(3366),it=X(19664),Ut=X(45794);new kt.Vy("ReqNetworkInterComponent");let Be=(()=>{class r{apiService;toastr;translate;stats$;constructor(o,i,l){this.apiService=o,this.toastr=i,this.translate=l}ngOnInit(){}reqInter(){this.apiService.getReqInter().subscribe(o=>{this.toastr.success(this.translate.instant("api.global.succes.scanlaunched.notify"))})}static \u0275fac=function(i){return new(i||r)(t.rXU(xt.G),t.rXU(Ut.tw),t.rXU(it.c$))};static \u0275cmp=t.VBU({type:r,selectors:[["app-req-network-inter"]],decls:16,vars:3,consts:[[1,"card"],["translate","network.inter.req.header",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-footer","d-flex","justify-content-end"],["translate","network.inter.req.button",1,"btn","btn-light",3,"click"]],template:function(i,l){1&i&&(t.j41(0,"div",0),t.EFF(1,"\n  "),t.nrm(2,"div",1),t.EFF(3,"\n  "),t.j41(4,"div",2),t.EFF(5,"\n    "),t.nrm(6,"p",3),t.nI1(7,"translate"),t.EFF(8,"\n  "),t.k0s(),t.EFF(9,"\n  "),t.j41(10,"div",4),t.EFF(11,"\n    "),t.j41(12,"button",5),t.bIt("click",function(){return l.reqInter()}),t.k0s(),t.EFF(13,"\n  "),t.k0s(),t.EFF(14,"\n"),t.k0s(),t.EFF(15,"\n")),2&i&&(t.R7$(6),t.Y8G("innerHTML",t.bMT(7,1,"network.inter.req.subtitle"),t.npT))},dependencies:[it.Mm,it.D9]})}return r})();var fe=X(28990),ge=X(21264);function We(r,x){if(1&r&&(t.j41(0,"div",4),t.EFF(1,"\n      "),t.nrm(2,"div",5),t.EFF(3,"\n      "),t.j41(4,"div",6),t.EFF(5,"\n        "),t.nrm(6,"p",7),t.nI1(7,"translate"),t.EFF(8,"\n        "),t.j41(9,"div",8),t.EFF(10,"\n          "),t.nrm(11,"div",9),t.EFF(12,"\n        "),t.k0s(),t.EFF(13,"\n      "),t.k0s(),t.EFF(14,"\n    "),t.k0s()),2&r){const o=t.XpG(2);t.R7$(6),t.Y8G("innerHTML",t.bMT(7,2,"network.stats.detail.visu.subtitle"),t.npT),t.R7$(5),t.Y8G("chart",o.chart)}}function Ue(r,x){if(1&r&&(t.j41(0,"div",2),t.EFF(1,"\n    "),t.DNE(2,We,15,4,"div",3),t.EFF(3,"\n  "),t.k0s()),2&r){const o=t.XpG();t.R7$(2),t.Y8G("ngIf",o.chart)}}function Ve(r,x){if(1&r&&(t.j41(0,"div",4),t.EFF(1,"\n      "),t.nrm(2,"div",5),t.EFF(3,"\n      "),t.j41(4,"div",6),t.EFF(5,"\n        "),t.nrm(6,"p",7),t.nI1(7,"translate"),t.EFF(8,"\n        "),t.j41(9,"div",8),t.EFF(10,"\n          "),t.nrm(11,"div",10),t.EFF(12,"\n        "),t.k0s(),t.EFF(13,"\n      "),t.k0s(),t.EFF(14,"\n    "),t.k0s()),2&r){const o=t.XpG();t.R7$(6),t.Y8G("innerHTML",t.bMT(7,2,"network.stats.detail.visu.subtitle"),t.npT),t.R7$(5),t.Y8G("chart",o.chart2)}}new kt.Vy("DetailTopologyComponent");let Ge=(()=>{class r extends fe.U{apiService;translate;timeStamp;chart;chart2;devices$;totalTx;totalFail;plugin;constructor(o,i){super(),this.apiService=o,this.translate=i}ngOnInit(){this.devices$=this.apiService.getDevices(),setTimeout(()=>{this.plugin=JSON.parse(sessionStorage.getItem("plugin"))},500)}ngOnChanges(o){o.timeStamp.currentValue!==o.timeStamp.previousValue&&this.apiService.getNwkStatsByTimeStamp(this.timeStamp).subscribe(i=>{this.createChart(i),this.createChart2(i)})}createChart(o){const i=[],l=[],F=[],E=[];o.forEach(W=>{const yt=W.Channels;yt.sort((lt,wt)=>Number(lt.Channel)-Number(wt.Channel)),W.Channels=yt}),o[0].Channels.forEach(W=>{l.push(W.Channel)}),o.forEach(W=>{const yt=[];let lt=0;W.Channels.forEach(wt=>{yt.push(wt.Level),E[lt]=E[lt]?Number(E[lt])+Number(wt.Level):Number(wt.Level),lt++}),i.push({name:W.ZDeviceName?W.ZDeviceName:W._NwkId,data:yt})}),E.forEach(W=>{W/=o.length,W=Number(W).toFixed(2),F.push(Number(W))});const N=i;N.push({name:"Average",data:F,type:"spline",marker:{lineWidth:2,lineColor:ge.getOptions().colors[3],fillColor:"white"}});const j=new et.t1({chart:{type:"column",height:"20%"},title:{text:this.translate.instant("network.stats.detail.visu.chart.title")},xAxis:{categories:l},yAxis:{title:{text:this.translate.instant("network.stats.detail.visu.chart.y-axis")}},credits:{enabled:!1},series:N});this.chart=j,this.subs.add(j.ref$.subscribe())}createChart2(o){const i=[],l=[];o.forEach(E=>{const N=E.Channels;N.sort((j,W)=>Number(j.Channel)-Number(W.Channel)),E.Channels=N}),o[0].Channels.forEach(E=>{l.push(E.Channel)}),o.forEach(E=>{const N=[];E.Channels.forEach(j=>{N.push(j.Level)}),i.push({name:E.ZDeviceName?E.ZDeviceName:E._NwkId,data:N,pointPlacement:"on"})});const F=new et.t1({chart:{height:"90%",polar:!0,type:"line"},pane:{},title:{text:this.translate.instant("network.stats.detail.visu.chart.title")},xAxis:{categories:l,tickmarkPlacement:"on",lineWidth:0},yAxis:{gridLineInterpolation:"polygon",lineWidth:0,min:0},tooltip:{shared:!0,pointFormat:'<span style="color:{series.color}">{series.name}: <b>{point.y:,.0f}</b><br/>'},legend:{align:"left",verticalAlign:"bottom"},credits:{enabled:!1},series:i,responsive:{rules:[{condition:{maxWidth:600},chartOptions:{legend:{align:"center",verticalAlign:"bottom"},pane:{size:"80%"}}}]}});this.chart2=F,this.subs.add(F.ref$.subscribe())}static \u0275fac=function(i){return new(i||r)(t.rXU(xt.G),t.rXU(it.c$))};static \u0275cmp=t.VBU({type:r,selectors:[["app-detail-nwk-stat"]],inputs:{timeStamp:"timeStamp"},features:[t.Vt3,t.OA$],decls:10,vars:2,consts:[[1,"row","row-cols-1","row-cols-md-2","g-4","mt-1"],["class","col",4,"ngIf"],[1,"col"],["class","card",4,"ngIf"],[1,"card"],["translate","network.stats.detail.visu.header",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-text"],[1,"text-center",3,"chart"],[3,"chart"]],template:function(i,l){1&i&&(t.j41(0,"div",0),t.EFF(1,"\n  "),t.DNE(2,Ue,4,1,"div",1),t.EFF(3,"\n  "),t.j41(4,"div",2),t.EFF(5,"\n    "),t.DNE(6,Ve,15,4,"div",3),t.EFF(7,"\n  "),t.k0s(),t.EFF(8,"\n"),t.k0s(),t.EFF(9,"\n")),2&i&&(t.R7$(2),t.Y8G("ngIf",!(null!=l.plugin&&l.plugin.Zigpy)),t.R7$(4),t.Y8G("ngIf",l.chart2))},dependencies:[y.bT,it.Mm,et.S6,it.D9]})}return r})();new kt.Vy("ReqNetworkInterComponent");let $e=(()=>{class r{apiService;toastr;translate;stats$;constructor(o,i,l){this.apiService=o,this.toastr=i,this.translate=l}ngOnInit(){}reqFull(){this.apiService.getNwkFull().subscribe(o=>{this.toastr.success(this.translate.instant("api.global.succes.scanlaunched.notify"))})}static \u0275fac=function(i){return new(i||r)(t.rXU(xt.G),t.rXU(Ut.tw),t.rXU(it.c$))};static \u0275cmp=t.VBU({type:r,selectors:[["app-req-network-full"]],decls:16,vars:3,consts:[[1,"card"],["translate","network.full.req.header",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-footer","d-flex","justify-content-end"],["translate","network.full.req.button",1,"btn","btn-light",3,"click"]],template:function(i,l){1&i&&(t.j41(0,"div",0),t.EFF(1,"\n  "),t.nrm(2,"div",1),t.EFF(3,"\n  "),t.j41(4,"div",2),t.EFF(5,"\n    "),t.nrm(6,"p",3),t.nI1(7,"translate"),t.EFF(8,"\n  "),t.k0s(),t.EFF(9,"\n  "),t.j41(10,"div",4),t.EFF(11,"\n    "),t.j41(12,"button",5),t.bIt("click",function(){return l.reqFull()}),t.k0s(),t.EFF(13,"\n  "),t.k0s(),t.EFF(14,"\n"),t.k0s(),t.EFF(15,"\n")),2&i&&(t.R7$(6),t.Y8G("innerHTML",t.bMT(7,1,"network.full.req.subtitle"),t.npT))},dependencies:[it.Mm,it.D9]})}return r})();function He(r,x){if(1&r){const o=t.RV6();t.j41(0,"span",14),t.EFF(1,"\n                    "),t.j41(2,"div",15),t.EFF(3,"\n                      "),t.j41(4,"button",16),t.bIt("click",function(){const l=t.eBV(o).$implicit,F=t.XpG(2);return t.Njj(F.nwkStatByDate(l.value))}),t.EFF(5),t.nI1(6,"date"),t.k0s(),t.EFF(7,"\n                    "),t.k0s(),t.EFF(8,"\n                    "),t.j41(9,"div",15),t.EFF(10,"\n                      "),t.j41(11,"button",17),t.nI1(12,"translate"),t.bIt("click",function(){const l=t.eBV(o).$implicit,F=t.XpG(2);return t.Njj(F.deleteNwkStatByDate(l.value))}),t.EFF(13,"\n                        "),t.nrm(14,"i",18),t.EFF(15,"\n                      "),t.k0s(),t.EFF(16,"\n                    "),t.k0s(),t.EFF(17,"\n                  "),t.k0s()}if(2&r){const o=x.$implicit;t.R7$(5),t.SpI("\n                        ",t.i5U(6,2,1e3*o.value,"dd/MM/yyyy HH:mm:ss"),"\n                      "),t.R7$(6),t.FS9("title",t.bMT(12,5,"network.stats.visu.delete.button"))}}function Qe(r,x){if(1&r&&(t.j41(0,"div",4),t.EFF(1,"\n      "),t.nrm(2,"div",5),t.EFF(3,"\n      "),t.j41(4,"div",6),t.EFF(5,"\n        "),t.nrm(6,"p",7),t.nI1(7,"translate"),t.EFF(8,"\n        "),t.j41(9,"div",8),t.EFF(10,"\n          "),t.j41(11,"div",9),t.EFF(12,"\n            "),t.j41(13,"div",10),t.EFF(14,"\n              "),t.j41(15,"ng-scrollbar",11),t.EFF(16,"\n                "),t.j41(17,"div",12),t.EFF(18,"\n                  "),t.DNE(19,He,18,7,"span",13),t.nI1(20,"keyvalue"),t.EFF(21,"\n                "),t.k0s(),t.EFF(22,"\n              "),t.k0s(),t.EFF(23,"\n            "),t.k0s(),t.EFF(24,"\n          "),t.k0s(),t.EFF(25,"\n        "),t.k0s(),t.EFF(26,"\n      "),t.k0s(),t.EFF(27,"\n    "),t.k0s()),2&r){const o=x.ngIf,i=t.XpG();t.R7$(6),t.Y8G("innerHTML",t.bMT(7,2,"network.stats.subtitle"),t.npT),t.R7$(13),t.Y8G("ngForOf",t.i5U(20,4,o,i.sortDesc))}}function Ke(r,x){1&r&&t.nrm(0,"app-req-network-full")}function Ze(r,x){if(1&r&&(t.j41(0,"div"),t.nrm(1,"app-detail-nwk-stat",19),t.k0s()),2&r){const o=t.XpG();t.R7$(),t.Y8G("timeStamp",o.timeStamp)}}new kt.Vy("NwkStatsComponent");let qe=(()=>{class r{apiService;cdr;stats$;listSubject$=new Gt.B;timeStamp;plugin;constructor(o,i){this.apiService=o,this.cdr=i}ngOnInit(){this.stats$=this.apiService.getNwkStats(),setTimeout(()=>{this.plugin=JSON.parse(sessionStorage.getItem("plugin"))},500)}sortDesc(o,i){return ue(o,i)}nwkStatByDate(o){this.timeStamp=o}deleteNwkStatByDate(o){this.apiService.deleteNwkStatsByTimeStamp(o).subscribe(i=>{this.stats$=this.apiService.getNwkStats(),this.cdr.detectChanges()})}static \u0275fac=function(i){return new(i||r)(t.rXU(xt.G),t.rXU(t.gRc))};static \u0275cmp=t.VBU({type:r,selectors:[["app-nwk-stats"]],decls:17,vars:5,consts:[[1,"row","row-cols-1","row-cols-xxl-5","row-cols-xl-4","row-cols-lg-3","row-cols-md-2","row-cols-sm-1","g-4"],[1,"col"],["class","card",4,"ngIf"],[4,"ngIf"],[1,"card"],["translate","network.stats.header",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-text"],[1,"vertical-container"],[1,"content-container"],[1,"scroll-container"],[1,"scrollable-content"],["class","row d-flex align-items-center",4,"ngFor","ngForOf"],[1,"row","d-flex","align-items-center"],[1,"col-sm"],[1,"btn","btn-light",3,"click"],[1,"btn","btn-light",3,"click","title"],[1,"fa","fa-trash"],[3,"timeStamp"]],template:function(i,l){1&i&&(t.j41(0,"div",0),t.EFF(1,"\n  "),t.j41(2,"div",1),t.EFF(3,"\n    "),t.DNE(4,Qe,28,7,"div",2),t.nI1(5,"async"),t.EFF(6,"\n  "),t.k0s(),t.EFF(7,"\n  "),t.j41(8,"div",1),t.nrm(9,"app-req-network-inter"),t.k0s(),t.EFF(10,"\n  "),t.j41(11,"div",1),t.DNE(12,Ke,1,0,"app-req-network-full",3),t.k0s(),t.EFF(13,"\n"),t.k0s(),t.EFF(14,"\n"),t.DNE(15,Ze,2,1,"div",3),t.EFF(16,"\n")),2&i&&(t.R7$(4),t.Y8G("ngIf",t.bMT(5,3,l.stats$)),t.R7$(8),t.Y8G("ngIf",!(null!=l.plugin&&l.plugin.Zigpy)),t.R7$(3),t.Y8G("ngIf",l.timeStamp))},dependencies:[y.Sq,y.bT,it.Mm,de,Be,Ge,$e,y.Jj,y.vh,y.lG,it.D9],styles:[".content-container[_ngcontent-%COMP%]{position:relative;overflow:auto;height:150px;min-height:0}.content-container[_ngcontent-%COMP%]{position:relative;min-height:0}.vertical-container[_ngcontent-%COMP%], .horizontal-container[_ngcontent-%COMP%]{min-height:0!important}.scroll-container[_ngcontent-%COMP%]{position:relative}.scrollable-content[_ngcontent-%COMP%]{padding:16px;margin:0}"]})}return r})();var Et=X(89417),me=X(97013),Vt=X(46247),Je=X(5779);const to=r=>({deviceSelected:r}),eo=()=>[10,25,50];function oo(r,x){if(1&r&&(t.j41(0,"div",4),t.EFF(1,"\n      "),t.nrm(2,"div",5),t.EFF(3,"\n      "),t.j41(4,"div",6),t.EFF(5,"\n        "),t.nrm(6,"p",7),t.nI1(7,"translate"),t.EFF(8,"\n        "),t.nrm(9,"div",8),t.EFF(10,"\n      "),t.k0s(),t.EFF(11,"\n    "),t.k0s()),2&r){const o=t.XpG();t.R7$(6),t.Y8G("innerHTML",t.bMT(7,2,"network.topo.visu.subtitle"),t.npT),t.R7$(3),t.Y8G("chart",o.chart1)}}function ro(r,x){if(1&r&&(t.EFF(0,"\n                  "),t.j41(1,"span"),t.EFF(2,"\n                    "),t.j41(3,"b"),t.EFF(4,"Name"),t.k0s(),t.EFF(5),t.j41(6,"b"),t.EFF(7,"IEEE"),t.k0s(),t.EFF(8),t.j41(9,"b"),t.EFF(10,"Model"),t.k0s(),t.EFF(11),t.k0s(),t.EFF(12,"\n                ")),2&r){const o=x.item;t.R7$(5),t.SpI(" : ",o.ZDeviceName," - "),t.R7$(3),t.SpI(" : ",o.IEEE," - "),t.R7$(3),t.SpI(" :\n                    ",o.Model,"\n                  ")}}function io(r,x){1&r&&(t.EFF(0,"\n                        "),t.j41(1,"tr"),t.EFF(2,"\n                          "),t.j41(3,"th",22),t.EFF(4),t.nI1(5,"translate"),t.nrm(6,"p-sortIcon",23),t.EFF(7,"\n                          "),t.k0s(),t.EFF(8,"\n                          "),t.j41(9,"th",24),t.EFF(10),t.nI1(11,"translate"),t.nrm(12,"p-sortIcon",25),t.EFF(13,"\n                          "),t.k0s(),t.EFF(14,"\n                          "),t.j41(15,"th",26),t.EFF(16),t.nI1(17,"translate"),t.nrm(18,"p-sortIcon",27),t.EFF(19,"\n                          "),t.k0s(),t.EFF(20,"\n                          "),t.j41(21,"th",28),t.EFF(22),t.nI1(23,"translate"),t.nrm(24,"p-sortIcon",29),t.EFF(25,"\n                          "),t.k0s(),t.EFF(26,"\n                          "),t.j41(27,"th",30),t.EFF(28),t.nI1(29,"translate"),t.nrm(30,"p-sortIcon",31),t.EFF(31,"\n                          "),t.k0s(),t.EFF(32,"\n                          "),t.j41(33,"th",32),t.EFF(34),t.nI1(35,"translate"),t.nrm(36,"p-sortIcon",33),t.EFF(37,"\n                          "),t.k0s(),t.EFF(38,"\n                        "),t.k0s(),t.EFF(39,"\n                      ")),2&r&&(t.R7$(4),t.SpI("\n                            ",t.bMT(5,6,"network.topo.visu.network.relation.to"),""),t.R7$(6),t.SpI("\n                            ",t.bMT(11,8,"network.topo.visu.network.relation.weight"),""),t.R7$(6),t.SpI("\n                            ",t.bMT(17,10,"network.topo.visu.network.relation.model"),""),t.R7$(6),t.SpI("\n                            ",t.bMT(23,12,"network.topo.visu.network.relation.status"),""),t.R7$(6),t.SpI("\n                            ",t.bMT(29,14,"network.topo.visu.network.relation.health"),""),t.R7$(6),t.SpI("\n                            ",t.bMT(35,16,"network.topo.visu.network.relation.battery"),""))}function so(r,x){if(1&r&&(t.EFF(0,"\n                        "),t.j41(1,"tr"),t.EFF(2,"\n                          "),t.j41(3,"td"),t.EFF(4),t.k0s(),t.EFF(5,"\n                          "),t.j41(6,"td"),t.EFF(7),t.k0s(),t.EFF(8,"\n                          "),t.j41(9,"td"),t.EFF(10),t.k0s(),t.EFF(11,"\n                          "),t.j41(12,"td"),t.EFF(13),t.k0s(),t.EFF(14,"\n                          "),t.j41(15,"td"),t.EFF(16),t.k0s(),t.EFF(17,"\n                          "),t.j41(18,"td"),t.EFF(19),t.k0s(),t.EFF(20,"\n                        "),t.k0s()),2&r){const o=x.$implicit;t.R7$(4),t.SpI("\n                            ",o.to,"\n                          "),t.R7$(3),t.SpI("\n                            ",o.weight,"\n                          "),t.R7$(3),t.SpI("\n                            ",o.Model,"\n                          "),t.R7$(3),t.SpI("\n                            ",o.Status,"\n                          "),t.R7$(3),t.SpI("\n                            ",o.Health,"\n                          "),t.R7$(3),t.SpI("\n                            ",o.Battery,"\n                          ")}}function no(r,x){if(1&r&&(t.j41(0,"div",17),t.EFF(1,"\n            "),t.j41(2,"div",2),t.EFF(3,"\n              "),t.j41(4,"div",4),t.EFF(5,"\n                "),t.nrm(6,"div",18),t.EFF(7,"\n                "),t.j41(8,"div",6),t.EFF(9,"\n                  "),t.nrm(10,"p",7),t.nI1(11,"translate"),t.EFF(12,"\n                  "),t.j41(13,"div",10),t.EFF(14,"\n                    "),t.j41(15,"p-table",19,0),t.nI1(17,"translate"),t.EFF(18,"\n                      "),t.DNE(19,io,40,18,"ng-template",20),t.EFF(20,"\n                      "),t.DNE(21,so,21,6,"ng-template",21),t.EFF(22,"\n                    "),t.k0s(),t.EFF(23,"\n                  "),t.k0s(),t.EFF(24,"\n                "),t.k0s(),t.EFF(25,"\n              "),t.k0s(),t.EFF(26,"\n            "),t.k0s(),t.EFF(27,"\n          "),t.k0s()),2&r){const o=t.XpG(2);t.R7$(6),t.Y8G("translateParams",t.eq3(14,to,o.selectedPoint.name)),t.R7$(4),t.Y8G("innerHTML",t.bMT(11,10,"network.topo.visu.network.relation.subtitle"),t.npT),t.R7$(5),t.FS9("currentPageReportTemplate",t.bMT(17,12,"TOTAL")),t.Y8G("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",t.lJ4(16,eo))("value",o.relationsSelected)("rows",10)("paginator",!0)("scrollable",!0)}}function ao(r,x){if(1&r&&(t.j41(0,"div",4),t.EFF(1,"\n      "),t.nrm(2,"div",9),t.EFF(3,"\n      "),t.j41(4,"div",6),t.EFF(5,"\n        "),t.nrm(6,"p",7),t.nI1(7,"translate"),t.EFF(8,"\n        "),t.j41(9,"div",10),t.EFF(10,"\n          "),t.j41(11,"div"),t.EFF(12,"\n            "),t.j41(13,"form",11),t.EFF(14,"\n              "),t.nrm(15,"input",12),t.EFF(16,"\n              "),t.j41(17,"ng-select",13),t.nI1(18,"translate"),t.EFF(19,"\n                "),t.DNE(20,ro,13,3,"ng-template",14),t.EFF(21,"\n              "),t.k0s(),t.EFF(22,"\n            "),t.k0s(),t.EFF(23,"\n          "),t.k0s(),t.EFF(24,"\n          "),t.nrm(25,"div",15),t.EFF(26,"\n          "),t.DNE(27,no,28,17,"div",16),t.EFF(28,"\n        "),t.k0s(),t.EFF(29,"\n      "),t.k0s(),t.EFF(30,"\n    "),t.k0s()),2&r){const o=t.XpG();t.R7$(6),t.Y8G("innerHTML",t.bMT(7,9,"network.topo.visu.network.subtitle"),t.npT),t.R7$(7),t.Y8G("formGroup",o.form),t.R7$(4),t.FS9("placeholder",t.bMT(18,11,"network.topo.visu.network.filter")),t.Y8G("items",o.devices)("multiple",!1)("closeOnSelect",!0)("searchable",!0),t.R7$(8),t.Y8G("chart",o.chart2),t.R7$(2),t.Y8G("ngIf",o.relationsSelected)}}new kt.Vy("DetailTopologyComponent");let lo=(()=>{class r extends fe.U{apiService;translate;formBuilder;timeStamp;chart1;chart2;form;datas;devices;showDetail=!1;device;data;relationsSelected;selectedPoint;constructor(o,i,l){super(),this.apiService=o,this.translate=i,this.formBuilder=l}ngOnInit(){this.form=this.formBuilder.group({nodeToFilter:[null],detail:[null]}),this.apiService.getZDeviceName().subscribe(o=>{this.devices=o,this.devices.unshift({IEEE:"",MacCapa:[""],Model:"",Health:"",Status:"",WidgetList:[""],ZDeviceName:"Zigbee Coordinator",_NwkId:""})}),this.subs.sink=this.form.get("nodeToFilter").valueChanges.subscribe(o=>{this.createChart2(o)}),this.subs.add(this.form.get("detail").valueChanges.subscribe(o=>{let i=[];this.selectedPoint=this.chart2.ref.hoverPoint,this.selectedPoint.linksFrom.map(E=>E.options).map(E=>{const N=this.devices.find(j=>j.ZDeviceName===E.to||j._NwkId===E.to);i.push({to:E.to,from:E.from,weight:E.weight,Model:N.Model,Status:N.Status,Health:N.Health,Battery:N.Battery})}),this.selectedPoint.linksTo.map(E=>E.options).map(E=>{if(!i.some(N=>N.to===E.from)){const N=this.devices.find(j=>j.ZDeviceName===E.from||j._NwkId===E.from);i.push({to:E.from,from:E.from,weight:N.LQI,Model:N.Model,Status:N.Status,Health:N.Health,Battery:N.Battery})}}),this.relationsSelected=i}))}ngOnChanges(o){o.timeStamp.currentValue!==o.timeStamp.previousValue&&this.apiService.getTopologieByTimeStamp(this.timeStamp).subscribe(i=>{this.datas=i,this.createChart1(),this.createChart2()})}createChart1(){const o=this.datas.map(l=>{const F=Object.values(l);return F.splice(1,1),F}),i=new et.t1({chart:{type:"dependencywheel",height:"80%"},title:{text:this.translate.instant("network.topo.device.visu.chart.title")},credits:{enabled:!1},series:[{type:void 0,keys:["to","from","weight"],data:o}]});this.chart1=i}createChart2(o){let l=this.datas.map(N=>{const j=Object.values(N);return j.splice(1,1),j});o&&(l=l.filter(N=>N[0].toLowerCase()===o.toLowerCase()||N[1].toLowerCase()===o.toLowerCase()));const F=[{nodes:void 0,type:void 0,keys:["to","from","weight"],dataLabels:{enabled:!0,linkFormat:""},data:l}];this.test(F);const E=new et.t1({chart:{type:"networkgraph",height:"80%"},title:{text:this.translate.instant("network.topo.device.visu.network.chart.title")},credits:{enabled:!1},plotOptions:{networkgraph:{keys:["to","from","weight"],layoutAlgorithm:{enableSimulation:!0,integration:"verlet"}},series:{point:{events:{click:function(){document.getElementById("detail").dispatchEvent(new Event("input",{bubbles:!0}))}}}}},series:F});this.chart2=E}test(o){const i=ge.getOptions().colors;let l=0;const F={"Zigbee Coordinator":{id:"Zigbee Coordinator",marker:{radius:20}}},E=this.datas.filter(j=>"Zigbee Coordinator"===j.Child);let N=[];E.forEach(j=>{F[j.Father]={id:j.Father,marker:{radius:10},color:i[l++]},N.push(j.Father)}),this.colorNode(F,N),o[0].nodes=Object.keys(F).map(function(j){return F[j]})}colorNode(o,i){i.forEach(l=>{let F=[];this.datas.filter(N=>N.Child===l).forEach(N=>{o[N.Father]||(o[N.Father]={id:N.Father,color:o[N.Child].color},F.push(N.Father))}),F.length>0&&this.colorNode(o,F)})}static \u0275fac=function(i){return new(i||r)(t.rXU(xt.G),t.rXU(it.c$),t.rXU(Et.ok))};static \u0275cmp=t.VBU({type:r,selectors:[["app-detail-topology"]],inputs:{timeStamp:"timeStamp"},features:[t.Vt3,t.OA$],decls:13,vars:2,consts:[["dt1",""],[1,"row","row-cols-1","row-cols-lg-2","g-4","mt-1"],[1,"col"],["class","card",4,"ngIf"],[1,"card"],["translate","network.topo.visu.header",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-text",3,"chart"],["translate","network.topo.visu.network.header",1,"card-header","fw-bold"],[1,"card-text"],[3,"formGroup"],["type","hidden","formControlName","detail","id","detail"],["bindLabel","ZDeviceName","bindValue","ZDeviceName","appendTo","body","formControlName","nodeToFilter",3,"items","multiple","closeOnSelect","searchable","placeholder"],["ng-option-tmp",""],[3,"chart"],["class","row",4,"ngIf"],[1,"row"],["translate","network.topo.visu.network.relation.header",1,"card-header","fw-bold",3,"translateParams"],["styleClass","p-datatable-sm","responsiveLayout","scroll",3,"rowHover","showCurrentPageReport","currentPageReportTemplate","rowsPerPageOptions","value","rows","paginator","scrollable"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","to"],["field","to"],["pSortableColumn","weight"],["field","weight"],["pSortableColumn","Model",2,"width","8rem"],["field","Model"],["pSortableColumn","Status",2,"width","10rem"],["field","Status"],["pSortableColumn","Health"],["field","Health"],["pSortableColumn","Battery"],["field","Battery"]],template:function(i,l){1&i&&(t.j41(0,"div",1),t.EFF(1,"\n  "),t.j41(2,"div",2),t.EFF(3,"\n    "),t.DNE(4,oo,12,4,"div",3),t.EFF(5,"\n  "),t.k0s(),t.EFF(6,"\n  "),t.j41(7,"div",2),t.EFF(8,"\n    "),t.DNE(9,ao,31,13,"div",3),t.EFF(10,"\n  "),t.k0s(),t.EFF(11,"\n"),t.k0s(),t.EFF(12,"\n")),2&i&&(t.R7$(4),t.Y8G("ngIf",l.chart1),t.R7$(5),t.Y8G("ngIf",l.chart2))},dependencies:[y.bT,Et.qT,Et.me,Et.BC,Et.cb,Et.j4,Et.JD,me.vr,me.Uq,it.Mm,Vt.XI,Je.Ei,Vt.Tg,Vt.yc,et.S6,it.D9]})}return r})();new kt.Vy("ReqTopologyComponent");let co=(()=>{class r{apiService;toastr;translate;stats$;constructor(o,i,l){this.apiService=o,this.toastr=i,this.translate=l}ngOnInit(){}reqTopology(){this.apiService.getReqTopologie().subscribe(o=>{this.toastr.success(this.translate.instant("api.global.succes.scanlaunched.notify"))})}static \u0275fac=function(i){return new(i||r)(t.rXU(xt.G),t.rXU(Ut.tw),t.rXU(it.c$))};static \u0275cmp=t.VBU({type:r,selectors:[["app-req-topology"]],decls:16,vars:3,consts:[[1,"card"],["translate","network.topology.req.header",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-footer","d-flex","justify-content-end"],["translate","network.topology.req.button",1,"btn","btn-light",3,"click"]],template:function(i,l){1&i&&(t.j41(0,"div",0),t.EFF(1,"\n  "),t.nrm(2,"div",1),t.EFF(3,"\n  "),t.j41(4,"div",2),t.EFF(5,"\n    "),t.nrm(6,"p",3),t.nI1(7,"translate"),t.EFF(8,"\n  "),t.k0s(),t.EFF(9,"\n  "),t.j41(10,"div",4),t.EFF(11,"\n    "),t.j41(12,"button",5),t.bIt("click",function(){return l.reqTopology()}),t.k0s(),t.EFF(13,"\n  "),t.k0s(),t.EFF(14,"\n"),t.k0s(),t.EFF(15,"\n")),2&i&&(t.R7$(6),t.Y8G("innerHTML",t.bMT(7,1,"network.topology.req.subtitle"),t.npT))},dependencies:[it.Mm,it.D9]})}return r})();function ho(r,x){if(1&r){const o=t.RV6();t.j41(0,"span",14),t.EFF(1,"\n                    "),t.j41(2,"button",15),t.bIt("click",function(){const l=t.eBV(o).$implicit,F=t.XpG(2);return t.Njj(F.topologyByDate(l.value))}),t.EFF(3),t.nI1(4,"date"),t.k0s(),t.EFF(5,"\n                    "),t.j41(6,"button",16),t.nI1(7,"translate"),t.bIt("click",function(){const l=t.eBV(o).$implicit,F=t.XpG(2);return t.Njj(F.deleteTopologyByDate(l.value))}),t.EFF(8,"\n                      "),t.nrm(9,"i",17),t.EFF(10,"\n                    "),t.k0s(),t.EFF(11,"\n                  "),t.k0s()}if(2&r){const o=x.$implicit;t.R7$(3),t.SpI("\n                      ",t.i5U(4,2,1e3*o.value,"dd/MM/yyyy HH:mm:ss"),"\n                    "),t.R7$(3),t.FS9("title",t.bMT(7,5,"network.topo.visu.delete.button"))}}function po(r,x){if(1&r&&(t.j41(0,"div",4),t.EFF(1,"\n      "),t.nrm(2,"div",5),t.EFF(3,"\n      "),t.j41(4,"div",6),t.EFF(5,"\n        "),t.nrm(6,"p",7),t.nI1(7,"translate"),t.EFF(8,"\n        "),t.j41(9,"div",8),t.EFF(10,"\n          "),t.j41(11,"div",9),t.EFF(12,"\n            "),t.j41(13,"div",10),t.EFF(14,"\n              "),t.j41(15,"ng-scrollbar",11),t.EFF(16,"\n                "),t.j41(17,"div",12),t.EFF(18,"\n                  "),t.DNE(19,ho,12,7,"span",13),t.nI1(20,"keyvalue"),t.EFF(21,"\n                "),t.k0s(),t.EFF(22,"\n              "),t.k0s(),t.EFF(23,"\n            "),t.k0s(),t.EFF(24,"\n          "),t.k0s(),t.EFF(25,"\n        "),t.k0s(),t.EFF(26,"\n      "),t.k0s(),t.EFF(27,"\n    "),t.k0s()),2&r){const o=x.ngIf,i=t.XpG();t.R7$(6),t.Y8G("innerHTML",t.bMT(7,2,"network.topo.subtitle"),t.npT),t.R7$(13),t.Y8G("ngForOf",t.i5U(20,4,o,i.sortDesc))}}function uo(r,x){if(1&r&&(t.j41(0,"div"),t.nrm(1,"app-detail-topology",18),t.k0s()),2&r){const o=t.XpG();t.R7$(),t.Y8G("timeStamp",o.timeStamp)}}new kt.Vy("TopologyComponent");const fo=[{path:"topology",component:(()=>{class r{apiService;cdr;timeStamp;topologies$;constructor(o,i){this.apiService=o,this.cdr=i}ngOnInit(){this.topologies$=this.apiService.getTopologie()}sortDesc(o,i){return ue(o,i)}topologyByDate(o){this.timeStamp=o}deleteTopologyByDate(o){this.apiService.deleteTopologieByTimeStamp(o).subscribe(i=>{this.topologies$=this.apiService.getTopologie(),this.cdr.detectChanges()})}static \u0275fac=function(i){return new(i||r)(t.rXU(xt.G),t.rXU(t.gRc))};static \u0275cmp=t.VBU({type:r,selectors:[["app-topology"]],decls:14,vars:4,consts:[[1,"row","row-cols-1","row-cols-xxl-5","row-cols-xl-4","row-cols-lg-3","row-cols-md-2","row-cols-sm-1","g-4"],[1,"col"],["class","card",4,"ngIf"],[4,"ngIf"],[1,"card"],["translate","network.topo.header",1,"card-header","fw-bold"],[1,"card-body"],[1,"card-text",3,"innerHTML"],[1,"card-text"],[1,"vertical-container"],[1,"content-container"],[1,"scroll-container"],[1,"scrollable-content"],["class","d-sm-flex gap-2",4,"ngFor","ngForOf"],[1,"d-sm-flex","gap-2"],[1,"btn","btn-light",3,"click"],[1,"btn","btn-light",3,"click","title"],[1,"fa","fa-trash"],[3,"timeStamp"]],template:function(i,l){1&i&&(t.j41(0,"div",0),t.EFF(1,"\n  "),t.j41(2,"div",1),t.EFF(3,"\n    "),t.DNE(4,po,28,7,"div",2),t.nI1(5,"async"),t.EFF(6,"\n  "),t.k0s(),t.EFF(7,"\n  "),t.j41(8,"div"),t.nrm(9,"app-req-topology"),t.k0s(),t.EFF(10,"\n"),t.k0s(),t.EFF(11,"\n"),t.DNE(12,uo,2,1,"div",3),t.EFF(13,"\n")),2&i&&(t.R7$(4),t.Y8G("ngIf",t.bMT(5,2,l.topologies$)),t.R7$(8),t.Y8G("ngIf",l.timeStamp))},dependencies:[y.Sq,y.bT,it.Mm,de,lo,co,y.Jj,y.vh,y.lG,it.D9],styles:[".content-container[_ngcontent-%COMP%]{position:relative;overflow:auto;height:150px;min-height:0}.content-container[_ngcontent-%COMP%]{position:relative;min-height:0}.vertical-container[_ngcontent-%COMP%], .horizontal-container[_ngcontent-%COMP%]{min-height:0!important}.scroll-container[_ngcontent-%COMP%]{position:relative}.scrollable-content[_ngcontent-%COMP%]{padding:16px;margin:0}"]})}return r})(),data:{title:(0,kt.o6)("network.topo")}},{path:"energy-level",component:qe,data:{title:(0,kt.o6)("network.energy")}}];let go=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=t.$C({type:r});static \u0275inj=t.G2t({imports:[pe.iI.forChild(fo),pe.iI]})}return r})(),mo=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=t.$C({type:r});static \u0275inj=t.G2t({providers:[{provide:et.SV,useFactory:()=>[Q,Z,L,k,O]}],imports:[go,dt.G,et.Fr,Xe]})}return r})()},69820:(nt,_t,X)=>{var dt,et,Q;Q=function(Q){"use strict";var k=Q?Q._modules:{};function Z(O,L,M,t){O.hasOwnProperty(L)||(O[L]=t.apply(null,M),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:L,module:O[L]}})))}Z(k,"Series/DependencyWheel/DependencyWheelPoint.js",[k["Core/Series/SeriesRegistry.js"],k["Core/Utilities.js"]],function(O,L){const{sankey:{prototype:{pointClass:M}}}=O.seriesTypes,{pInt:t,wrap:D}=L;return class T extends M{getDataLabelPath(P){const c=this,h=c.series.chart.renderer,m=c.shapeArgs,_=c.angle<0||c.angle>Math.PI,f=m.start||0,S=m.end||0;return c.dataLabelPath?(c.dataLabelPath=c.dataLabelPath.destroy(),delete c.dataLabelPath):D(P,"destroy",function(n){return c.dataLabelPath&&(c.dataLabelPath=c.dataLabelPath.destroy()),n.call(this)}),c.dataLabelPath=h.arc({open:!0,longArc:Math.abs(Math.abs(f)-Math.abs(S))<Math.PI?0:1}).attr({x:m.x,y:m.y,r:(m.r||0)+t(P.options?.distance||0),start:_?f:S,end:_?S:f,clockwise:+_}).add(h.defs),c.dataLabelPath}isValid(){return!0}}}),Z(k,"Series/DependencyWheel/DependencyWheelSeriesDefaults.js",[],function(){return{center:[null,null],curveFactor:.6,startAngle:0,dataLabels:{textPath:{enabled:!1,attributes:{dy:5}}}}}),Z(k,"Series/DependencyWheel/DependencyWheelSeries.js",[k["Core/Animation/AnimationUtilities.js"],k["Series/DependencyWheel/DependencyWheelPoint.js"],k["Series/DependencyWheel/DependencyWheelSeriesDefaults.js"],k["Core/Globals.js"],k["Series/Sankey/SankeyColumnComposition.js"],k["Core/Series/SeriesRegistry.js"],k["Core/Utilities.js"]],function(O,L,M,t,D,T,R){const{animObject:P}=O,{deg2rad:c}=t,{pie:h,sankey:m}=T.seriesTypes,{extend:_,merge:f,relativeLength:S}=R;class n extends m{animate(d){const a=this;if(!d){const b=P(a.options.animation).duration/2/a.nodes.length;let p=0;for(const v of a.nodes){const I=v.graphic;I&&(I.attr({opacity:0}),setTimeout(()=>{v.graphic&&v.graphic.animate({opacity:1},{duration:b})},b*p++))}for(const v of a.points){const I=v.graphic;!v.isNode&&I&&I.attr({opacity:0}).animate({opacity:1},a.options.animation)}}}createNode(d){const a=super.createNode(d);return a.getSum=()=>a.linksFrom.concat(a.linksTo).reduce((g,b)=>g+b.weight,0),a.offset=g=>{const b=e=>e.fromNode===a?e.toNode:e.fromNode;let I,p=0,v=a.linksFrom.concat(a.linksTo);v.sort((e,u)=>b(e).index-b(u).index);for(let e=0;e<v.length;e++)if(b(v[e]).index>a.index){v=v.slice(0,e).reverse().concat(v.slice(e).reverse()),I=!0;break}I||v.reverse();for(let e=0;e<v.length;e++){if(v[e]===g)return p;p+=v[e].weight}},a}createNodeColumns(){const d=this,a=[D.compose([],d)];for(const g of d.nodes)g.column=0,a[0].push(g);return a}getNodePadding(){return this.options.nodePadding/Math.PI}translate(){const d=this,a=d.options,g=2*Math.PI/(d.chart.plotHeight+d.getNodePadding()),b=d.getCenter(),p=(a.startAngle-90)*c,v=a.borderRadius,I="object"==typeof v?v.radius:v;super.translate();for(const e of this.nodeColumns[0])if(e.sum){const u=e.shapeArgs,w=b[0],C=b[1],y=b[2]/2,A=y-S(("auto"===a.nodeWidth?20:a.nodeWidth)||0,y),G=p+g*(u.y||0),K=p+g*((u.y||0)+(u.height||0));e.angle=G+(K-G)/2,e.shapeType="arc",e.shapeArgs={x:w,y:C,r:y,innerR:A,start:G,end:K,borderRadius:I},e.dlBox={x:w+Math.cos((G+K)/2)*(y+A)/2,y:C+Math.sin((G+K)/2)*(y+A)/2,width:1,height:1};for(const q of e.linksFrom)if(q.linkBase){let $,B;const J=q.linkBase.map((z,U)=>{const V=g*z,H=Math.cos(p+V)*(A+1),rt=Math.sin(p+V)*(A+1);return $=a.curveFactor||0,B=Math.abs(q.linkBase[3-U]*g-V),B>Math.PI&&(B=2*Math.PI-B),B*=A,B<A&&($*=B/A),{x:w+H,y:C+rt,cpX:w+(1-$)*H,cpY:C+(1-$)*rt}});q.shapeArgs={d:[["M",J[0].x,J[0].y],["A",A,A,0,0,1,J[1].x,J[1].y],["C",J[1].cpX,J[1].cpY,J[2].cpX,J[2].cpY,J[2].x,J[2].y],["A",A,A,0,0,1,J[3].x,J[3].y],["C",J[3].cpX,J[3].cpY,J[0].cpX,J[0].cpY,J[0].x,J[0].y]]}}}}}return n.defaultOptions=f(m.defaultOptions,M),_(n.prototype,{orderNodes:!1,getCenter:h.prototype.getCenter}),n.prototype.pointClass=L,T.registerSeriesType("dependencywheel",n),n}),Z(k,"masters/modules/dependency-wheel.src.js",[k["Core/Globals.js"]],function(O){return O})},nt.exports?(Q.default=Q,nt.exports=Q):(dt=[X(21264),X(95606)],void 0!==(et=function(k){return Q(k),Q.Highcharts=k,Q}.apply(_t,dt))&&(nt.exports=et))},2501:(nt,_t,X)=>{var dt,et,Q;Q=function(Q){"use strict";var k=Q?Q._modules:{};function Z(O,L,M,t){O.hasOwnProperty(L)||(O[L]=t.apply(null,M),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:L,module:O[L]}})))}Z(k,"Series/DragNodesComposition.js",[k["Core/Globals.js"],k["Core/Utilities.js"]],function(O,L){const{composed:M}=O,{addEvent:t,pushUnique:D}=L;function R(){const f=this;let S,n,s;f.container&&(S=t(f.container,"mousedown",d=>{const a=f.hoverPoint;a&&a.series&&a.series.hasDraggableNodes&&a.series.options.draggable&&(a.series.onMouseDown(a,d),n=t(f.container,"mousemove",g=>a&&a.series&&a.series.onMouseMove(a,g)),s=t(f.container.ownerDocument,"mouseup",g=>(n(),s(),a&&a.series&&a.series.onMouseUp(a,g))))})),t(f,"destroy",function(){S()})}return{compose:function T(f){D(M,"DragNodes")&&t(f,"load",R)},onMouseDown:function P(f,S){const n=this.chart.pointer?.normalize(S)||S;f.fixedPosition={chartX:n.chartX,chartY:n.chartY,plotX:f.plotX,plotY:f.plotY},f.inDragMode=!0},onMouseMove:function c(f,S){if(f.fixedPosition&&f.inDragMode){const s=this.chart,d=s.pointer?.normalize(S)||S,a=f.fixedPosition.chartX-d.chartX,g=f.fixedPosition.chartY-d.chartY,b=s.graphLayoutsLookup;let p,v;(Math.abs(a)>5||Math.abs(g)>5)&&(p=f.fixedPosition.plotX-a,v=f.fixedPosition.plotY-g,s.isInsidePlot(p,v)&&(f.plotX=p,f.plotY=v,f.hasDragged=!0,this.redrawHalo(f),b.forEach(I=>{I.restartSimulation()})))}},onMouseUp:function h(f){f.fixedPosition&&(f.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),f.inDragMode=f.hasDragged=!1,this.options.fixedDraggable||delete f.fixedPosition)},redrawHalo:function m(f){f&&this.halo&&this.halo.attr({d:f.haloPath(this.options.states.hover.halo.size)})}}}),Z(k,"Series/GraphLayoutComposition.js",[k["Core/Animation/AnimationUtilities.js"],k["Core/Globals.js"],k["Core/Utilities.js"]],function(O,L,M){const{setAnimation:t}=O,{composed:D}=L,{addEvent:T,pushUnique:R}=M;function m(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(s=>{s.updateSimulation()}),this.redraw())}function _(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(s=>{s.updateSimulation(!1)}),this.redraw())}function f(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(s=>{s.stop()})}function S(){let s,d=!1;const a=g=>{g.maxIterations--&&isFinite(g.temperature)&&!g.isStable()&&!g.enableSimulation&&(g.beforeStep&&g.beforeStep(),g.step(),s=!1,d=!0)};if(this.graphLayoutsLookup){for(t(!1,this),this.graphLayoutsLookup.forEach(g=>g.start());!s;)s=!0,this.graphLayoutsLookup.forEach(a);d&&this.series.forEach(g=>{g&&g.layout&&g.render()})}}return{compose:function h(s){R(D,"GraphLayout")&&(T(s,"afterPrint",m),T(s,"beforePrint",_),T(s,"predraw",f),T(s,"render",S))},integrations:{},layouts:{}}}),Z(k,"Series/NodesComposition.js",[k["Core/Series/SeriesRegistry.js"],k["Core/Utilities.js"]],function(O,L){const{series:{prototype:M,prototype:{pointClass:{prototype:t}}}}=O,{defined:D,extend:T,find:R,merge:P,pick:c}=L;var h;return function(m){function S(){return this.data=[].concat(this.points||[],this.nodes),M.destroy.apply(this,arguments)}function s(){this.nodes&&(this.nodes.forEach(g=>{g.destroy()}),this.nodes.length=0),M.setData.apply(this,arguments)}function d(g){const b=arguments,p=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==g&&p.forEach(v=>{v&&v.series&&(t.setState.apply(v,b),v.isNode||(v.fromNode.graphic&&t.setState.apply(v.fromNode,b),v.toNode&&v.toNode.graphic&&t.setState.apply(v.toNode,b)))}),t.setState.apply(this,b)}function a(g,b,p,v){const I=this.series.options.nodes,e=this.series.options.data,u=e&&e.length||0,w=e&&e[this.index];if(t.update.call(this,g,!this.isNode&&b,p,v),this.isNode){const C=(I||[]).reduce((Y,A,G)=>this.id===A.id?G:Y,-1),y=P(I&&I[C]||{},e&&e[this.index]||{});e&&(w?e[this.index]=w:e.length=u),I?C>=0?I[C]=y:I.push(y):this.series.options.nodes=[y],c(b,!0)&&this.series.chart.redraw(p)}}m.compose=function _(g,b){const p=g.prototype,v=b.prototype;return p.setNodeState=d,p.setState=d,p.update=a,v.destroy=S,v.setData=s,b},m.createNode=function f(g){const b=this.pointClass,p=(e,u)=>R(e,w=>w.id===u);let I,v=p(this.nodes,g);if(!v){I=this.options.nodes&&p(this.options.nodes,g);const e=new b(this,T({className:"highcharts-node",isNode:!0,id:g,y:1},I));e.linksTo=[],e.linksFrom=[],e.getSum=function(){let u=0,w=0;return e.linksTo.forEach(C=>{u+=C.weight||0}),e.linksFrom.forEach(C=>{w+=C.weight||0}),Math.max(u,w)},e.offset=function(u,w){let C=0;for(let y=0;y<e[w].length;y++){if(e[w][y]===u)return C;C+=e[w][y].weight}},e.hasShape=function(){let u=0;return e.linksTo.forEach(w=>{w.outgoing&&u++}),!e.linksTo.length||u!==e.linksTo.length},e.index=this.nodes.push(e)-1,v=e}return v.formatPrefix="node",v.name=v.name||v.options.id||"",v.mass=c(v.options.mass,v.options.marker&&v.options.marker.radius,this.options.marker&&this.options.marker.radius,4),v},m.destroy=S,m.generatePoints=function n(){const g=this.chart,b={};M.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(p=>{p.linksFrom.length=0,p.linksTo.length=0,p.level=p.options.level}),this.points.forEach(p=>{D(p.from)&&(b[p.from]||(b[p.from]=this.createNode(p.from)),b[p.from].linksFrom.push(p),p.fromNode=b[p.from],g.styledMode?p.colorIndex=c(p.options.colorIndex,b[p.from].colorIndex):p.color=p.options.color||b[p.from].color),D(p.to)&&(b[p.to]||(b[p.to]=this.createNode(p.to)),b[p.to].linksTo.push(p),p.toNode=b[p.to]),p.name=p.name||p.id},this),this.nodeLookup=b},m.setNodeState=d,m.updateNode=a}(h||(h={})),h}),Z(k,"Series/Networkgraph/NetworkgraphPoint.js",[k["Series/NodesComposition.js"],k["Core/Series/SeriesRegistry.js"],k["Core/Utilities.js"]],function(O,L,M){const{series:{prototype:t,prototype:{pointClass:D}}}=L,{addEvent:T,css:R,defined:P,extend:c,pick:h}=M;class m extends D{destroy(){return this.isNode&&this.linksFrom.concat(this.linksTo).forEach(function(f){f.destroyElements&&f.destroyElements()}),this.series.layout.removeElementFromCollection(this,this.series.layout[this.isNode?"nodes":"links"]),D.prototype.destroy.apply(this,arguments)}getDegree(){const f=this.isNode?this.linksFrom.length+this.linksTo.length:0;return 0===f?1:f}getLinkAttributes(){const f=this.series.options.link,S=this.options;return{"stroke-width":h(S.width,f.width),stroke:S.color||f.color,dashstyle:S.dashStyle||f.dashStyle,opacity:h(S.opacity,f.opacity,1)}}getLinkPath(){let f=this.fromNode,S=this.toNode;return f.plotX>S.plotX&&(f=this.toNode,S=this.fromNode),[["M",f.plotX||0,f.plotY||0],["L",S.plotX||0,S.plotY||0]]}getMass(){const f=this.fromNode.mass,S=this.toNode.mass,n=f+S;return{fromNode:1-f/n,toNode:1-S/n}}constructor(f,S,n){super(f,S,n),this.series.options.draggable&&!this.series.chart.styledMode&&(T(this,"mouseOver",function(){R(this.series.chart.container,{cursor:"move"})}),T(this,"mouseOut",function(){R(this.series.chart.container,{cursor:"default"})}))}isValid(){return!this.isNode||P(this.id)}redrawLink(){let S,f=this.getLinkPath();if(this.graphic){this.shapeArgs={d:f},this.series.chart.styledMode||(S=this.series.pointAttribs(this),this.graphic.attr(S),(this.dataLabels||[]).forEach(function(d){d&&d.attr({opacity:S.opacity})})),this.graphic.animate(this.shapeArgs);const n=f[0],s=f[1];"M"===n[0]&&"L"===s[0]&&(this.plotX=(n[1]+s[1])/2,this.plotY=(n[2]+s[2])/2)}}remove(f,S){let a,n=this,s=n.series,d=s.options.nodes||[],g=d.length;if(n.isNode){for(s.points=[],[].concat(n.linksFrom).concat(n.linksTo).forEach(function(b){a=b.fromNode.linksFrom.indexOf(b),a>-1&&b.fromNode.linksFrom.splice(a,1),a=b.toNode.linksTo.indexOf(b),a>-1&&b.toNode.linksTo.splice(a,1),t.removePoint.call(s,s.data.indexOf(b),!1,!1)}),s.points=s.data.slice(),s.nodes.splice(s.nodes.indexOf(n),1);g--;)if(d[g].id===n.options.id){s.options.nodes.splice(g,1);break}n&&n.destroy(),s.isDirty=!0,s.isDirtyData=!0,f&&s.chart.redraw(f)}else s.removePoint(s.data.indexOf(n),f,S)}renderLink(){let f;this.graphic||(this.graphic=this.series.chart.renderer.path(this.getLinkPath()).addClass(this.getClassName(),!0).add(this.series.group),this.series.chart.styledMode||(f=this.series.pointAttribs(this),this.graphic.attr(f),(this.dataLabels||[]).forEach(function(S){S&&S.attr({opacity:f.opacity})})))}}return c(m.prototype,{setState:O.setNodeState}),m}),Z(k,"Series/Networkgraph/NetworkgraphSeriesDefaults.js",[],function(){return{stickyTracking:!1,inactiveOtherPoints:!0,marker:{enabled:!0,states:{inactive:{opacity:.3,animation:{duration:50}}}},states:{inactive:{linkOpacity:.3,animation:{duration:50}}},dataLabels:{formatter:function(){return this.key},linkFormatter:function(){return this.point.fromNode.name+"<br>"+this.point.toNode.name},linkTextPath:{enabled:!0},textPath:{enabled:!1},style:{transition:"opacity 2000ms"},defer:!0,animation:{defer:1e3}},link:{color:"rgba(100, 100, 100, 0.5)",width:1},draggable:!0,layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:1,enableSimulation:!1,theta:.5,maxSpeed:10,approximation:"none",type:"reingold-fruchterman",integration:"euler",maxIterations:1e3,gravitationalConstant:.0625,friction:-.981},showInLegend:!1}}),Z(k,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function O(c,h,m,_){const f=c.getMass(),S=m.x/_*h,n=m.y/_*h;c.fromNode.fixedPosition||(c.fromNode.dispX-=S*f.fromNode/c.fromNode.degree,c.fromNode.dispY-=n*f.fromNode/c.fromNode.degree),c.toNode.fixedPosition||(c.toNode.dispX+=S*f.toNode/c.toNode.degree,c.toNode.dispY+=n*f.toNode/c.toNode.degree)},attractiveForceFunction:function L(c,h){return c*c/h},barycenter:function M(){const c=this.options.gravitationalConstant,h=this.barycenter.xFactor,m=this.barycenter.yFactor;this.nodes.forEach(function(_){if(!_.fixedPosition){const f=_.getDegree(),S=f*(1+f/2);_.dispX+=(h-_.plotX)*c*S/_.degree,_.dispY+=(m-_.plotY)*c*S/_.degree}})},getK:function t(c){return Math.pow(c.box.width*c.box.height/c.nodes.length,.3)},integrate:function D(c,h){let m;h.dispX+=h.dispX*c.options.friction,h.dispY+=h.dispY*c.options.friction,m=h.temperature=c.vectorLength({x:h.dispX,y:h.dispY}),0!==m&&(h.plotX+=h.dispX/m*Math.min(Math.abs(h.dispX),c.temperature),h.plotY+=h.dispY/m*Math.min(Math.abs(h.dispY),c.temperature))},repulsive:function T(c,h,m,_){c.dispX+=m.x/_*h/c.degree,c.dispY+=m.y/_*h/c.degree},repulsiveForceFunction:function R(c,h){return h*h/c}}}),Z(k,"Series/Networkgraph/QuadTreeNode.js",[],function(){class O{constructor(M){this.body=!1,this.isEmpty=!1,this.isInternal=!1,this.nodes=[],this.box=M,this.boxSize=Math.min(M.width,M.height)}divideBox(){const M=this.box.width/2,t=this.box.height/2;this.nodes[0]=new O({left:this.box.left,top:this.box.top,width:M,height:t}),this.nodes[1]=new O({left:this.box.left+M,top:this.box.top,width:M,height:t}),this.nodes[2]=new O({left:this.box.left+M,top:this.box.top+t,width:M,height:t}),this.nodes[3]=new O({left:this.box.left,top:this.box.top+t,width:M,height:t})}getBoxPosition(M){const D=M.plotY<this.box.top+this.box.height/2;let T;return T=M.plotX<this.box.left+this.box.width/2?D?0:3:D?1:2,T}insert(M,t){let D;this.isInternal?this.nodes[this.getBoxPosition(M)].insert(M,t-1):(this.isEmpty=!1,this.body?t?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,t-1),this.body=!0),this.nodes[this.getBoxPosition(M)].insert(M,t-1)):(D=new O({top:M.plotX||NaN,left:M.plotY||NaN,width:.1,height:.1}),D.body=M,D.isInternal=!1,this.nodes.push(D)):(this.isInternal=!1,this.body=M))}updateMassAndCenter(){let M=0,t=0,D=0;if(this.isInternal){for(const T of this.nodes)T.isEmpty||(M+=T.mass,t+=T.plotX*T.mass,D+=T.plotY*T.mass);t/=M,D/=M}else this.body&&(M=this.body.mass,t=this.body.plotX,D=this.body.plotY);this.mass=M,this.plotX=t,this.plotY=D}}return O}),Z(k,"Series/Networkgraph/QuadTree.js",[k["Series/Networkgraph/QuadTreeNode.js"]],function(O){return class L{constructor(t,D,T,R){this.box={left:t,top:D,width:T,height:R},this.maxDepth=25,this.root=new O(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(t){t.updateMassAndCenter()})}insertNodes(t){for(const D of t)this.root.insert(D,this.maxDepth)}visitNodeRecursive(t,D,T){let R;if(t||(t=this.root),t===this.root&&D&&(R=D(t)),!1!==R){for(const P of t.nodes){if(P.isInternal){if(D&&(R=D(P)),!1===R)continue;this.visitNodeRecursive(P,D,T)}else P.body&&D&&D(P.body);T&&T(P)}t===this.root&&T&&T(t)}}}}),Z(k,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function O(c,h,m){const _=c.getMass(),f=-m.x*h*this.diffTemperature,S=-m.y*h*this.diffTemperature;c.fromNode.fixedPosition||(c.fromNode.plotX-=f*_.fromNode/c.fromNode.degree,c.fromNode.plotY-=S*_.fromNode/c.fromNode.degree),c.toNode.fixedPosition||(c.toNode.plotX+=f*_.toNode/c.toNode.degree,c.toNode.plotY+=S*_.toNode/c.toNode.degree)},attractiveForceFunction:function L(c,h){return(h-c)/c},barycenter:function M(){let c=this.options.gravitationalConstant,h=this.barycenter.xFactor,m=this.barycenter.yFactor;h=(h-(this.box.left+this.box.width)/2)*c,m=(m-(this.box.top+this.box.height)/2)*c,this.nodes.forEach(function(_){_.fixedPosition||(_.plotX-=h/_.mass/_.degree,_.plotY-=m/_.mass/_.degree)})},getK:function t(c){return Math.pow(c.box.width*c.box.height/c.nodes.length,.5)},integrate:function D(c,h){let m=-c.options.friction,_=c.options.maxSpeed,n=(h.plotX+h.dispX-h.prevX)*m,s=(h.plotY+h.dispY-h.prevY)*m,d=Math.abs,a=d(n)/(n||1),g=d(s)/(s||1);n=a*Math.min(_,Math.abs(n)),s=g*Math.min(_,Math.abs(s)),h.prevX=h.plotX+h.dispX,h.prevY=h.plotY+h.dispY,h.plotX+=n,h.plotY+=s,h.temperature=c.vectorLength({x:n,y:s})},repulsive:function T(c,h,m){const _=h*this.diffTemperature/c.mass/c.degree;c.fixedPosition||(c.plotX+=m.x*_,c.plotY+=m.y*_)},repulsiveForceFunction:function R(c,h){return(h-c)/c*(h>c?1:0)}}}),Z(k,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[k["Series/Networkgraph/EulerIntegration.js"],k["Core/Globals.js"],k["Series/GraphLayoutComposition.js"],k["Series/Networkgraph/QuadTree.js"],k["Core/Utilities.js"],k["Series/Networkgraph/VerletIntegration.js"]],function(O,L,M,t,D,T){const{win:R}=L,{clamp:P,defined:c,isFunction:h,fireEvent:m,pick:_}=D;class f{constructor(){this.box={},this.currentStep=0,this.initialRendering=!0,this.links=[],this.nodes=[],this.series=[],this.simulation=!1}static compose(n){M.compose(n),M.integrations.euler=O,M.integrations.verlet=T,M.layouts["reingold-fruchterman"]=f}init(n){this.options=n,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=M.integrations[n.integration],this.enableSimulation=n.enableSimulation,this.attractiveForce=_(n.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=_(n.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=n.approximation}updateSimulation(n){this.enableSimulation=_(n,this.options.enableSimulation)}start(){const n=this,s=this.series,d=this.options;n.currentStep=0,n.forces=s[0]&&s[0].forces||[],n.chart=s[0]&&s[0].chart,n.initialRendering&&(n.initPositions(),s.forEach(function(a){a.finishedAnimating=!0,a.render()})),n.setK(),n.resetSimulation(d),n.enableSimulation&&n.step()}step(){const n=this,s=this.series;this.currentStep++,"barnes-hut"===this.approximation&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(const d of this.forces||[])n[d+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(const d of s)d.chart&&d.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&R.cancelAnimationFrame(this.simulation),this.simulation=R.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(d=>{m(d,"afterSimulation")}))}}stop(){this.simulation&&R.cancelAnimationFrame(this.simulation)}setArea(n,s,d,a){this.box={left:n,top:s,width:d,height:a}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(n,s){for(const d of n)-1===s.indexOf(d)&&s.push(d)}removeElementFromCollection(n,s){const d=s.indexOf(n);-1!==d&&s.splice(d,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(n){this.maxIterations=_(n,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(n){this.initialRendering=n}createQuadTree(){this.quadTree=new t(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){const n=this.options.initialPositions;if(h(n)){n.call(this);for(const s of this.nodes)c(s.prevX)||(s.prevX=s.plotX),c(s.prevY)||(s.prevY=s.plotY),s.dispX=0,s.dispY=0}else"circle"===n?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){const n=this.box,s=this.nodes,a=2*Math.PI/(s.length+1),g=s.filter(function(u){return 0===u.linksTo.length}),b={},p=this.options.initialPositionRadius,v=u=>{for(const w of u.linksFrom||[])b[w.toNode.id]||(b[w.toNode.id]=!0,I.push(w.toNode),v(w.toNode))};let e,I=[];for(const u of g)I.push(u),v(u);if(I.length)for(const u of s)-1===I.indexOf(u)&&I.push(u);else I=s;for(let u=0,w=I.length;u<w;++u)e=I[u],e.plotX=e.prevX=_(e.plotX,n.width/2+p*Math.cos(u*a)),e.plotY=e.prevY=_(e.plotY,n.height/2+p*Math.sin(u*a)),e.dispX=0,e.dispY=0}setRandomPositions(){const n=this.box,s=this.nodes,d=s.length+1,a=b=>{let p=b*b/Math.PI;return p-=Math.floor(p),p};let g;for(let b=0,p=s.length;b<p;++b)g=s[b],g.plotX=g.prevX=_(g.plotX,n.width*a(b)),g.plotY=g.prevY=_(g.plotY,n.height*a(d+b)),g.dispX=0,g.dispY=0}force(n,...s){this.integration[n].apply(this,s)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let n=0,s=0,d=0;for(const a of this.nodes)s+=a.plotX*a.mass,d+=a.plotY*a.mass,n+=a.mass;return this.barycenter={x:s,y:d,xFactor:s/n,yFactor:d/n},this.barycenter}barnesHutApproximation(n,s){const d=this.getDistXY(n,s),a=this.vectorLength(d);let g,b;return n!==s&&0!==a&&(s.isInternal?s.boxSize/a<this.options.theta&&0!==a?(b=this.repulsiveForce(a,this.k),this.force("repulsive",n,b*s.mass,d,a),g=!1):g=!0:(b=this.repulsiveForce(a,this.k),this.force("repulsive",n,b*s.mass,d,a))),g}repulsiveForces(){if("barnes-hut"===this.approximation)for(const n of this.nodes)this.quadTree.visitNodeRecursive(null,s=>this.barnesHutApproximation(n,s));else{let n,s,d;for(const a of this.nodes)for(const g of this.nodes)a!==g&&!a.fixedPosition&&(d=this.getDistXY(a,g),s=this.vectorLength(d),0!==s&&(n=this.repulsiveForce(s,this.k),this.force("repulsive",a,n*g.mass,d,s)))}}attractiveForces(){let n,s,d;for(const a of this.links)a.fromNode&&a.toNode&&(n=this.getDistXY(a.fromNode,a.toNode),s=this.vectorLength(n),0!==s&&(d=this.attractiveForce(s,this.k),this.force("attractive",a,d,n,s)))}applyLimits(){const n=this.nodes;for(const s of n){if(s.fixedPosition)return;this.integration.integrate(this,s),this.applyLimitBox(s,this.box),s.dispX=0,s.dispY=0}}applyLimitBox(n,s){const d=n.radius;n.plotX=P(n.plotX,s.left+d,s.width-d),n.plotY=P(n.plotY,s.top+d,s.height-d)}coolDown(n,s,d){return n-s*d}isStable(){return Math.abs(this.systemTemperature-this.prevSystemTemperature)<1e-5||this.temperature<=0}getSystemTemperature(){let n=0;for(const s of this.nodes)n+=s.temperature;return n}vectorLength(n){return Math.sqrt(n.x*n.x+n.y*n.y)}getDistR(n,s){const d=this.getDistXY(n,s);return this.vectorLength(d)}getDistXY(n,s){const d=n.plotX-s.plotX,a=n.plotY-s.plotY;return{x:d,y:a,absX:Math.abs(d),absY:Math.abs(a)}}}return f}),Z(k,"Series/SimulationSeriesUtilities.js",[k["Core/Utilities.js"],k["Core/Animation/AnimationUtilities.js"]],function(O,L){const{merge:M,syncTimeout:t}=O,{animObject:D}=L;return{initDataLabels:function R(){const c=this,h=c.options.dataLabels;if(!c.dataLabelsGroup){const m=this.initDataLabelsGroup();return!c.chart.styledMode&&h?.style&&m.css(h.style),m.attr({opacity:0}),c.visible&&m.show(),m}return c.dataLabelsGroup.attr(M({opacity:1},this.getPlotBox("data-labels"))),c.dataLabelsGroup},initDataLabelsDefer:function T(){const c=this.options.dataLabels;c?.defer&&this.options.layoutAlgorithm?.enableSimulation?t(()=>{this.deferDataLabels=!1},c?D(c.animation).defer:0):this.deferDataLabels=!1}}}),Z(k,"Series/Networkgraph/NetworkgraphSeries.js",[k["Series/DragNodesComposition.js"],k["Series/GraphLayoutComposition.js"],k["Core/Globals.js"],k["Series/Networkgraph/NetworkgraphPoint.js"],k["Series/Networkgraph/NetworkgraphSeriesDefaults.js"],k["Series/NodesComposition.js"],k["Series/Networkgraph/ReingoldFruchtermanLayout.js"],k["Core/Series/SeriesRegistry.js"],k["Series/SimulationSeriesUtilities.js"],k["Core/Utilities.js"]],function(O,L,M,t,D,T,R,P,c,h){const{noop:m}=M,{series:_,seriesTypes:{column:{prototype:f},line:{prototype:S}}}=P,{initDataLabels:n,initDataLabelsDefer:s}=c,{addEvent:d,defined:a,extend:g,merge:b,pick:p}=h;class v extends _{constructor(){super(...arguments),this.deferDataLabels=!0}static compose(e){O.compose(e),R.compose(e)}deferLayout(){let y,e=this.options.layoutAlgorithm,u=this.chart.graphLayoutsStorage,w=this.chart.graphLayoutsLookup,C=this.chart.options.chart;this.visible&&(u||(this.chart.graphLayoutsStorage=u={},this.chart.graphLayoutsLookup=w=[]),y=u[e.type],y||(e.enableSimulation=a(C.forExport)?!C.forExport:e.enableSimulation,u[e.type]=y=new L.layouts[e.type],y.init(e),w.splice(y.index,0,y)),this.layout=y,y.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),y.addElementsToCollection([this],y.series),y.addElementsToCollection(this.nodes,y.nodes),y.addElementsToCollection(this.points,y.links))}destroy(){this.layout&&this.layout.removeElementFromCollection(this,this.layout.series),T.destroy.call(this)}drawDataLabels(){if(this.deferDataLabels)return;const e=this.options.dataLabels;let u;e?.textPath&&(u=e.textPath),_.prototype.drawDataLabels.call(this,this.nodes),e?.linkTextPath&&(e.textPath=e.linkTextPath),_.prototype.drawDataLabels.call(this,this.data),e?.textPath&&(e.textPath=u)}generatePoints(){let e,u;for(T.generatePoints.apply(this,arguments),this.options.nodes&&this.options.nodes.forEach(function(w){this.nodeLookup[w.id]||(this.nodeLookup[w.id]=this.createNode(w.id))},this),u=this.nodes.length-1;u>=0;u--)e=this.nodes[u],e.degree=e.getDegree(),e.radius=p(e.marker&&e.marker.radius,this.options.marker&&this.options.marker.radius,0),this.nodeLookup[e.id]||e.remove();this.data.forEach(function(w){w.formatPrefix="link"}),this.indexateNodes()}getPointsCollection(){return this.nodes||[]}indexateNodes(){this.nodes.forEach(function(e,u){e.index=u})}init(e,u){return super.init(e,u),s.call(this),d(this,"updatedData",()=>{this.layout&&this.layout.stop()}),d(this,"afterUpdate",()=>{this.nodes.forEach(w=>{w&&w.series&&w.resolveColor()})}),d(this,"afterSimulation",function(){this.deferDataLabels=!1,this.drawDataLabels()}),this}markerAttribs(e,u){const w=_.prototype.markerAttribs.call(this,e,u);return a(e.plotY)||(w.y=0),w.x=(e.plotX||0)-(w.width||0)/2,w}pointAttribs(e,u){let w=u||e&&e.state||"normal",C=_.prototype.pointAttribs.call(this,e,w),y=this.options.states[w];return e&&!e.isNode&&(C=e.getLinkAttributes(),y&&(C={stroke:y.linkColor||C.stroke,dashstyle:y.linkDashStyle||C.dashstyle,opacity:p(y.linkOpacity,C.opacity),"stroke-width":y.linkColor||C["stroke-width"]})),C}render(){const e=this,u=e.points,w=e.chart.hoverPoint,C=[];e.points=e.nodes,S.render.call(this),e.points=u,u.forEach(function(y){y.fromNode&&y.toNode&&(y.renderLink(),y.redrawLink())}),w&&w.series===e&&e.redrawHalo(w),e.chart.hasRendered&&!e.options.dataLabels.allowOverlap&&(e.nodes.concat(e.points).forEach(function(y){y.dataLabel&&C.push(y.dataLabel)}),e.chart.hideOverlappingLabels(C))}setState(e,u){u?(this.points=this.nodes.concat(this.data),_.prototype.setState.apply(this,arguments),this.points=this.data):_.prototype.setState.apply(this,arguments),!this.layout.simulation&&!e&&this.render()}translate(){this.processedXData||this.processData(),this.generatePoints(),this.deferLayout(),this.nodes.forEach(function(e){e.isInside=!0,e.linksFrom.forEach(function(u){u.shapeType="path",u.y=1})})}}return v.defaultOptions=b(_.defaultOptions,D),g(v.prototype,{pointClass:t,animate:void 0,directTouch:!0,drawGraph:void 0,forces:["barycenter","repulsive","attractive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["from","to"],requireSorting:!1,trackerGroups:["group","markerGroup","dataLabelsGroup"],initDataLabels:n,buildKDTree:m,createNode:T.createNode,drawTracker:f.drawTracker,onMouseDown:O.onMouseDown,onMouseMove:O.onMouseMove,onMouseUp:O.onMouseUp,redrawHalo:O.redrawHalo}),P.registerSeriesType("networkgraph",v),v}),Z(k,"masters/modules/networkgraph.src.js",[k["Core/Globals.js"],k["Series/Networkgraph/NetworkgraphSeries.js"]],function(O,L){return L.compose(O.Chart),O})},nt.exports?(Q.default=Q,nt.exports=Q):(dt=[X(21264)],void 0!==(et=function(k){return Q(k),Q.Highcharts=k,Q}.apply(_t,dt))&&(nt.exports=et))},95606:(nt,_t,X)=>{var dt,et,Q;Q=function(Q){"use strict";var k=Q?Q._modules:{};function Z(O,L,M,t){O.hasOwnProperty(L)||(O[L]=t.apply(null,M),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:L,module:O[L]}})))}Z(k,"Series/NodesComposition.js",[k["Core/Series/SeriesRegistry.js"],k["Core/Utilities.js"]],function(O,L){var M;let{series:{prototype:t,prototype:{pointClass:{prototype:D}}}}=O,{defined:T,extend:R,find:P,merge:c,pick:h}=L;return function(m){function _(){return this.data=[].concat(this.points||[],this.nodes),t.destroy.apply(this,arguments)}function f(){this.nodes&&(this.nodes.forEach(s=>{s.destroy()}),this.nodes.length=0),t.setData.apply(this,arguments)}function S(s){let d=arguments,a=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==s&&a.forEach(g=>{g&&g.series&&(D.setState.apply(g,d),!g.isNode&&(g.fromNode.graphic&&D.setState.apply(g.fromNode,d),g.toNode&&g.toNode.graphic&&D.setState.apply(g.toNode,d)))}),D.setState.apply(this,d)}function n(s,d,a,g){let b=this.series.options.nodes,p=this.series.options.data,v=p&&p.length||0,I=p&&p[this.index];if(D.update.call(this,s,!this.isNode&&d,a,g),this.isNode){let e=(b||[]).reduce((w,C,y)=>this.id===C.id?y:w,-1),u=c(b&&b[e]||{},p&&p[this.index]||{});p&&(I?p[this.index]=I:p.length=v),b?e>=0?b[e]=u:b.push(u):this.series.options.nodes=[u],h(d,!0)&&this.series.chart.redraw(a)}}m.compose=function(s,d){let a=s.prototype,g=d.prototype;return a.setNodeState=S,a.setState=S,a.update=n,g.destroy=_,g.setData=f,d},m.createNode=function(s){let b,d=this.pointClass,a=(p,v)=>P(p,I=>I.id===v),g=a(this.nodes,s);if(!g){b=this.options.nodes&&a(this.options.nodes,s);let p=new d(this,R({className:"highcharts-node",isNode:!0,id:s,y:1},b));p.linksTo=[],p.linksFrom=[],p.getSum=function(){let v=0,I=0;return p.linksTo.forEach(e=>{v+=e.weight||0}),p.linksFrom.forEach(e=>{I+=e.weight||0}),Math.max(v,I)},p.offset=function(v,I){let e=0;for(let u=0;u<p[I].length;u++){if(p[I][u]===v)return e;e+=p[I][u].weight}},p.hasShape=function(){let v=0;return p.linksTo.forEach(I=>{I.outgoing&&v++}),!p.linksTo.length||v!==p.linksTo.length},p.index=this.nodes.push(p)-1,g=p}return g.formatPrefix="node",g.name=g.name||g.options.id||"",g.mass=h(g.options.mass,g.options.marker&&g.options.marker.radius,this.options.marker&&this.options.marker.radius,4),g},m.destroy=_,m.generatePoints=function(){let s=this.chart,d={};t.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(a=>{a.linksFrom.length=0,a.linksTo.length=0,a.level=a.options.level}),this.points.forEach(a=>{T(a.from)&&(d[a.from]||(d[a.from]=this.createNode(a.from)),d[a.from].linksFrom.push(a),a.fromNode=d[a.from],s.styledMode?a.colorIndex=h(a.options.colorIndex,d[a.from].colorIndex):a.color=a.options.color||d[a.from].color),T(a.to)&&(d[a.to]||(d[a.to]=this.createNode(a.to)),d[a.to].linksTo.push(a),a.toNode=d[a.to]),a.name=a.name||a.id},this),this.nodeLookup=d},m.setNodeState=S,m.updateNode=n}(M||(M={})),M}),Z(k,"Series/Sankey/SankeyPoint.js",[k["Core/Series/Point.js"],k["Core/Series/SeriesRegistry.js"],k["Core/Utilities.js"]],function(O,L,M){let{column:t}=L.seriesTypes,{defined:D}=M;return class T extends t.prototype.pointClass{applyOptions(P,c){return O.prototype.applyOptions.call(this,P,c),D(this.options.level)&&(this.options.column=this.column=this.options.level),this}getClassName(){return(this.isNode?"highcharts-node ":"highcharts-link ")+O.prototype.getClassName.call(this)}getFromNode(){let c,P=-1;for(let h=0;h<this.linksTo.length;h++){let m=this.linksTo[h];m.fromNode.column>P&&m.fromNode!==this&&(P=(c=m.fromNode).column)}return{fromNode:c,fromColumn:P}}setNodeColumn(){D(this.options.column)||(this.column=0===this.linksTo.length?0:this.getFromNode().fromColumn+1)}isValid(){return this.isNode||"number"==typeof this.weight}}}),Z(k,"Series/Sankey/SankeySeriesDefaults.js",[],function(){return{borderWidth:0,colorByPoint:!0,curveFactor:.33,dataLabels:{enabled:!0,backgroundColor:"none",crop:!1,nodeFormat:void 0,nodeFormatter:function(){return this.point.name},format:void 0,formatter:function(){},inside:!0},inactiveOtherPoints:!0,linkColorMode:"from",linkOpacity:.5,opacity:1,minLinkWidth:0,nodeAlignment:"center",nodeWidth:20,nodePadding:10,nodeDistance:30,showInLegend:!1,states:{hover:{linkOpacity:1,opacity:1},inactive:{linkOpacity:.1,opacity:.1,animation:{duration:50}}},tooltip:{followPointer:!0,headerFormat:'<span style="font-size: 0.8em">{series.name}</span><br/>',pointFormat:"{point.fromNode.name} \u2192 {point.toNode.name}: <b>{point.weight}</b><br/>",nodeFormat:"{point.name}: <b>{point.sum}</b><br/>"}}}),Z(k,"Series/Sankey/SankeyColumnComposition.js",[k["Core/Utilities.js"]],function(O){var L;let{defined:M,relativeLength:t}=O;return function(D){D.compose=function(R,P){return R.sankeyColumn=new T(R,P),R};class T{constructor(P,c){this.points=P,this.series=c}getTranslationFactor(P){let f,n,c=this.points,h=c.slice(),_=P.options.minLinkWidth||0,S=0,s=(P.chart.plotSizeY||0)-(P.options.borderWidth||0)-(c.length-1)*P.nodePadding;for(;c.length;){for(S=s/c.sankeyColumn.sum(),f=!1,n=c.length;n--;)c[n].getSum()*S<_&&(c.splice(n,1),s=Math.max(0,s-_),f=!0);if(!f)break}for(let d of(c.length=0,h))c.push(d);return S}top(P){let c=this.series,h=c.nodePadding,m=this.points.reduce((_,f)=>(_>0&&(_+=h),_+Math.max(f.getSum()*P,c.options.minLinkWidth||0)),0);return{top:0,center:.5,bottom:1}[c.options.nodeAlignment||"center"]*((c.chart.plotSizeY||0)-m)}left(P){let c=this.series,h=c.chart,m=c.options.equalNodes,_=h.inverted?h.plotHeight:h.plotWidth,f=c.nodePadding,S=this.points.reduce((n,s)=>(n>0&&(n+=f),n+(m?_/s.series.nodes.length-f:Math.max(s.getSum()*P,c.options.minLinkWidth||0))),0);return((h.plotSizeX||0)-Math.round(S))/2}sum(){return this.points.reduce((P,c)=>P+c.getSum(),0)}offset(P,c){let S,h=this.points,m=this.series,_=m.nodePadding,f=0;if(m.is("organization")&&P.hangsFrom)return{absoluteTop:P.hangsFrom.nodeY};for(let n=0;n<h.length;n++){let s=h[n].getSum(),d=Math.max(s*c,m.options.minLinkWidth||0),a=P.options[m.chart.inverted?"offsetHorizontal":"offsetVertical"],g=P.options.offset||0;if(S=s?d+_:0,h[n]===P)return{relativeTop:f+(M(a)?t(a,d):t(g,S))};f+=S}}}D.SankeyColumnAdditions=T}(L||(L={})),L}),Z(k,"Series/TreeUtilities.js",[k["Core/Color/Color.js"],k["Core/Utilities.js"]],function(O,L){let{extend:M,isArray:t,isNumber:D,isObject:T,merge:R,pick:P,relativeLength:c}=L;return{getColor:function(h,m){let _,f,S,n,s,d,a=m.index,b=m.parentColor,p=m.parentColorIndex,v=m.series,I=m.colors,e=m.siblings;return h&&(_=v.points[h.i],f=m.mapOptionsToLevel[h.level]||{},_&&f.colorByPoint&&(n=_.index%(I?I.length:v.chart.options.chart.colorCount),S=I&&I[n]),v.chart.styledMode||(s=P(_&&_.options.color,f&&f.color,S,b&&(C=>{let y=f&&f.colorVariation;return y&&"brightness"===y.key&&a&&e?O.parse(C).brighten(y.to*(a/e)).get():C})(b),v.color)),d=P(_&&_.options.colorIndex,f&&f.colorIndex,n,p,m.colorIndex)),{color:s,colorIndex:d}},getLevelOptions:function(h){let _,f,S,n,s,d,m={};if(T(h))for(n=D(h.from)?h.from:1,d=h.levels,f={},_=T(h.defaults)?h.defaults:{},t(d)&&(f=d.reduce((a,g)=>{let b,p,v;return T(g)&&D(g.level)&&(p=P((v=R({},g)).levelIsConstant,_.levelIsConstant),delete v.levelIsConstant,delete v.level,T(a[b=g.level+(p?0:n-1)])?R(!0,a[b],v):a[b]=v),a},{})),s=D(h.to)?h.to:1,S=0;S<=s;S++)m[S]=R({},_,T(f[S])?f[S]:{});return m},getNodeWidth:function(h,m){let{chart:_,options:f}=h,{nodeDistance:S=0,nodeWidth:n=0}=f,{plotSizeX:s=1}=_;if("auto"===n){if("string"==typeof S&&/%$/.test(S))return s/(m+parseFloat(S)/100*(m-1));let d=Number(S);return(s+d)/(m||1)-d}return c(n,s)},setTreeValues:function h(m,_){let f=_.before,S=_.idRoot,d=_.points[m.i],a=d&&d.options||{},g=[],b=0;m.levelDynamic=m.level-(!1!==_.levelIsConstant?0:_.mapIdToNode[S].level),m.name=P(d&&d.name,""),m.visible=S===m.id||!0===_.visible,"function"==typeof f&&(m=f(m,_)),m.children.forEach((v,I)=>{let e=M({},_);M(e,{index:I,siblings:m.children.length,visible:m.visible}),v=h(v,e),g.push(v),v.visible&&(b+=v.val)});let p=P(a.value,b);return m.visible=p>=0&&(b>0||m.visible),m.children=g,m.childrenTotal=b,m.isLeaf=m.visible&&!b,m.val=p,m},updateRootId:function(h){let m,_;return T(h)&&(_=T(h.options)?h.options:{},m=P(h.rootNode,_.rootId,""),T(h.userOptions)&&(h.userOptions.rootId=m),h.rootNode=m),m}}}),Z(k,"Series/Sankey/SankeySeries.js",[k["Core/Globals.js"],k["Series/NodesComposition.js"],k["Series/Sankey/SankeyPoint.js"],k["Series/Sankey/SankeySeriesDefaults.js"],k["Core/Series/SeriesRegistry.js"],k["Series/Sankey/SankeyColumnComposition.js"],k["Core/Color/Color.js"],k["Series/TreeUtilities.js"],k["Core/Utilities.js"]],function(O,L,M,t,D,T,R,P,c){let{column:h,line:m}=D.seriesTypes,{parse:_}=R,{getLevelOptions:f,getNodeWidth:S}=P,{clamp:n,extend:s,isObject:d,merge:a,pick:g,relativeLength:b,stableSort:p}=c;class v extends h{static getDLOptions(e){let u=d(e.optionsPoint)?e.optionsPoint.dataLabels:{};return a({style:{}},d(e.level)?e.level.dataLabels:{},u)}createNodeColumns(){let e=[];for(let u of this.nodes)u.setNodeColumn(),e[u.column]||(e[u.column]=T.compose([],this)),e[u.column].push(u);for(let u=0;u<e.length;u++)void 0===e[u]&&(e[u]=T.compose([],this));return e}order(e,u){if(void 0===e.level)for(let w of(e.level=u,e.linksFrom))w.toNode&&this.order(w.toNode,u+1)}generatePoints(){if(L.generatePoints.apply(this,arguments),this.orderNodes){for(let e of this.nodes)0===e.linksTo.length&&this.order(e,0);p(this.nodes,(e,u)=>e.level-u.level)}}getNodePadding(){let e=this.options.nodePadding||0;if(this.nodeColumns){let u=this.nodeColumns.reduce((w,C)=>Math.max(w,C.length),0);u*e>this.chart.plotSizeY&&(e=this.chart.plotSizeY/u)}return e}hasData(){return!!this.processedXData.length}pointAttribs(e,u){if(!e)return{};let w=this,y=w.mapOptionsToLevel[(e.isNode?e.level:e.fromNode.level)||0]||{},Y=e.options,A=y.states&&y.states[u||""]||{},G=["colorByPoint","borderColor","borderWidth","linkOpacity","opacity"].reduce((q,$)=>(q[$]=g(A[$],Y[$],y[$],w.options[$]),q),{}),K=g(A.color,Y.color,G.colorByPoint?e.color:y.color);return e.isNode?{fill:K,stroke:G.borderColor,"stroke-width":G.borderWidth,opacity:G.opacity}:{fill:R.parse(K).setOpacity(G.linkOpacity).get()}}drawTracker(){h.prototype.drawTracker.call(this,this.points),h.prototype.drawTracker.call(this,this.nodes)}drawPoints(){h.prototype.drawPoints.call(this,this.points),h.prototype.drawPoints.call(this,this.nodes)}drawDataLabels(){h.prototype.drawDataLabels.call(this,this.points),h.prototype.drawDataLabels.call(this,this.nodes)}translate(){this.processedXData||this.processData(),this.generatePoints(),this.nodeColumns=this.createNodeColumns();let e=this,u=this.chart,w=this.options,C=this.nodeColumns,y=C.length;for(let Y of(this.nodeWidth=S(this,y),this.nodePadding=this.getNodePadding(),this.translationFactor=C.reduce((A,G)=>Math.min(A,G.sankeyColumn.getTranslationFactor(e)),1/0),this.colDistance=(u.plotSizeX-this.nodeWidth-w.borderWidth)/Math.max(1,C.length-1),e.mapOptionsToLevel=f({from:1,levels:w.levels,to:C.length-1,defaults:{borderColor:w.borderColor,borderRadius:w.borderRadius,borderWidth:w.borderWidth,color:e.color,colorByPoint:w.colorByPoint,levelIsConstant:!0,linkColor:w.linkColor,linkLineWidth:w.linkLineWidth,linkOpacity:w.linkOpacity,states:w.states}}),C))for(let A of Y)e.translateNode(A,Y);for(let Y of this.nodes)for(let A of Y.linksFrom)(A.weight||A.isNull)&&A.to&&(e.translateLink(A),A.allowShadow=!1)}translateLink(e){let u=(tt,ot)=>{let st=tt.offset(e,ot)*A;return Math.min(tt.nodeY+st,tt.nodeY+(tt.shapeArgs&&tt.shapeArgs.height||0)-z)},w=e.fromNode,C=e.toNode,y=this.chart,{inverted:Y}=y,A=this.translationFactor,G=this.options,K=g(e.linkColorMode,G.linkColorMode),q=(y.inverted?-this.colDistance:this.colDistance)*G.curveFactor,$=w.nodeX,B=C.nodeX,J=e.outgoing,z=Math.max(e.weight*A,this.options.minLinkWidth),U=u(w,"linksFrom"),V=u(C,"linksTo"),H=this.nodeWidth,rt=B>$+H;if(y.inverted&&(U=y.plotSizeY-U,V=(y.plotSizeY||0)-V,H=-H,z=-z,rt=$>B),e.shapeType="path",e.linkBase=[U,U+z,V,V+z],rt&&"number"==typeof V)e.shapeArgs={d:[["M",$+H,U],["C",$+H+q,U,B-q,V,B,V],["L",B+(J?H:0),V+z/2],["L",B,V+z],["C",B-q,V+z,$+H+q,U+z,$+H,U+z],["Z"]]};else if("number"==typeof V){let ot=B-20-z,st=B-20,at=$+H,ct=at+20,ft=ct+z,gt=U+z,St=gt+20,pt=St+(y.plotHeight-U-z),ht=pt+20,mt=ht+z,bt=V+z,Ft=bt+20,Pt=ht+.7*z,Nt=B-.7*z,Dt=at+.7*z;e.shapeArgs={d:[["M",at,U],["C",Dt,U,ft,gt-.7*z,ft,St],["L",ft,pt],["C",ft,Pt,Dt,mt,at,mt],["L",B,mt],["C",Nt,mt,ot,Pt,ot,pt],["L",ot,Ft],["C",ot,bt-.7*z,Nt,V,B,V],["L",B,bt],["C",st,bt,st,bt,st,Ft],["L",st,pt],["C",st,ht,st,ht,B,ht],["L",at,ht],["C",ct,ht,ct,ht,ct,pt],["L",ct,St],["C",ct,gt,ct,gt,at,gt],["Z"]]}}if(e.dlBox={x:$+(B-$+H)/2,y:U+(V-U)/2,height:z,width:0},e.tooltipPos=y.inverted?[y.plotSizeY-e.dlBox.y-z/2,y.plotSizeX-e.dlBox.x]:[e.dlBox.x,e.dlBox.y+z/2],e.y=e.plotY=1,e.x=e.plotX=1,!e.options.color)if("from"===K)e.color=w.color;else if("to"===K)e.color=C.color;else if("gradient"===K){let tt=_(w.color).get(),ot=_(C.color).get();e.color={linearGradient:{x1:1,x2:0,y1:0,y2:0},stops:[[0,Y?tt:ot],[1,Y?ot:tt]]}}}translateNode(e,u){let w=this.translationFactor,C=this.chart,y=this.options,{borderRadius:Y,borderWidth:A=0}=y,G=e.getSum(),K=Math.max(Math.round(G*w),this.options.minLinkWidth),q=Math.round(this.nodeWidth),$=Math.round(A)%2/2,B=u.sankeyColumn.offset(e,w),J=Math.floor(g(B.absoluteTop,u.sankeyColumn.top(w)+B.relativeTop))+$,z=Math.floor(this.colDistance*e.column+A/2)+b(e.options[C.inverted?"offsetVertical":"offsetHorizontal"]||0,q)+$,U=C.inverted?C.plotSizeX-z:z;if(e.sum=G,G){e.shapeType="roundedRect",e.nodeX=U,e.nodeY=J;let V=U,H=J,rt=e.options.width||y.width||q,tt=e.options.height||y.height||K,ot=n(b("object"==typeof Y?Y.radius:Y||0,rt),0,K/2);C.inverted&&(V=U-q,H=C.plotSizeY-J-K,rt=e.options.height||y.height||q,tt=e.options.width||y.width||K),e.dlOptions=v.getDLOptions({level:this.mapOptionsToLevel[e.level],optionsPoint:e.options}),e.plotX=1,e.plotY=1,e.tooltipPos=C.inverted?[C.plotSizeY-H-tt/2,C.plotSizeX-V-rt/2]:[V+rt/2,H+tt/2],e.shapeArgs={x:V,y:H,width:rt,height:tt,r:ot,display:e.hasShape()?"":"none"}}else e.dlOptions={enabled:!1}}}return v.defaultOptions=a(h.defaultOptions,t),L.compose(M,v),s(v.prototype,{animate:m.prototype.animate,createNode:L.createNode,forceDL:!0,invertible:!0,isCartesian:!1,orderNodes:!0,noSharedTooltip:!0,pointArrayMap:["from","to","weight"],pointClass:M,searchPoint:O.noop}),D.registerSeriesType("sankey",v),v}),Z(k,"masters/modules/sankey.src.js",[k["Core/Globals.js"]],function(O){return O})},nt.exports?(Q.default=Q,nt.exports=Q):(dt=[X(21264)],void 0!==(et=function(k){return Q(k),Q.Highcharts=k,Q}.apply(_t,dt))&&(nt.exports=et))},55782:(nt,_t,X)=>{var dt,et,Q;Q=function(Q){"use strict";var k=Q?Q._modules:{};function Z(O,L,M,t){O.hasOwnProperty(L)||(O[L]=t.apply(null,M),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:L,module:O[L]}})))}Z(k,"Series/NodesComposition.js",[k["Core/Series/SeriesRegistry.js"],k["Core/Utilities.js"]],function(O,L){const{series:{prototype:M,prototype:{pointClass:{prototype:t}}}}=O,{defined:D,extend:T,find:R,merge:P,pick:c}=L;var h;return function(m){function S(){return this.data=[].concat(this.points||[],this.nodes),M.destroy.apply(this,arguments)}function s(){this.nodes&&(this.nodes.forEach(g=>{g.destroy()}),this.nodes.length=0),M.setData.apply(this,arguments)}function d(g){const b=arguments,p=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==g&&p.forEach(v=>{v&&v.series&&(t.setState.apply(v,b),v.isNode||(v.fromNode.graphic&&t.setState.apply(v.fromNode,b),v.toNode&&v.toNode.graphic&&t.setState.apply(v.toNode,b)))}),t.setState.apply(this,b)}function a(g,b,p,v){const I=this.series.options.nodes,e=this.series.options.data,u=e&&e.length||0,w=e&&e[this.index];if(t.update.call(this,g,!this.isNode&&b,p,v),this.isNode){const C=(I||[]).reduce((Y,A,G)=>this.id===A.id?G:Y,-1),y=P(I&&I[C]||{},e&&e[this.index]||{});e&&(w?e[this.index]=w:e.length=u),I?C>=0?I[C]=y:I.push(y):this.series.options.nodes=[y],c(b,!0)&&this.series.chart.redraw(p)}}m.compose=function _(g,b){const p=g.prototype,v=b.prototype;return p.setNodeState=d,p.setState=d,p.update=a,v.destroy=S,v.setData=s,b},m.createNode=function f(g){const b=this.pointClass,p=(e,u)=>R(e,w=>w.id===u);let I,v=p(this.nodes,g);if(!v){I=this.options.nodes&&p(this.options.nodes,g);const e=new b(this,T({className:"highcharts-node",isNode:!0,id:g,y:1},I));e.linksTo=[],e.linksFrom=[],e.getSum=function(){let u=0,w=0;return e.linksTo.forEach(C=>{u+=C.weight||0}),e.linksFrom.forEach(C=>{w+=C.weight||0}),Math.max(u,w)},e.offset=function(u,w){let C=0;for(let y=0;y<e[w].length;y++){if(e[w][y]===u)return C;C+=e[w][y].weight}},e.hasShape=function(){let u=0;return e.linksTo.forEach(w=>{w.outgoing&&u++}),!e.linksTo.length||u!==e.linksTo.length},e.index=this.nodes.push(e)-1,v=e}return v.formatPrefix="node",v.name=v.name||v.options.id||"",v.mass=c(v.options.mass,v.options.marker&&v.options.marker.radius,this.options.marker&&this.options.marker.radius,4),v},m.destroy=S,m.generatePoints=function n(){const g=this.chart,b={};M.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(p=>{p.linksFrom.length=0,p.linksTo.length=0,p.level=p.options.level}),this.points.forEach(p=>{D(p.from)&&(b[p.from]||(b[p.from]=this.createNode(p.from)),b[p.from].linksFrom.push(p),p.fromNode=b[p.from],g.styledMode?p.colorIndex=c(p.options.colorIndex,b[p.from].colorIndex):p.color=p.options.color||b[p.from].color),D(p.to)&&(b[p.to]||(b[p.to]=this.createNode(p.to)),b[p.to].linksTo.push(p),p.toNode=b[p.to]),p.name=p.name||p.id},this),this.nodeLookup=b},m.setNodeState=d,m.updateNode=a}(h||(h={})),h}),Z(k,"Series/Sankey/SankeyPoint.js",[k["Core/Series/Point.js"],k["Core/Series/SeriesRegistry.js"],k["Core/Utilities.js"]],function(O,L,M){const{column:t}=L.seriesTypes,{defined:D}=M;return class T extends t.prototype.pointClass{applyOptions(P,c){return O.prototype.applyOptions.call(this,P,c),D(this.options.level)&&(this.options.column=this.column=this.options.level),this}getClassName(){return(this.isNode?"highcharts-node ":"highcharts-link ")+O.prototype.getClassName.call(this)}getFromNode(){const P=this;let h,c=-1;for(let m=0;m<P.linksTo.length;m++){const _=P.linksTo[m];_.fromNode.column>c&&_.fromNode!==P&&(h=_.fromNode,c=h.column)}return{fromNode:h,fromColumn:c}}setNodeColumn(){const P=this;D(P.options.column)||(P.column=0===P.linksTo.length?0:P.getFromNode().fromColumn+1)}isValid(){return this.isNode||"number"==typeof this.weight}}}),Z(k,"Series/Sankey/SankeySeriesDefaults.js",[],function(){return{borderWidth:0,colorByPoint:!0,curveFactor:.33,dataLabels:{enabled:!0,backgroundColor:"none",crop:!1,nodeFormat:void 0,nodeFormatter:function(){return this.point.name},format:void 0,formatter:function(){},inside:!0},inactiveOtherPoints:!0,linkColorMode:"from",linkOpacity:.5,opacity:1,minLinkWidth:0,nodeAlignment:"center",nodeWidth:20,nodePadding:10,nodeDistance:30,showInLegend:!1,states:{hover:{linkOpacity:1,opacity:1},inactive:{linkOpacity:.1,opacity:.1,animation:{duration:50}}},tooltip:{followPointer:!0,headerFormat:'<span style="font-size: 0.8em">{series.name}</span><br/>',pointFormat:"{point.fromNode.name} \u2192 {point.toNode.name}: <b>{point.weight}</b><br/>",nodeFormat:"{point.name}: <b>{point.sum}</b><br/>"}}}),Z(k,"Series/Sankey/SankeyColumnComposition.js",[k["Core/Utilities.js"]],function(O){const{defined:L,relativeLength:M}=O;var t;return function(D){D.compose=function T(P,c){const h=P;return h.sankeyColumn=new R(h,c),h};class R{constructor(c,h){this.points=c,this.series=h}getTranslationFactor(c){const h=this.points,m=h.slice(),f=c.options.minLinkWidth||0;let S,s,n=0,d=(c.chart.plotSizeY||0)-(c.options.borderWidth||0)-(h.length-1)*c.nodePadding;for(;h.length;){for(n=d/h.sankeyColumn.sum(),S=!1,s=h.length;s--;)h[s].getSum()*n<f&&(h.splice(s,1),d=Math.max(0,d-f),S=!0);if(!S)break}h.length=0;for(const a of m)h.push(a);return n}top(c){const h=this.series,m=h.nodePadding,_=this.points.reduce((f,S)=>(f>0&&(f+=m),f+Math.max(S.getSum()*c,h.options.minLinkWidth||0)),0);return{top:0,center:.5,bottom:1}[h.options.nodeAlignment||"center"]*((h.chart.plotSizeY||0)-_)}left(c){const h=this.series,m=h.chart,_=h.options.equalNodes,f=m.inverted?m.plotHeight:m.plotWidth,S=h.nodePadding,n=this.points.reduce((s,d)=>(s>0&&(s+=S),s+(_?f/d.series.nodes.length-S:Math.max(d.getSum()*c,h.options.minLinkWidth||0))),0);return((m.plotSizeX||0)-Math.round(n))/2}sum(){return this.points.reduce((c,h)=>c+h.getSum(),0)}offset(c,h){const m=this.points,_=this.series,f=_.nodePadding;let n,S=0;if(_.is("organization")&&c.hangsFrom)return{absoluteTop:c.hangsFrom.nodeY};for(let s=0;s<m.length;s++){const d=m[s].getSum(),a=Math.max(d*h,_.options.minLinkWidth||0),g=c.options[_.chart.inverted?"offsetHorizontal":"offsetVertical"],b=c.options.offset||0;if(n=d?a+f:0,m[s]===c)return{relativeTop:S+(L(g)?M(g,a):M(b,n))};S+=n}}}D.SankeyColumnAdditions=R}(t||(t={})),t}),Z(k,"Series/TreeUtilities.js",[k["Core/Color/Color.js"],k["Core/Utilities.js"]],function(O,L){const{extend:M,isArray:t,isNumber:D,isObject:T,merge:R,pick:P,relativeLength:c}=L;return{getColor:function h(s,d){const a=d.index,b=d.parentColor,p=d.parentColorIndex,v=d.series,I=d.colors,e=d.siblings;let C,y,Y,A,G,K,q;return s&&(y=v.points[s.i],Y=d.mapOptionsToLevel[s.level]||{},C=y&&Y.colorByPoint,C&&(G=y.index%(I?I.length:v.chart.options.chart.colorCount),A=I&&I[G]),v.chart.styledMode||(K=P(y&&y.options.color,Y&&Y.color,A,b&&(B=>{const J=Y&&Y.colorVariation;return J&&"brightness"===J.key&&a&&e?O.parse(B).brighten(J.to*(a/e)).get():B})(b),v.color)),q=P(y&&y.options.colorIndex,Y&&Y.colorIndex,G,p,d.colorIndex)),{color:K,colorIndex:q}},getLevelOptions:function m(s){let a,g,b,p,v,I,d={};if(T(s))for(p=D(s.from)?s.from:1,I=s.levels,g={},a=T(s.defaults)?s.defaults:{},t(I)&&(g=I.reduce((e,u)=>{let w,C,y;return T(u)&&D(u.level)&&(y=R({},u),C=P(y.levelIsConstant,a.levelIsConstant),delete y.levelIsConstant,delete y.level,w=u.level+(C?0:p-1),T(e[w])?R(!0,e[w],y):e[w]=y),e},{})),v=D(s.to)?s.to:1,b=0;b<=v;b++)d[b]=R({},a,T(g[b])?g[b]:{});return d},getNodeWidth:function S(s,d){const{chart:a,options:g}=s,{nodeDistance:b=0,nodeWidth:p=0}=g,{plotSizeX:v=1}=a;if("auto"===p){if("string"==typeof b&&/%$/.test(b))return v/(d+parseFloat(b)/100*(d-1));const I=Number(b);return(v+I)/(d||1)-I}return c(p,v)},setTreeValues:function _(s,d){const a=d.before,g=d.idRoot,e=d.points[s.i],u=e&&e.options||{},w=[];let C=0;s.levelDynamic=s.level-(!1!==d.levelIsConstant?0:d.mapIdToNode[g].level),s.name=P(e&&e.name,""),s.visible=g===s.id||!0===d.visible,"function"==typeof a&&(s=a(s,d)),s.children.forEach((Y,A)=>{const G=M({},d);M(G,{index:A,siblings:s.children.length,visible:s.visible}),Y=_(Y,G),w.push(Y),Y.visible&&(C+=Y.val)});const y=P(u.value,C);return s.visible=y>=0&&(C>0||s.visible),s.children=w,s.childrenTotal=C,s.isLeaf=s.visible&&!C,s.val=y,s},updateRootId:function f(s){let d,a;return T(s)&&(a=T(s.options)?s.options:{},d=P(s.rootNode,a.rootId,""),T(s.userOptions)&&(s.userOptions.rootId=d),s.rootNode=d),d}}}),Z(k,"Series/Sankey/SankeySeries.js",[k["Core/Globals.js"],k["Series/NodesComposition.js"],k["Series/Sankey/SankeyPoint.js"],k["Series/Sankey/SankeySeriesDefaults.js"],k["Core/Series/SeriesRegistry.js"],k["Series/Sankey/SankeyColumnComposition.js"],k["Core/Color/Color.js"],k["Series/TreeUtilities.js"],k["Core/Utilities.js"]],function(O,L,M,t,D,T,R,P,c){const{column:h,line:m}=D.seriesTypes,{parse:_}=R,{getLevelOptions:f,getNodeWidth:S}=P,{clamp:n,extend:s,isObject:d,merge:a,pick:g,relativeLength:b,stableSort:p}=c;class v extends h{static getDLOptions(e){const u=d(e.optionsPoint)?e.optionsPoint.dataLabels:{},w=d(e.level)?e.level.dataLabels:{};return a({style:{}},w,u)}createNodeColumns(){const e=[];for(const u of this.nodes)u.setNodeColumn(),e[u.column]||(e[u.column]=T.compose([],this)),e[u.column].push(u);for(let u=0;u<e.length;u++)typeof e[u]>"u"&&(e[u]=T.compose([],this));return e}order(e,u){const w=this;if(typeof e.level>"u"){e.level=u;for(const C of e.linksFrom)C.toNode&&w.order(C.toNode,u+1)}}generatePoints(){if(L.generatePoints.apply(this,arguments),this.orderNodes){for(const e of this.nodes)0===e.linksTo.length&&this.order(e,0);p(this.nodes,(e,u)=>e.level-u.level)}}getNodePadding(){let e=this.options.nodePadding||0;if(this.nodeColumns){const u=this.nodeColumns.reduce((w,C)=>Math.max(w,C.length),0);u*e>this.chart.plotSizeY&&(e=this.chart.plotSizeY/u)}return e}hasData(){return!!this.processedXData.length}pointAttribs(e,u){if(!e)return{};const w=this,y=w.mapOptionsToLevel[(e.isNode?e.level:e.fromNode.level)||0]||{},Y=e.options,A=y.states&&y.states[u||""]||{},G=["colorByPoint","borderColor","borderWidth","linkOpacity","opacity"].reduce((q,$)=>(q[$]=g(A[$],Y[$],y[$],w.options[$]),q),{}),K=g(A.color,Y.color,G.colorByPoint?e.color:y.color);return e.isNode?{fill:K,stroke:G.borderColor,"stroke-width":G.borderWidth,opacity:G.opacity}:{fill:R.parse(K).setOpacity(G.linkOpacity).get()}}drawTracker(){h.prototype.drawTracker.call(this,this.points),h.prototype.drawTracker.call(this,this.nodes)}drawPoints(){h.prototype.drawPoints.call(this,this.points),h.prototype.drawPoints.call(this,this.nodes)}drawDataLabels(){h.prototype.drawDataLabels.call(this,this.points),h.prototype.drawDataLabels.call(this,this.nodes)}translate(){this.processedXData||this.processData(),this.generatePoints(),this.nodeColumns=this.createNodeColumns();const e=this,u=this.chart,w=this.options,C=this.nodeColumns;this.nodeWidth=S(this,C.length),this.nodePadding=this.getNodePadding(),this.translationFactor=C.reduce((Y,A)=>Math.min(Y,A.sankeyColumn.getTranslationFactor(e)),1/0),this.colDistance=(u.plotSizeX-this.nodeWidth-w.borderWidth)/Math.max(1,C.length-1),e.mapOptionsToLevel=f({from:1,levels:w.levels,to:C.length-1,defaults:{borderColor:w.borderColor,borderRadius:w.borderRadius,borderWidth:w.borderWidth,color:e.color,colorByPoint:w.colorByPoint,levelIsConstant:!0,linkColor:w.linkColor,linkLineWidth:w.linkLineWidth,linkOpacity:w.linkOpacity,states:w.states}});for(const Y of C)for(const A of Y)e.translateNode(A,Y);for(const Y of this.nodes)for(const A of Y.linksFrom)(A.weight||A.isNull)&&A.to&&(e.translateLink(A),A.allowShadow=!1)}translateLink(e){const u=(tt,ot)=>{const st=tt.offset(e,ot)*A;return Math.min(tt.nodeY+st,tt.nodeY+(tt.shapeArgs&&tt.shapeArgs.height||0)-z)},w=e.fromNode,C=e.toNode,y=this.chart,{inverted:Y}=y,A=this.translationFactor,G=this.options,K=g(e.linkColorMode,G.linkColorMode),q=(y.inverted?-this.colDistance:this.colDistance)*G.curveFactor,$=w.nodeX,B=C.nodeX,J=e.outgoing;let z=Math.max(e.weight*A,this.options.minLinkWidth),U=u(w,"linksFrom"),V=u(C,"linksTo"),H=this.nodeWidth,rt=B>$+H;if(y.inverted&&(U=y.plotSizeY-U,V=(y.plotSizeY||0)-V,H=-H,z=-z,rt=$>B),e.shapeType="path",e.linkBase=[U,U+z,V,V+z],rt&&"number"==typeof V)e.shapeArgs={d:[["M",$+H,U],["C",$+H+q,U,B-q,V,B,V],["L",B+(J?H:0),V+z/2],["L",B,V+z],["C",B-q,V+z,$+H+q,U+z,$+H,U+z],["Z"]]};else if("number"==typeof V){const st=B-20-z,at=B-20,ft=$+H,vt=ft+20,gt=vt+z,pt=U+z,ht=pt+20,mt=ht+(y.plotHeight-U-z),ut=mt+20,bt=ut+z,Ct=V+z,Pt=Ct+20,Nt=ut+.7*z,zt=B-.7*z,Bt=ft+.7*z;e.shapeArgs={d:[["M",ft,U],["C",Bt,U,gt,pt-.7*z,gt,ht],["L",gt,mt],["C",gt,Nt,Bt,bt,ft,bt],["L",B,bt],["C",zt,bt,st,Nt,st,mt],["L",st,Pt],["C",st,Ct-.7*z,zt,V,B,V],["L",B,Ct],["C",at,Ct,at,Ct,at,Pt],["L",at,mt],["C",at,ut,at,ut,B,ut],["L",ft,ut],["C",vt,ut,vt,ut,vt,mt],["L",vt,ht],["C",vt,pt,vt,pt,ft,pt],["Z"]]}}if(e.dlBox={x:$+(B-$+H)/2,y:U+(V-U)/2,height:z,width:0},e.tooltipPos=y.inverted?[y.plotSizeY-e.dlBox.y-z/2,y.plotSizeX-e.dlBox.x]:[e.dlBox.x,e.dlBox.y+z/2],e.y=e.plotY=1,e.x=e.plotX=1,!e.options.color)if("from"===K)e.color=w.color;else if("to"===K)e.color=C.color;else if("gradient"===K){const tt=_(w.color).get(),ot=_(C.color).get();e.color={linearGradient:{x1:1,x2:0,y1:0,y2:0},stops:[[0,Y?tt:ot],[1,Y?ot:tt]]}}}translateNode(e,u){const w=this.translationFactor,C=this.chart,y=this.options,{borderRadius:Y,borderWidth:A=0}=y,G=e.getSum(),K=Math.max(Math.round(G*w),this.options.minLinkWidth),q=Math.round(this.nodeWidth),$=Math.round(A)%2/2,B=u.sankeyColumn.offset(e,w),J=Math.floor(g(B.absoluteTop,u.sankeyColumn.top(w)+B.relativeTop))+$,z=Math.floor(this.colDistance*e.column+A/2)+b(e.options[C.inverted?"offsetVertical":"offsetHorizontal"]||0,q)+$,U=C.inverted?C.plotSizeX-z:z;if(e.sum=G,G){e.shapeType="roundedRect",e.nodeX=U,e.nodeY=J;let V=U,H=J,rt=e.options.width||y.width||q,tt=e.options.height||y.height||K;const ot=n(b("object"==typeof Y?Y.radius:Y||0,rt),0,K/2);C.inverted&&(V=U-q,H=C.plotSizeY-J-K,rt=e.options.height||y.height||q,tt=e.options.width||y.width||K),e.dlOptions=v.getDLOptions({level:this.mapOptionsToLevel[e.level],optionsPoint:e.options}),e.plotX=1,e.plotY=1,e.tooltipPos=C.inverted?[C.plotSizeY-H-tt/2,C.plotSizeX-V-rt/2]:[V+rt/2,H+tt/2],e.shapeArgs={x:V,y:H,width:rt,height:tt,r:ot,display:e.hasShape()?"":"none"}}else e.dlOptions={enabled:!1}}}return v.defaultOptions=a(h.defaultOptions,t),L.compose(M,v),s(v.prototype,{animate:m.prototype.animate,createNode:L.createNode,forceDL:!0,invertible:!0,isCartesian:!1,orderNodes:!0,noSharedTooltip:!0,pointArrayMap:["from","to","weight"],pointClass:M,searchPoint:O.noop}),D.registerSeriesType("sankey",v),v}),Z(k,"masters/modules/sankey.src.js",[k["Core/Globals.js"]],function(O){return O})},nt.exports?(Q.default=Q,nt.exports=Q):(dt=[X(21264)],void 0!==(et=function(k){return Q(k),Q.Highcharts=k,Q}.apply(_t,dt))&&(nt.exports=et))}}]);